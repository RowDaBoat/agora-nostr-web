import{d as Ke,f as A,s as H,a as y,b as Ye,c as qe,t as rt,j as rr}from"../chunks/CvdcXPsy.js";import{p as He,c as i,d as u,r as o,n as Se,t as Z,e as Oe,h as Le,s as ce,b as Xe,g as a,f as Ee,a as _,aR as Mt,u as at,aD as pr}from"../chunks/-h67YDCL.js";import{i as O}from"../chunks/DG6c9x1x.js";import{e as Pe,i as ze}from"../chunks/DBJvd_ZN.js";import{c as ct}from"../chunks/C52XBfTo.js";import{r as $e,j as ht,s as Ce,b as fr,a as st,i as Lt,h as Ft,c as gr}from"../chunks/vjiKTA8K.js";import{a as ar,s as nr}from"../chunks/CptlhHpT.js";import{$ as or}from"../chunks/CIoNh8li.js";import{b as it,d as Dt}from"../chunks/Bif2btQW.js";import{s as Te,n as Ne,N as mr,M as At,h as Ct,d as sr,v as ir,T as xr,y as Qe}from"../chunks/CAJmB2zv.js";import{u as br}from"../chunks/Xqq2-EA3.js";import{t as et}from"../chunks/DqdFoxb9.js";import{U as Pt}from"../chunks/drvMETkT.js";import{p as vt}from"../chunks/6dG0wjw8.js";import{D as _r,a as yr,R as wr}from"../chunks/y2uKFtaO.js";import{B as It,I as kr}from"../chunks/B3t7n0XN.js";import{D as Er}from"../chunks/BFIKOW_n.js";import{n as Bt}from"../chunks/CKCu7fRq.js";var Sr=Ye('<svg class="w-4 h-4 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>'),Ar=Ye('<svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>'),Ir=Ye('<svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg>'),Br=Ye('<svg class="w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'),Tr=A('<span class="text-xs bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400 px-2 py-0.5 rounded-full">Connected</span>'),Mr=A('<span class="text-xs bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-400 px-2 py-0.5 rounded-full">Offline</span>'),Cr=A('<span class="text-xs bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-400 px-2 py-0.5 rounded-full">Testing...</span>'),Rr=A('<div class="flex items-start gap-2"><span class="text-xs font-medium text-muted-foreground min-w-[60px]">Name:</span> <span class="text-sm font-semibold text-foreground"> </span></div>'),Nr=A('<div class="flex items-start gap-2"><span class="text-xs font-medium text-muted-foreground min-w-[60px]">About:</span> <span class="text-sm text-muted-foreground"> </span></div>'),Lr=A('<div class="flex items-start gap-2"><span class="text-xs font-medium text-muted-foreground min-w-[60px]">Software:</span> <span class="text-sm text-muted-foreground"> </span></div>'),Fr=A('<div class="flex items-start gap-2"><svg class="w-3 h-3 text-muted-foreground mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="text-sm text-muted-foreground"> </span></div>'),Dr=A('<div class="flex items-start gap-2"><svg class="w-3 h-3 text-muted-foreground mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="flex-1"><span class="text-xs text-muted-foreground"> <!></span></div></div>'),Pr=A('<span class="text-xs bg-yellow-100 dark:bg-yellow-950 text-yellow-700 dark:text-yellow-400 px-2 py-0.5 rounded-full">üí∞ Paid</span>'),Ur=A('<span class="text-xs bg-blue-100 dark:bg-blue-950 text-blue-700 dark:text-blue-400 px-2 py-0.5 rounded-full">üîê Auth Required</span>'),Hr=A('<span class="text-xs bg-neutral-100 dark:bg-muted text-muted-foreground px-2 py-0.5 rounded-full"> </span>'),Or=A('<div class="mt-2 space-y-1"><!> <!> <!> <!> <!> <div class="flex flex-wrap gap-2 mt-2"><!> <!> <!></div></div>'),jr=A('<div class="flex-1 min-w-0"><div class="flex flex-wrap items-center gap-2"><!> <span class="font-mono text-xs md:text-sm text-foreground break-all"> </span> <!> <!> <!></div> <!> <div class="flex items-center gap-4 mt-3"><label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-primary rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">Read</span></label> <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-primary rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">Write</span></label></div></div>');function Vr(f,l){He(l,!0);let{info:d}=br(l.relay.url);var h=jr(),p=i(h),v=i(p);{var x=F=>{var P=Sr();y(F,P)},s=F=>{var P=qe(),te=Le(P);{var ve=oe=>{var K=Ar();y(oe,K)},ae=oe=>{var K=qe(),se=Le(K);{var xe=R=>{var I=Ir();y(R,I)},be=R=>{var I=Br();y(R,I)};O(se,R=>{d?.software?R(xe):R(be,!1)},!0)}y(oe,K)};O(te,oe=>{d?.limitation?.auth_required?oe(ve):oe(ae,!1)},!0)}y(F,P)};O(v,F=>{d?.limitation?.payment_required?F(x):F(s,!1)})}var g=u(v,2),b=i(g,!0);o(g);var B=u(g,2);{var C=F=>{var P=Tr();y(F,P)};O(B,F=>{l.status==="connected"&&F(C)})}var T=u(B,2);{var w=F=>{var P=Mr();y(F,P)};O(T,F=>{l.status==="disconnected"&&l.connectionStatus[l.relay.url]!==void 0&&F(w)})}var E=u(T,2);{var S=F=>{var P=Cr();y(F,P)};O(E,F=>{l.status==="testing"&&F(S)})}o(p);var z=u(p,2);{var j=F=>{var P=Or(),te=i(P);{var ve=U=>{var W=Rr(),ie=u(i(W),2),pe=i(ie,!0);o(ie),o(W),Z(()=>H(pe,d.name)),y(U,W)};O(te,U=>{d.name&&U(ve)})}var ae=u(te,2);{var oe=U=>{var W=Nr(),ie=u(i(W),2),pe=i(ie,!0);o(ie),o(W),Z(()=>H(pe,d.description)),y(U,W)};O(ae,U=>{d.description&&U(oe)})}var K=u(ae,2);{var se=U=>{var W=Lr(),ie=u(i(W),2),pe=i(ie);o(ie),o(W),Z(()=>H(pe,`${d.software??""}${d.version?` v${d.version}`:""}`)),y(U,W)};O(K,U=>{(d.software||d.version)&&U(se)})}var xe=u(K,2);{var be=U=>{var W=Fr(),ie=u(i(W),2),pe=i(ie,!0);o(ie),o(W),Z(_e=>H(pe,_e),[()=>d.relay_countries.join(", ")]),y(U,W)};O(xe,U=>{d.relay_countries&&d.relay_countries.length>0&&U(be)})}var R=u(xe,2);{var I=U=>{var W=Dr(),ie=u(i(W),2),pe=i(ie),_e=i(pe),Ae=u(_e);{var Q=J=>{var fe=rt("...");y(J,fe)};O(Ae,J=>{d.supported_nips.length>5&&J(Q)})}o(pe),o(ie),o(W),Z(J=>H(_e,`Supports ${d.supported_nips.length??""} NIPs: ${J??""} `),[()=>d.supported_nips.slice(0,5).join(", ")]),y(U,W)};O(R,U=>{d.supported_nips&&d.supported_nips.length>0&&U(I)})}var V=u(R,2),re=i(V);{var $=U=>{var W=Pr();y(U,W)};O(re,U=>{d.limitation?.payment_required&&U($)})}var G=u(re,2);{var he=U=>{var W=Ur();y(U,W)};O(G,U=>{d.limitation?.auth_required&&U(he)})}var we=u(G,2);{var ge=U=>{var W=Hr(),ie=i(W);o(W),Z(()=>H(ie,`üìß ${d.contact??""}`)),y(U,W)};O(we,U=>{d.contact&&U(ge)})}o(V),o(P),y(F,P)};O(z,F=>{d&&F(j)})}var M=u(z,2),L=i(M),Y=i(L);$e(Y),Y.__change=F=>Te.updateRelay(l.relay.url,{read:F.currentTarget.checked}),Se(2),o(L);var N=u(L,2),D=i(N);$e(D),D.__change=F=>Te.updateRelay(l.relay.url,{write:F.currentTarget.checked}),Se(2),o(N),o(M),o(h),Z(()=>{H(b,l.relay.url),ht(Y,l.relay.read),ht(D,l.relay.write)}),y(f,h),Oe()}Ke(["change"]);var $r=Ye('<svg class="w-3 h-3 text-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),zr=A('<div><div class="flex flex-col md:flex-row md:items-start md:justify-between gap-3"><div class="flex-1"><div class="flex items-start md:items-center gap-3"><button><!></button> <!></div></div> <div class="flex items-center gap-2 ml-8 md:ml-0"><button class="p-1.5 md:p-2 hover:bg-neutral-100 dark:hover:bg-card rounded-lg transition-colors disabled:opacity-50" title="Test connection"><svg class="w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></button> <button class="p-1.5 md:p-2 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors group" title="Remove relay"><svg class="w-4 h-4 text-muted-foreground group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div>'),Kr=A('<div class="border-2 border-dashed border-primary-300 dark:border-primary-700 rounded-lg p-4"><div class="space-y-3"><input type="text" placeholder="wss://relay.example.com" class="w-full px-3 py-2 bg-card border border dark:border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"/> <div class="flex items-center gap-4"><label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-primary rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">Read</span></label> <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="w-4 h-4 text-primary rounded focus:ring-orange-500"/> <span class="text-sm text-muted-foreground">Write</span></label></div> <div class="flex gap-2"><button class="px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">Add Relay</button> <button class="px-4 py-2 bg-neutral-200 dark:bg-background text-muted-foreground rounded-lg hover:bg-neutral-300 dark:hover:bg-card transition-colors">Cancel</button></div></div></div>'),Yr=A('<button class="w-full border-2 border-dashed border rounded-lg p-4 hover:border-primary dark:hover:border-primary transition-colors group"><div class="flex items-center justify-center gap-2 text-muted-foreground group-hover:text-primary dark:group-hover:text-primary"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <span class="font-medium">Add Relay</span></div></button>'),Gr=A('<div class="space-y-6"><div><h2 class="text-xl font-semibold text-foreground mb-2">Relay Configuration</h2> <p class="text-sm text-muted-foreground">Configure which Nostr relays your app connects to for reading and publishing events.</p></div> <div class="bg-card border rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg> <div class="flex-1"><h3 class="font-medium text-foreground mb-1">Relay Authentication</h3> <p class="text-sm text-muted-foreground mb-3">Control how to handle relays that require authentication</p> <div class="space-y-2"><label class="flex items-start gap-3 cursor-pointer group"><input type="radio" name="authMode" value="always" class="w-4 h-4 text-primary mt-0.5 focus:ring-2 focus:ring-primary"/> <div class="flex-1"><span class="text-sm font-medium text-foreground group-hover:text-primary transition-colors">Always authenticate</span> <p class="text-xs text-muted-foreground mt-0.5">Automatically authenticate to any relay that requests it</p></div></label> <label class="flex items-start gap-3 cursor-pointer group"><input type="radio" name="authMode" value="ask" class="w-4 h-4 text-primary mt-0.5 focus:ring-2 focus:ring-primary"/> <div class="flex-1"><span class="text-sm font-medium text-foreground group-hover:text-primary transition-colors">Ask each time</span> <p class="text-xs text-muted-foreground mt-0.5">Show a confirmation dialog before authenticating to relays</p></div></label></div></div></div></div> <div class="grid grid-cols-3 gap-2 md:gap-4"><div class="bg-neutral-50 dark:bg-background rounded-lg p-3 md:p-4"><div class="flex items-center gap-1 md:gap-2 text-green-600 dark:text-green-400 mb-1"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"></path></svg> <span class="text-xs md:text-sm font-medium">Active</span></div> <div class="text-xl md:text-2xl font-bold text-foreground"> </div></div> <div class="bg-neutral-50 dark:bg-background rounded-lg p-3 md:p-4"><div class="flex items-center gap-1 md:gap-2 text-blue-600 dark:text-blue-400 mb-1"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg> <span class="text-xs md:text-sm font-medium">Read</span></div> <div class="text-xl md:text-2xl font-bold text-foreground"> </div></div> <div class="bg-neutral-50 dark:bg-background rounded-lg p-3 md:p-4"><div class="flex items-center gap-1 md:gap-2 text-primary dark:text-primary mb-1"><svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg> <span class="text-xs md:text-sm font-medium">Write</span></div> <div class="text-xl md:text-2xl font-bold text-foreground"> </div></div></div> <div class="space-y-2"><!> <!></div> <div class="bg-yellow-50 dark:bg-yellow-950/30 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"><div class="flex gap-3"><svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="text-sm text-yellow-800 dark:text-yellow-300"><p class="font-medium mb-1">Important</p> <p>Changes to relay configuration will take effect after refreshing the app.</p></div></div></div></div>');function qr(f,l){He(l,!0);let d=ce(!1),h=ce(Xe({url:"",read:!0,write:!0})),p=ce(null),v=ce(Xe({}));function x(){if(a(h).url&&!Te.relays.some(I=>I.url===a(h).url)){const I=a(h).url.startsWith("wss://")||a(h).url.startsWith("ws://")?a(h).url:`wss://${a(h).url}`;Te.addRelay({...a(h),enabled:!0,url:I}),_(h,{url:"",read:!0,write:!0},!0),_(d,!1)}}async function s(I){_(p,I,!0),_(v,{...a(v),[I]:"testing"},!0),setTimeout(()=>{const V=Math.random()>.3;_(v,{...a(v),[I]:V?"connected":"disconnected"},!0),_(p,null)},1500)}function g(I){return a(p)===I?"testing":a(v)[I]||"disconnected"}let b=Ee(()=>Te.relays);var B=Gr(),C=u(i(B),2),T=i(C),w=u(i(T),2),E=u(i(w),4),S=i(E),z=i(S);$e(z),z.__change=()=>Te.updateRelayAuth({mode:"always"}),Se(2),o(S);var j=u(S,2),M=i(j);$e(M),M.__change=()=>Te.updateRelayAuth({mode:"ask"}),Se(2),o(j),o(E),o(w),o(T),o(C);var L=u(C,2),Y=i(L),N=u(i(Y),2),D=i(N,!0);o(N),o(Y);var F=u(Y,2),P=u(i(F),2),te=i(P,!0);o(P),o(F);var ve=u(F,2),ae=u(i(ve),2),oe=i(ae,!0);o(ae),o(ve),o(L);var K=u(L,2),se=i(K);Pe(se,17,()=>a(b),I=>I.url,(I,V)=>{const re=Ee(()=>g(a(V).url));var $=zr(),G=i($),he=i(G),we=i(he),ge=i(we);ge.__click=()=>Te.toggleRelay(a(V).url);var U=i(ge);{var W=Q=>{var J=$r();y(Q,J)};O(U,Q=>{a(V).enabled&&Q(W)})}o(ge);var ie=u(ge,2);Vr(ie,{get relay(){return a(V)},get status(){return a(re)},get connectionStatus(){return a(v)}}),o(we),o(he);var pe=u(he,2),_e=i(pe);_e.__click=()=>s(a(V).url);var Ae=u(_e,2);Ae.__click=()=>Te.removeRelay(a(V).url),o(pe),o(G),o($),Z(()=>{Ce($,1,`border rounded-lg p-4 transition-all ${a(V).enabled?"bg-card border":"bg-neutral-50 dark:bg-background border opacity-60"}`),Ce(ge,1,`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 mt-0.5 md:mt-0 ${a(V).enabled?"bg-primary border-primary":"bg-card border dark:border"}`),_e.disabled=a(p)===a(V).url}),y(I,$)});var xe=u(se,2);{var be=I=>{var V=Kr(),re=i(V),$=i(re);$e($),Mt($,!0);var G=u($,2),he=i(G),we=i(he);$e(we),Se(2),o(he);var ge=u(he,2),U=i(ge);$e(U),Se(2),o(ge),o(G);var W=u(G,2),ie=i(W);ie.__click=x;var pe=u(ie,2);pe.__click=()=>{_(d,!1),_(h,{url:"",read:!0,write:!0},!0)},o(W),o(re),o(V),Z(()=>ie.disabled=!a(h).url),it($,()=>a(h).url,_e=>a(h).url=_e),Dt(we,()=>a(h).read,_e=>a(h).read=_e),Dt(U,()=>a(h).write,_e=>a(h).write=_e),y(I,V)},R=I=>{var V=Yr();V.__click=()=>_(d,!0),y(I,V)};O(xe,I=>{a(d)?I(be):I(R,!1)})}o(K),Se(2),o(B),Z((I,V,re)=>{ht(z,Te.relayAuth.mode==="always"),ht(M,Te.relayAuth.mode==="ask"),H(D,I),H(te,V),H(oe,re)},[()=>a(b).filter(I=>I.enabled).length,()=>a(b).filter(I=>I.enabled&&I.read).length,()=>a(b).filter(I=>I.enabled&&I.write).length]),y(f,B),Oe()}Ke(["change","click"]);var Xr=A('<button><div class="flex items-center gap-3"><div class="w-8 h-8 rounded-full flex-shrink-0"></div> <div class="flex flex-col items-start"><span class="font-medium text-foreground"> </span> <span class="text-xs text-muted-foreground"> </span></div></div></button>'),Wr=A('<div class="space-y-6"><div><h2 class="text-lg font-semibold text-foreground mb-4"> </h2> <p class="text-sm text-muted-foreground mb-6"> </p></div> <div class="border-b border pb-6"><div class="flex items-center gap-3 mb-4"><svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="text-base font-medium text-foreground"> </h3></div> <p class="text-sm text-muted-foreground mb-4"> </p> <div class="grid grid-cols-2 gap-3"><button><div class="flex items-center justify-center gap-2"><span class="text-lg">üá∫üá∏</span> <span class="font-medium">English</span></div></button> <button><div class="flex items-center justify-center gap-2"><span class="text-lg">üá™üá∏</span> <span class="font-medium">Espa√±ol</span></div></button> <button><div class="flex items-center justify-center gap-2"><span class="text-lg">üáÆüá∑</span> <span class="font-medium">ŸÅÿßÿ±ÿ≥€å</span></div></button> <button><div class="flex items-center justify-center gap-2"><span class="text-lg">üá∞üá≠</span> <span class="font-medium">·ûÅ·üí·ûò·üÇ·ûö</span></div></button> <button><div class="flex items-center justify-center gap-2"><span class="text-lg">üáøüáº</span> <span class="font-medium">Shona</span></div></button></div></div> <div class="border-b border pb-6"><div class="flex items-center gap-3 mb-4"><svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg> <h3 class="text-base font-medium text-foreground"> </h3></div> <p class="text-sm text-muted-foreground mb-4"> </p> <div class="grid grid-cols-3 gap-3"><button><div class="flex flex-col items-center gap-2"><span class="text-2xl">‚òÄÔ∏è</span> <span class="text-sm font-medium"> </span></div></button> <button><div class="flex flex-col items-center gap-2"><span class="text-2xl">üåô</span> <span class="text-sm font-medium"> </span></div></button> <button><div class="flex flex-col items-center gap-2"><span class="text-2xl">üíª</span> <span class="text-sm font-medium"> </span></div></button></div></div> <div><div class="flex items-center gap-3 mb-4"><svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg> <h3 class="text-base font-medium text-foreground">Accent Color</h3></div> <p class="text-sm text-muted-foreground mb-4">Choose your preferred accent color</p> <div class="grid grid-cols-2 gap-3"></div></div></div>');function Jr(f,l){He(l,!0);const d=()=>ar(or,"$t",h),[h,p]=nr();function v(Q){Te.setTheme(Q)}function x(Q){Te.setThemeColor(Q)}function s(Q){Te.setLanguage(Q)}const g=[{id:"orange",name:"Orange",hex:"#FF6B35",description:"Warm orange"},{id:"red",name:"Red",hex:"#E4104D",description:"Magenta / Raspberry red"},{id:"cyan",name:"Cyan",hex:"#00B7D3",description:"Bright cyan / Turquoise"},{id:"yellow",name:"Yellow",hex:"#FFD900",description:"Vivid yellow"},{id:"lime",name:"Lime",hex:"#97BF0D",description:"Lime green"}];var b=Wr(),B=i(b),C=i(B),T=i(C,!0);o(C);var w=u(C,2),E=i(w,!0);o(w),o(B);var S=u(B,2),z=i(S),j=u(i(z),2),M=i(j,!0);o(j),o(z);var L=u(z,2),Y=i(L,!0);o(L);var N=u(L,2),D=i(N);D.__click=()=>s("en");var F=u(D,2);F.__click=()=>s("es");var P=u(F,2);P.__click=()=>s("fa");var te=u(P,2);te.__click=()=>s("km");var ve=u(te,2);ve.__click=()=>s("sn"),o(N),o(S);var ae=u(S,2),oe=i(ae),K=u(i(oe),2),se=i(K,!0);o(K),o(oe);var xe=u(oe,2),be=i(xe,!0);o(xe);var R=u(xe,2),I=i(R);I.__click=()=>v("light");var V=i(I),re=u(i(V),2),$=i(re,!0);o(re),o(V),o(I);var G=u(I,2);G.__click=()=>v("dark");var he=i(G),we=u(i(he),2),ge=i(we,!0);o(we),o(he),o(G);var U=u(G,2);U.__click=()=>v("system");var W=i(U),ie=u(i(W),2),pe=i(ie,!0);o(ie),o(W),o(U),o(R),o(ae);var _e=u(ae,2),Ae=u(i(_e),4);Pe(Ae,21,()=>g,ze,(Q,J)=>{var fe=Xr();fe.__click=()=>x(a(J).id);var q=i(fe),le=i(q),ye=u(le,2),Ie=i(ye),X=i(Ie,!0);o(Ie);var ee=u(Ie,2),ke=i(ee,!0);o(ee),o(ye),o(q),o(fe),Z(()=>{Ce(fe,1,`px-4 py-3 rounded-lg transition-all ${Te.themeColor===a(J).id?"bg-primary-50 dark:bg-primary-950/30":"bg-card hover:bg-accent"}`),fr(le,`background-color: ${a(J).hex??""}`),H(X,a(J).name),H(ke,a(J).description)}),y(Q,fe)}),o(Ae),o(_e),o(b),Z((Q,J,fe,q,le,ye,Ie,X,ee)=>{H(T,Q),H(E,J),H(M,fe),H(Y,q),Ce(D,1,`px-4 py-3 rounded-lg transition-all ${Te.language==="en"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),Ce(F,1,`px-4 py-3 rounded-lg transition-all ${Te.language==="es"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),Ce(P,1,`px-4 py-3 rounded-lg transition-all ${Te.language==="fa"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),Ce(te,1,`px-4 py-3 rounded-lg transition-all ${Te.language==="km"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),Ce(ve,1,`px-4 py-3 rounded-lg transition-all ${Te.language==="sn"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),H(se,le),H(be,ye),Ce(I,1,`px-4 py-3 rounded-lg transition-all ${Te.theme==="light"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),H($,Ie),Ce(G,1,`px-4 py-3 rounded-lg transition-all ${Te.theme==="dark"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),H(ge,X),Ce(U,1,`px-4 py-3 rounded-lg transition-all ${Te.theme==="system"?"bg-primary-50 dark:bg-primary-950/30 text-primary dark:text-primary":"bg-card text-muted-foreground hover:bg-accent"}`),H(pe,ee)},[()=>d()("settings.sections.appearance.title"),()=>d()("settings.sections.appearance.description"),()=>d()("settings.sections.appearance.language"),()=>d()("settings.sections.appearance.languageDescription"),()=>d()("settings.sections.appearance.theme"),()=>d()("settings.sections.appearance.themeDescription"),()=>d()("settings.sections.appearance.themes.light"),()=>d()("settings.sections.appearance.themes.dark"),()=>d()("settings.sections.appearance.themes.system")]),y(f,b),Oe(),p()}Ke(["click"]);var Zr=A('<svg class="animate-spin h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>Saving...</span>',1),Qr=A("<span>Save Changes</span>"),ea=A('<div class="flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg"><div class="flex items-center space-x-2 text-sm text-orange-800 dark:text-orange-200"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <span>You have unsaved changes</span></div> <div class="flex space-x-2"><button class="px-3 py-1.5 text-sm border border-neutral-300 dark:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Discard</button> <button class="px-3 py-1.5 text-sm bg-primary hover:bg-accent-dark text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2"><!></button></div></div>'),ta=A('<div class="flex items-center justify-center p-8"><svg class="animate-spin h-6 w-6 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),ra=A('<span class="text-xs bg-primary-100 dark:bg-primary-900/50 text-primary dark:text-primary-300 px-2 py-0.5 rounded">Primary</span>'),aa=A('<button class="text-red-500 hover:text-red-600 p-2" aria-label="Remove server"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button>'),na=A('<div class="flex items-center justify-between p-3 bg-neutral-50 dark:bg-background rounded-lg"><div class="flex items-center space-x-3"><div class="flex flex-col space-y-1"><button class="text-muted-foreground hover:text-muted-foreground dark:hover:text-muted-foreground disabled:opacity-30 disabled:cursor-not-allowed p-0.5" aria-label="Move up"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg></button> <button class="text-muted-foreground hover:text-muted-foreground dark:hover:text-muted-foreground disabled:opacity-30 disabled:cursor-not-allowed p-0.5" aria-label="Move down"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div> <div><div class="flex items-center space-x-2"><span class="font-medium"> </span> <!></div> <a target="_blank" rel="noopener noreferrer" class="text-sm text-muted-foreground hover:text-primary dark:hover:text-primary flex items-center space-x-1"><span>Visit server</span> <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div></div> <!></div>'),oa=A('<div class="space-y-2"></div>'),sa=A('<div class="border border rounded-lg p-4"><label for="new-server" class="block text-sm font-medium mb-2">Add Blossom Server</label> <div class="flex space-x-2"><input id="new-server" type="text" placeholder="https://blossom.example.com" class="flex-1 px-3 py-2 bg-card border border dark:border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"/> <button class="px-4 py-2 bg-primary hover:bg-accent-dark text-foreground rounded-lg transition-colors">Add</button> <button class="p-2 text-muted-foreground hover:text-neutral-700 dark:hover:text-muted-foreground"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div></div>'),ia=A('<button class="flex items-center space-x-2 px-4 py-2 text-primary dark:text-primary hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <span>Add Server</span></button>'),la=A('<div class="flex items-center justify-between p-3 bg-neutral-50 dark:bg-background rounded-lg"><span class="text-sm"> </span> <button class="text-sm text-primary dark:text-primary hover:text-accent-dark dark:hover:text-primary-300">Add</button></div>'),da=A('<p class="text-sm text-muted-foreground">All suggested servers have been added</p>'),ua=A('<div class="space-y-6"><div><h3 class="text-lg font-semibold mb-2">Blossom Media Servers</h3> <p class="text-sm text-muted-foreground mb-4">Configure your Blossom servers for uploading images and media. The first server is your primary upload destination, and additional servers are used as mirrors for redundancy.</p></div> <!> <div class="space-y-3"><label class="text-sm font-medium">Your Blossom Servers</label> <!></div> <!> <div class="border-t border pt-4"><label class="text-sm font-medium block mb-3">Suggested Servers</label> <p class="text-sm text-muted-foreground mb-3">Popular public Blossom servers you can add to your list</p> <div class="space-y-2"><!> <!></div></div></div>');function ca(f,l){He(l,!0);const d=["https://blossom.primal.net","https://blossom.nostr.hu","https://blossom.oxtr.dev"];let h=ce(null),p=ce(Xe([])),v=ce(Xe([])),x=ce(""),s=ce(!1),g=ce(!0),b=ce(!1),B=Ee(()=>{if(!a(h))return a(p).length>0&&a(v).length>0;const R=a(h).servers;return R.length!==a(v).length?!0:!R.every((I,V)=>I===a(v)[V])});at(()=>{C()});async function C(){_(g,!0);try{const R=Ne.activeUser;if(!R){const re=localStorage.getItem("blossomServers");if(re)try{_(p,JSON.parse(re),!0),_(v,[...a(p)],!0)}catch{_(p,[d[0]],!0),_(v,[...a(p)],!0)}else _(p,[d[0]],!0),_(v,[...a(p)],!0);_(g,!1);return}const I={kinds:[mr.BlossomList],authors:[R.pubkey]},V=await Ne.fetchEvent(I);if(V)_(h,At.from(V),!0),_(p,a(h).servers,!0),_(v,[...a(p)],!0),localStorage.setItem("blossomServers",JSON.stringify(a(p)));else{_(h,new At(Ne),!0);const re=localStorage.getItem("blossomServers");if(re)try{_(p,JSON.parse(re),!0)}catch{_(p,[d[0]],!0)}else _(p,[d[0]],!0);_(v,[...a(p)],!0),a(h).servers=a(p)}}catch(R){console.error("Failed to load blossom list:",R),et.error("Failed to load your Blossom servers");const I=localStorage.getItem("blossomServers");if(I)try{_(p,JSON.parse(I),!0),_(v,[...a(p)],!0)}catch{_(p,[d[0]],!0),_(v,[...a(p)],!0)}else _(p,[d[0]],!0),_(v,[...a(p)],!0)}finally{_(g,!1)}}async function T(){if(!(!a(B)||a(b))){_(b,!0);try{if(!Ne.activeUser){_(p,[...a(v)],!0),localStorage.setItem("blossomServers",JSON.stringify(a(p))),et.success("Servers saved locally");return}a(h)||_(h,new At(Ne),!0),a(h).servers=a(v),await a(h).sign(),await a(h).publishReplaceable(),_(p,[...a(v)],!0),localStorage.setItem("blossomServers",JSON.stringify(a(p))),et.success("Blossom servers saved to Nostr")}catch(R){console.error("Failed to save blossom list:",R),et.error("Failed to save Blossom servers to Nostr")}finally{_(b,!1)}}}function w(){if(a(x).trim())try{const R=new URL(a(x).trim());if(!R.protocol.startsWith("http")){et.error("Please enter a valid HTTP or HTTPS URL");return}const I=R.origin+R.pathname.replace(/\/$/,"");if(a(v).includes(I)){et.error("This server is already in your list");return}_(v,[...a(v),I],!0),_(x,""),_(s,!1)}catch{et.error("Please enter a valid URL")}}function E(R){if(a(v).length===1){et.error("You must have at least one Blossom server");return}_(v,a(v).filter(I=>I!==R),!0)}function S(R){if(R===0)return;const I=[...a(v)];[I[R-1],I[R]]=[I[R],I[R-1]],_(v,I,!0)}function z(R){if(R===a(v).length-1)return;const I=[...a(v)];[I[R],I[R+1]]=[I[R+1],I[R]],_(v,I,!0)}function j(){_(v,[...a(p)],!0)}var M=ua(),L=u(i(M),2);{var Y=R=>{var I=ea(),V=u(i(I),2),re=i(V);re.__click=j;var $=u(re,2);$.__click=T;var G=i($);{var he=ge=>{var U=Zr();Se(2),y(ge,U)},we=ge=>{var U=Qr();y(ge,U)};O(G,ge=>{a(b)?ge(he):ge(we,!1)})}o($),o(V),o(I),Z(()=>{re.disabled=a(b),$.disabled=a(b)}),y(R,I)};O(L,R=>{a(B)&&R(Y)})}var N=u(L,2),D=u(i(N),2);{var F=R=>{var I=ta();y(R,I)},P=R=>{var I=oa();Pe(I,22,()=>a(v),V=>V,(V,re,$)=>{var G=na(),he=i(G),we=i(he),ge=i(we);ge.__click=()=>S(a($));var U=u(ge,2);U.__click=()=>z(a($)),o(we);var W=u(we,2),ie=i(W),pe=i(ie),_e=i(pe,!0);o(pe);var Ae=u(pe,2);{var Q=le=>{var ye=ra();y(le,ye)};O(Ae,le=>{a($)===0&&le(Q)})}o(ie);var J=u(ie,2);o(W),o(he);var fe=u(he,2);{var q=le=>{var ye=aa();ye.__click=()=>E(re),y(le,ye)};O(fe,le=>{a(v).length>1&&le(q)})}o(G),Z(()=>{ge.disabled=a($)===0,U.disabled=a($)===a(v).length-1,H(_e,re),st(J,"href",re)}),y(V,G)}),o(I),y(R,I)};O(D,R=>{a(g)?R(F):R(P,!1)})}o(N);var te=u(N,2);{var ve=R=>{var I=sa(),V=u(i(I),2),re=i(V);$e(re);var $=u(re,2);$.__click=w;var G=u($,2);G.__click=()=>{_(s,!1),_(x,"")},o(V),o(I),rr("keypress",re,he=>he.key==="Enter"&&w()),it(re,()=>a(x),he=>_(x,he)),y(R,I)},ae=R=>{var I=ia();I.__click=()=>_(s,!0),y(R,I)};O(te,R=>{a(s)?R(ve):R(ae,!1)})}var oe=u(te,2),K=u(i(oe),4),se=i(K);Pe(se,17,()=>d.filter(R=>!a(v).includes(R)),ze,(R,I)=>{var V=la(),re=i(V),$=i(re,!0);o(re);var G=u(re,2);G.__click=()=>_(v,[...a(v),a(I)],!0),o(V),Z(()=>H($,a(I))),y(R,V)});var xe=u(se,2);{var be=R=>{var I=da();y(R,I)};O(xe,R=>{d.every(I=>a(v).includes(I))&&R(be)})}o(K),o(oe),o(M),y(f,M),Oe()}Ke(["click"]);var De=(f=>(f.NO_USER="NO_USER",f.NO_PRIVATE_KEY="NO_PRIVATE_KEY",f.INVALID_PASSPHRASE="INVALID_PASSPHRASE",f.INVALID_PUBKEY="INVALID_PUBKEY",f.DUPLICATE_TRUSTEE="DUPLICATE_TRUSTEE",f.MAX_TRUSTEES_EXCEEDED="MAX_TRUSTEES_EXCEEDED",f.ENCRYPTION_FAILED="ENCRYPTION_FAILED",f.DECRYPTION_FAILED="DECRYPTION_FAILED",f.KEY_DERIVATION_FAILED="KEY_DERIVATION_FAILED",f.SHAMIR_SPLIT_FAILED="SHAMIR_SPLIT_FAILED",f.SHAMIR_JOIN_FAILED="SHAMIR_JOIN_FAILED",f.EVENT_CREATION_FAILED="EVENT_CREATION_FAILED",f.EVENT_SIGNING_FAILED="EVENT_SIGNING_FAILED",f.EVENT_PUBLISHING_FAILED="EVENT_PUBLISHING_FAILED",f.METADATA_PUBLISHING_FAILED="METADATA_PUBLISHING_FAILED",f.METADATA_FETCH_FAILED="METADATA_FETCH_FAILED",f.SHARD_FETCH_FAILED="SHARD_FETCH_FAILED",f.INVALID_THRESHOLD="INVALID_THRESHOLD",f.INVALID_SHARD_COUNT="INVALID_SHARD_COUNT",f.INSUFFICIENT_SHARDS="INSUFFICIENT_SHARDS",f.UNKNOWN_ERROR="UNKNOWN_ERROR",f))(De||{});class Ue extends Error{constructor(l,d,h){super(d),this.code=l,this.cause=h,this.name="BackupError",Error.captureStackTrace&&Error.captureStackTrace(this,Ue)}static from(l,d,h){if(l instanceof Ue)return l;const p=l instanceof Error?l.message:h;return new Ue(d,p,l)}static is(l,d){return l instanceof Ue&&l.code===d}getUserMessage(){return{NO_USER:"Please log in to create a backup",NO_PRIVATE_KEY:"Private key not found. Please log in with a private key.",INVALID_PASSPHRASE:"Passphrase does not meet security requirements",INVALID_PUBKEY:"Invalid public key format",DUPLICATE_TRUSTEE:"This person is already in your trustee list",MAX_TRUSTEES_EXCEEDED:"Maximum number of trustees reached",ENCRYPTION_FAILED:"Failed to encrypt data",DECRYPTION_FAILED:"Failed to decrypt data",KEY_DERIVATION_FAILED:"Failed to derive encryption key",SHAMIR_SPLIT_FAILED:"Failed to split secret into shards",SHAMIR_JOIN_FAILED:"Failed to reconstruct secret from shards",EVENT_CREATION_FAILED:"Failed to create event",EVENT_SIGNING_FAILED:"Failed to sign event",EVENT_PUBLISHING_FAILED:"Failed to publish event to relays",METADATA_PUBLISHING_FAILED:"Failed to publish backup metadata",METADATA_FETCH_FAILED:"Failed to fetch backup metadata",SHARD_FETCH_FAILED:"Failed to fetch shard",INVALID_THRESHOLD:"Invalid threshold value",INVALID_SHARD_COUNT:"Invalid shard count",INSUFFICIENT_SHARDS:"Not enough shards to reconstruct secret",UNKNOWN_ERROR:"An unknown error occurred"}[this.code]||this.message}}async function tt(f,l,d){try{return await f()}catch(h){throw Ue.from(h,l,d)}}var dt={},pt={},Ge={},Ut;function nt(){if(Ut)return Ge;Ut=1,Object.defineProperty(Ge,"__esModule",{value:!0});const f=29;Ge.PRIMITIVE_POLYNOMIAL=f;const l=128;Ge.BIT_PADDING=l;const d=8;Ge.BIT_COUNT=d;const h=2**d;Ge.BIT_SIZE=h;const p=2;Ge.BYTES_PER_CHARACTER=p;const v=6;Ge.MAX_BYTES_PER_CHARACTER=v;const x=h-1;Ge.MAX_SHARES=x;const s="utf8";Ge.UTF8_ENCODING=s;const g="binary";Ge.BIN_ENCODING=g;const b="hex";return Ge.HEX_ENCODING=b,Ge}var ft={},ot={},Ht;function Rt(){if(Ht)return ot;Ht=1,Object.defineProperty(ot,"__esModule",{value:!0});const f=nt(),l=new Array(4*f.BIT_SIZE).join("0");ot.zeroes=l;const d=new Array(f.BIT_SIZE).fill(0);ot.logs=d;const h=new Array(f.BIT_SIZE).fill(0);ot.exps=h;for(let p=0,v=1;p<f.BIT_SIZE;++p)h[p]=v,d[v]=p,v=v<<1,v>=f.BIT_SIZE&&(v=v^f.PRIMITIVE_POLYNOMIAL,v=v&f.MAX_SHARES);return ot}var Ot;function va(){if(Ot)return ft;Ot=1,Object.defineProperty(ft,"__esModule",{value:!0});const f=Rt(),l=nt();function d(h,p){const v=l.MAX_SHARES;let x=0,s=0;for(let g=0;g<p[0].length;++g)if(p[1][g]){x=f.logs[p[1][g]];for(let b=0;b<p[0].length;++b)if(g!==b){if(h===p[0][b]){x=-1;break}const B=f.logs[h^p[0][b]]-f.logs[p[0][g]^p[0][b]];x=(x+B+v)%v}s=s===-1?s:s^f.exps[x]}return s}return ft.lagrange=d,ft}var gt={},jt;function ha(){if(jt)return gt;jt=1,Object.defineProperty(gt,"__esModule",{value:!0});const f=nt();function l(d){const h={id:null,bits:null,data:null};Buffer.isBuffer(d)&&(d=d.toString("hex")),d[0]==="0"&&(d=d.slice(1)),h.bits=parseInt(d.slice(0,1),36);const x=`^([a-kA-K3-9]{1})([a-fA-F0-9]{${(f.BIT_SIZE-1).toString(16).length}})([a-fA-F0-9]+)$`,s=new RegExp(x).exec(d);return s&&s.length&&(h.id=parseInt(s[2],16),h.data=s[3]),h}return gt.parse=l,gt}var Je={},Vt;function lr(){if(Vt)return Je;Vt=1,Object.defineProperty(Je,"__esModule",{value:!0});const f=Rt(),l=nt();function d(g,b){let B=0,C=g;if(b||(b=l.BIT_COUNT),g&&(B=g.length%b),B){const T=-(b-B+g.length);C=(f.zeroes+g).slice(T)}return C}Je.pad=d;function h(g,b){const B=2*l.BYTES_PER_CHARACTER;if(b||(b=l.UTF8_ENCODING),typeof g=="string")return C();if(Buffer.isBuffer(g))return T();throw new TypeError("Expecting a string or buffer as input.");function C(){const w=[];if(l.UTF8_ENCODING===b)for(let E=0;E<g.length;++E){const S=Number(String.fromCharCode(g[E])).toString(16);w.unshift(d(S,B))}if(l.BIN_ENCODING===b){g=d(g,4);for(let E=g.length;E>=4;E-=4){const S=g.slice(E-4,E),z=parseInt(S,2).toString(16);w.unshift(z)}}return w.join("")}function T(){const w=[];for(let E=0;E<g.length;++E){const S=g[E].toString(16);w.unshift(d(S,B))}return w.join("")}}Je.hex=h;function p(g,b){const B=[];b||(b=16);for(let C=g.length-1;C>=0;--C){let T=null;if(Buffer.isBuffer(g)&&(T=g[C]),typeof g=="string"&&(T=parseInt(g[C],b)),Array.isArray(g)&&(T=g[C],typeof T=="string"&&(T=parseInt(T,b))),T===null)throw new TypeError("Unsupported type for chunk in buffer array.");B.unshift(d(T.toString(2),4))}return B.join("")}Je.bin=p;function v(g,b){g=parseInt(g,16);const B=(l.BIT_SIZE-1).toString(16).length,C=Buffer.concat([Buffer.from(l.BIT_COUNT.toString(36).toUpperCase()),Buffer.from(d(g.toString(16),B))]);return Buffer.isBuffer(b)===!1&&(b=Buffer.from(b)),Buffer.concat([C,b])}Je.encode=v;function x(g,b){const B=2*l.BYTES_PER_CHARACTER,C=B,T=[];Buffer.isBuffer(g)&&(g=g.toString(b)),g=d(g,B);for(let w=0;w<g.length;w+=C){const E=g.slice(w,w+C),S=parseInt(E,16);T.unshift(S)}return Buffer.from(T)}Je.decode=x;function s(g,b,B){const C=[];let T=0;for(Buffer.isBuffer(g)&&(g=g.toString()),b&&(g=d(g,b)),T=g.length;T>l.BIT_COUNT;T-=l.BIT_COUNT){const w=g.slice(T-l.BIT_COUNT,T),E=parseInt(w,B);C.push(E)}return C.push(parseInt(g.slice(0,T),B)),C}return Je.split=s,Je}var $t;function pa(){if($t)return pt;$t=1,Object.defineProperty(pt,"__esModule",{value:!0});const f=nt(),l=va(),d=ha(),h=lr();function p(v){const x=[],s=[],g=[],b=v.length;for(let E=0;E<b;++E){const S=d.parse(v[E]);if(s.indexOf(S.id)===-1){s.push(S.id);const z=h.bin(S.data,16),j=h.split(z,0,2);for(let M=0;M<j.length;++M)g[M]||(g[M]=[]),g[M][s.length-1]=j[M]}}for(let E=0;E<g.length;++E){const S=l.lagrange(0,[s,g[E]]);x.unshift(h.pad(S.toString(2)))}const B=x.join(""),C=B.slice(1+B.indexOf("1")),T=h.hex(C,f.BIN_ENCODING),w=h.decode(T);return Buffer.from(w)}return pt.combine=p,pt}var mt={},xt={},bt={},zt;function fa(){if(zt)return bt;zt=1,Object.defineProperty(bt,"__esModule",{value:!0});const f=nt(),l=Rt();function d(h,p){const v=f.MAX_SHARES,x=p.length-1;let s=0;for(let g=x;g>=0;--g)s=s===0?p[g]:l.exps[(l.logs[h]+l.logs[s])%v]^p[g];return s}return bt.horner=d,bt}var Kt;function ga(){if(Kt)return xt;Kt=1,Object.defineProperty(xt,"__esModule",{value:!0});const f=fa();function l(d,h){const p=h.random,v=[d],x=[],s=h.threshold,g=h.shares;for(let b=1;b<s;++b)v[b]=parseInt(p(1).toString("hex"),16);for(let b=1;b<1+g;++b)x[b-1]={x:b,y:f.horner(b,v)};return x}return xt.points=l,xt}var _t={},yt={exports:{}},wt={exports:{}},Tt={},ut={},Yt;function ma(){if(Yt)return ut;Yt=1,ut.byteLength=s,ut.toByteArray=b,ut.fromByteArray=T;for(var f=[],l=[],d=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,v=h.length;p<v;++p)f[p]=h[p],l[h.charCodeAt(p)]=p;l[45]=62,l[95]=63;function x(w){var E=w.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=w.indexOf("=");S===-1&&(S=E);var z=S===E?0:4-S%4;return[S,z]}function s(w){var E=x(w),S=E[0],z=E[1];return(S+z)*3/4-z}function g(w,E,S){return(E+S)*3/4-S}function b(w){var E,S=x(w),z=S[0],j=S[1],M=new d(g(w,z,j)),L=0,Y=j>0?z-4:z,N;for(N=0;N<Y;N+=4)E=l[w.charCodeAt(N)]<<18|l[w.charCodeAt(N+1)]<<12|l[w.charCodeAt(N+2)]<<6|l[w.charCodeAt(N+3)],M[L++]=E>>16&255,M[L++]=E>>8&255,M[L++]=E&255;return j===2&&(E=l[w.charCodeAt(N)]<<2|l[w.charCodeAt(N+1)]>>4,M[L++]=E&255),j===1&&(E=l[w.charCodeAt(N)]<<10|l[w.charCodeAt(N+1)]<<4|l[w.charCodeAt(N+2)]>>2,M[L++]=E>>8&255,M[L++]=E&255),M}function B(w){return f[w>>18&63]+f[w>>12&63]+f[w>>6&63]+f[w&63]}function C(w,E,S){for(var z,j=[],M=E;M<S;M+=3)z=(w[M]<<16&16711680)+(w[M+1]<<8&65280)+(w[M+2]&255),j.push(B(z));return j.join("")}function T(w){for(var E,S=w.length,z=S%3,j=[],M=16383,L=0,Y=S-z;L<Y;L+=M)j.push(C(w,L,L+M>Y?Y:L+M));return z===1?(E=w[S-1],j.push(f[E>>2]+f[E<<4&63]+"==")):z===2&&(E=(w[S-2]<<8)+w[S-1],j.push(f[E>>10]+f[E>>4&63]+f[E<<2&63]+"=")),j.join("")}return ut}var kt={};var Gt;function xa(){return Gt||(Gt=1,kt.read=function(f,l,d,h,p){var v,x,s=p*8-h-1,g=(1<<s)-1,b=g>>1,B=-7,C=d?p-1:0,T=d?-1:1,w=f[l+C];for(C+=T,v=w&(1<<-B)-1,w>>=-B,B+=s;B>0;v=v*256+f[l+C],C+=T,B-=8);for(x=v&(1<<-B)-1,v>>=-B,B+=h;B>0;x=x*256+f[l+C],C+=T,B-=8);if(v===0)v=1-b;else{if(v===g)return x?NaN:(w?-1:1)*(1/0);x=x+Math.pow(2,h),v=v-b}return(w?-1:1)*x*Math.pow(2,v-h)},kt.write=function(f,l,d,h,p,v){var x,s,g,b=v*8-p-1,B=(1<<b)-1,C=B>>1,T=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=h?0:v-1,E=h?1:-1,S=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(s=isNaN(l)?1:0,x=B):(x=Math.floor(Math.log(l)/Math.LN2),l*(g=Math.pow(2,-x))<1&&(x--,g*=2),x+C>=1?l+=T/g:l+=T*Math.pow(2,1-C),l*g>=2&&(x++,g/=2),x+C>=B?(s=0,x=B):x+C>=1?(s=(l*g-1)*Math.pow(2,p),x=x+C):(s=l*Math.pow(2,C-1)*Math.pow(2,p),x=0));p>=8;f[d+w]=s&255,w+=E,s/=256,p-=8);for(x=x<<p|s,b+=p;b>0;f[d+w]=x&255,w+=E,x/=256,b-=8);f[d+w-E]|=S*128}),kt}var qt;function ba(){return qt||(qt=1,(function(f){const l=ma(),d=xa(),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=s,f.SlowBuffer=M,f.INSPECT_MAX_BYTES=50;const p=2147483647;f.kMaxLength=p,s.TYPED_ARRAY_SUPPORT=v(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function x(r){if(r>p)throw new RangeError('The value "'+r+'" is invalid for option "size"');const e=new Uint8Array(r);return Object.setPrototypeOf(e,s.prototype),e}function s(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(r)}return g(r,e,t)}s.poolSize=8192;function g(r,e,t){if(typeof r=="string")return T(r,e);if(ArrayBuffer.isView(r))return E(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Me(r,ArrayBuffer)||r&&Me(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(r,SharedArrayBuffer)||r&&Me(r.buffer,SharedArrayBuffer)))return S(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const n=r.valueOf&&r.valueOf();if(n!=null&&n!==r)return s.from(n,e,t);const c=z(r);if(c)return c;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return s.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}s.from=function(r,e,t){return g(r,e,t)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function b(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function B(r,e,t){return b(r),r<=0?x(r):e!==void 0?typeof t=="string"?x(r).fill(e,t):x(r).fill(e):x(r)}s.alloc=function(r,e,t){return B(r,e,t)};function C(r){return b(r),x(r<0?0:j(r)|0)}s.allocUnsafe=function(r){return C(r)},s.allocUnsafeSlow=function(r){return C(r)};function T(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=L(r,e)|0;let n=x(t);const c=n.write(r,e);return c!==t&&(n=n.slice(0,c)),n}function w(r){const e=r.length<0?0:j(r.length)|0,t=x(e);for(let n=0;n<e;n+=1)t[n]=r[n]&255;return t}function E(r){if(Me(r,Uint8Array)){const e=new Uint8Array(r);return S(e.buffer,e.byteOffset,e.byteLength)}return w(r)}function S(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(r):t===void 0?n=new Uint8Array(r,e):n=new Uint8Array(r,e,t),Object.setPrototypeOf(n,s.prototype),n}function z(r){if(s.isBuffer(r)){const e=j(r.length)|0,t=x(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||je(r.length)?x(0):w(r);if(r.type==="Buffer"&&Array.isArray(r.data))return w(r.data)}function j(r){if(r>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return r|0}function M(r){return+r!=r&&(r=0),s.alloc(+r)}s.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==s.prototype},s.compare=function(e,t){if(Me(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),Me(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,c=t.length;for(let m=0,k=Math.min(n,c);m<k;++m)if(e[m]!==t[m]){n=e[m],c=t[m];break}return n<c?-1:c<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return s.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const c=s.allocUnsafe(t);let m=0;for(n=0;n<e.length;++n){let k=e[n];if(Me(k,Uint8Array))m+k.length>c.length?(s.isBuffer(k)||(k=s.from(k)),k.copy(c,m)):Uint8Array.prototype.set.call(c,k,m);else if(s.isBuffer(k))k.copy(c,m);else throw new TypeError('"list" argument must be an Array of Buffers');m+=k.length}return c};function L(r,e){if(s.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Me(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);const t=r.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let c=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ye(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return ee(r).length;default:if(c)return n?-1:ye(r).length;e=(""+e).toLowerCase(),c=!0}}s.byteLength=L;function Y(r,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return V(this,e,t);case"utf8":case"utf-8":return se(this,e,t);case"ascii":return R(this,e,t);case"latin1":case"binary":return I(this,e,t);case"base64":return K(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}s.prototype._isBuffer=!0;function N(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}s.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)N(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)N(this,t,t+3),N(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)N(this,t,t+7),N(this,t+1,t+6),N(this,t+2,t+5),N(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?se(this,0,e):Y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:s.compare(this,e)===0},s.prototype.inspect=function(){let e="";const t=f.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h&&(s.prototype[h]=s.prototype.inspect),s.prototype.compare=function(e,t,n,c,m){if(Me(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),c===void 0&&(c=0),m===void 0&&(m=this.length),t<0||n>e.length||c<0||m>this.length)throw new RangeError("out of range index");if(c>=m&&t>=n)return 0;if(c>=m)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,c>>>=0,m>>>=0,this===e)return 0;let k=m-c,de=n-t;const Be=Math.min(k,de),ne=this.slice(c,m),ue=e.slice(t,n);for(let me=0;me<Be;++me)if(ne[me]!==ue[me]){k=ne[me],de=ue[me];break}return k<de?-1:de<k?1:0};function D(r,e,t,n,c){if(r.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,je(t)&&(t=c?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(c)return-1;t=r.length-1}else if(t<0)if(c)t=0;else return-1;if(typeof e=="string"&&(e=s.from(e,n)),s.isBuffer(e))return e.length===0?-1:F(r,e,t,n,c);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):F(r,[e],t,n,c);throw new TypeError("val must be string, number or Buffer")}function F(r,e,t,n,c){let m=1,k=r.length,de=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||e.length<2)return-1;m=2,k/=2,de/=2,t/=2}function Be(ue,me){return m===1?ue[me]:ue.readUInt16BE(me*m)}let ne;if(c){let ue=-1;for(ne=t;ne<k;ne++)if(Be(r,ne)===Be(e,ue===-1?0:ne-ue)){if(ue===-1&&(ue=ne),ne-ue+1===de)return ue*m}else ue!==-1&&(ne-=ne-ue),ue=-1}else for(t+de>k&&(t=k-de),ne=t;ne>=0;ne--){let ue=!0;for(let me=0;me<de;me++)if(Be(r,ne+me)!==Be(e,me)){ue=!1;break}if(ue)return ne}return-1}s.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},s.prototype.indexOf=function(e,t,n){return D(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return D(this,e,t,n,!1)};function P(r,e,t,n){t=Number(t)||0;const c=r.length-t;n?(n=Number(n),n>c&&(n=c)):n=c;const m=e.length;n>m/2&&(n=m/2);let k;for(k=0;k<n;++k){const de=parseInt(e.substr(k*2,2),16);if(je(de))return k;r[t+k]=de}return k}function te(r,e,t,n){return ke(ye(e,r.length-t),r,t,n)}function ve(r,e,t,n){return ke(Ie(e),r,t,n)}function ae(r,e,t,n){return ke(ee(e),r,t,n)}function oe(r,e,t,n){return ke(X(e,r.length-t),r,t,n)}s.prototype.write=function(e,t,n,c){if(t===void 0)c="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")c=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,c===void 0&&(c="utf8")):(c=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const m=this.length-t;if((n===void 0||n>m)&&(n=m),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");let k=!1;for(;;)switch(c){case"hex":return P(this,e,t,n);case"utf8":case"utf-8":return te(this,e,t,n);case"ascii":case"latin1":case"binary":return ve(this,e,t,n);case"base64":return ae(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,e,t,n);default:if(k)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),k=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(r,e,t){return e===0&&t===r.length?l.fromByteArray(r):l.fromByteArray(r.slice(e,t))}function se(r,e,t){t=Math.min(r.length,t);const n=[];let c=e;for(;c<t;){const m=r[c];let k=null,de=m>239?4:m>223?3:m>191?2:1;if(c+de<=t){let Be,ne,ue,me;switch(de){case 1:m<128&&(k=m);break;case 2:Be=r[c+1],(Be&192)===128&&(me=(m&31)<<6|Be&63,me>127&&(k=me));break;case 3:Be=r[c+1],ne=r[c+2],(Be&192)===128&&(ne&192)===128&&(me=(m&15)<<12|(Be&63)<<6|ne&63,me>2047&&(me<55296||me>57343)&&(k=me));break;case 4:Be=r[c+1],ne=r[c+2],ue=r[c+3],(Be&192)===128&&(ne&192)===128&&(ue&192)===128&&(me=(m&15)<<18|(Be&63)<<12|(ne&63)<<6|ue&63,me>65535&&me<1114112&&(k=me))}}k===null?(k=65533,de=1):k>65535&&(k-=65536,n.push(k>>>10&1023|55296),k=56320|k&1023),n.push(k),c+=de}return be(n)}const xe=4096;function be(r){const e=r.length;if(e<=xe)return String.fromCharCode.apply(String,r);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,r.slice(n,n+=xe));return t}function R(r,e,t){let n="";t=Math.min(r.length,t);for(let c=e;c<t;++c)n+=String.fromCharCode(r[c]&127);return n}function I(r,e,t){let n="";t=Math.min(r.length,t);for(let c=e;c<t;++c)n+=String.fromCharCode(r[c]);return n}function V(r,e,t){const n=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let c="";for(let m=e;m<t;++m)c+=Fe[r[m]];return c}function re(r,e,t){const n=r.slice(e,t);let c="";for(let m=0;m<n.length-1;m+=2)c+=String.fromCharCode(n[m]+n[m+1]*256);return c}s.prototype.slice=function(e,t){const n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);const c=this.subarray(e,t);return Object.setPrototypeOf(c,s.prototype),c};function $(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||$(e,t,this.length);let c=this[e],m=1,k=0;for(;++k<t&&(m*=256);)c+=this[e+k]*m;return c},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||$(e,t,this.length);let c=this[e+--t],m=1;for(;t>0&&(m*=256);)c+=this[e+--t]*m;return c},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e=e>>>0,t||$(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||$(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||$(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||$(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||$(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Re(function(e){e=e>>>0,J(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);const c=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,m=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(c)+(BigInt(m)<<BigInt(32))}),s.prototype.readBigUInt64BE=Re(function(e){e=e>>>0,J(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);const c=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],m=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(c)<<BigInt(32))+BigInt(m)}),s.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||$(e,t,this.length);let c=this[e],m=1,k=0;for(;++k<t&&(m*=256);)c+=this[e+k]*m;return m*=128,c>=m&&(c-=Math.pow(2,8*t)),c},s.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||$(e,t,this.length);let c=t,m=1,k=this[e+--c];for(;c>0&&(m*=256);)k+=this[e+--c]*m;return m*=128,k>=m&&(k-=Math.pow(2,8*t)),k},s.prototype.readInt8=function(e,t){return e=e>>>0,t||$(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){e=e>>>0,t||$(e,2,this.length);const n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},s.prototype.readInt16BE=function(e,t){e=e>>>0,t||$(e,2,this.length);const n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},s.prototype.readInt32LE=function(e,t){return e=e>>>0,t||$(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e=e>>>0,t||$(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Re(function(e){e=e>>>0,J(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);const c=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(c)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),s.prototype.readBigInt64BE=Re(function(e){e=e>>>0,J(e,"offset");const t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);const c=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(c)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),s.prototype.readFloatLE=function(e,t){return e=e>>>0,t||$(e,4,this.length),d.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e=e>>>0,t||$(e,4,this.length),d.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||$(e,8,this.length),d.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||$(e,8,this.length),d.read(this,e,!1,52,8)};function G(r,e,t,n,c,m){if(!s.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<m)throw new RangeError('"value" argument is out of bounds');if(t+n>r.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,n,c){if(e=+e,t=t>>>0,n=n>>>0,!c){const de=Math.pow(2,8*n)-1;G(this,e,t,n,de,0)}let m=1,k=0;for(this[t]=e&255;++k<n&&(m*=256);)this[t+k]=e/m&255;return t+n},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,n,c){if(e=+e,t=t>>>0,n=n>>>0,!c){const de=Math.pow(2,8*n)-1;G(this,e,t,n,de,0)}let m=n-1,k=1;for(this[t+m]=e&255;--m>=0&&(k*=256);)this[t+m]=e/k&255;return t+n},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,1,255,0),this[t]=e&255,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function he(r,e,t,n,c){Q(e,n,c,r,t,7);let m=Number(e&BigInt(4294967295));r[t++]=m,m=m>>8,r[t++]=m,m=m>>8,r[t++]=m,m=m>>8,r[t++]=m;let k=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=k,k=k>>8,r[t++]=k,k=k>>8,r[t++]=k,k=k>>8,r[t++]=k,t}function we(r,e,t,n,c){Q(e,n,c,r,t,7);let m=Number(e&BigInt(4294967295));r[t+7]=m,m=m>>8,r[t+6]=m,m=m>>8,r[t+5]=m,m=m>>8,r[t+4]=m;let k=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=k,k=k>>8,r[t+2]=k,k=k>>8,r[t+1]=k,k=k>>8,r[t]=k,t+8}s.prototype.writeBigUInt64LE=Re(function(e,t=0){return he(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Re(function(e,t=0){return we(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,n,c){if(e=+e,t=t>>>0,!c){const Be=Math.pow(2,8*n-1);G(this,e,t,n,Be-1,-Be)}let m=0,k=1,de=0;for(this[t]=e&255;++m<n&&(k*=256);)e<0&&de===0&&this[t+m-1]!==0&&(de=1),this[t+m]=(e/k>>0)-de&255;return t+n},s.prototype.writeIntBE=function(e,t,n,c){if(e=+e,t=t>>>0,!c){const Be=Math.pow(2,8*n-1);G(this,e,t,n,Be-1,-Be)}let m=n-1,k=1,de=0;for(this[t+m]=e&255;--m>=0&&(k*=256);)e<0&&de===0&&this[t+m+1]!==0&&(de=1),this[t+m]=(e/k>>0)-de&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},s.prototype.writeBigInt64LE=Re(function(e,t=0){return he(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Re(function(e,t=0){return we(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(r,e,t,n,c,m){if(t+n>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function U(r,e,t,n,c){return e=+e,t=t>>>0,c||ge(r,e,t,4),d.write(r,e,t,n,23,4),t+4}s.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)};function W(r,e,t,n,c){return e=+e,t=t>>>0,c||ge(r,e,t,8),d.write(r,e,t,n,52,8),t+8}s.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,c){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!c&&c!==0&&(c=this.length),t>=e.length&&(t=e.length),t||(t=0),c>0&&c<n&&(c=n),c===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),e.length-t<c-n&&(c=e.length-t+n);const m=c-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,c):Uint8Array.prototype.set.call(e,this.subarray(n,c),t),m},s.prototype.fill=function(e,t,n,c){if(typeof e=="string"){if(typeof t=="string"?(c=t,t=0,n=this.length):typeof n=="string"&&(c=n,n=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!s.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(e.length===1){const k=e.charCodeAt(0);(c==="utf8"&&k<128||c==="latin1")&&(e=k)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let m;if(typeof e=="number")for(m=t;m<n;++m)this[m]=e;else{const k=s.isBuffer(e)?e:s.from(e,c),de=k.length;if(de===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(m=0;m<n-t;++m)this[m+t]=k[m%de]}return this};const ie={};function pe(r,e,t){ie[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(c){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:c,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError),pe("ERR_OUT_OF_RANGE",function(r,e,t){let n=`The value of "${r}" is out of range.`,c=t;return Number.isInteger(t)&&Math.abs(t)>2**32?c=_e(String(t)):typeof t=="bigint"&&(c=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(c=_e(c)),c+="n"),n+=` It must be ${e}. Received ${c}`,n},RangeError);function _e(r){let e="",t=r.length;const n=r[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function Ae(r,e,t){J(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&fe(e,r.length-(t+1))}function Q(r,e,t,n,c,m){if(r>t||r<e){const k=typeof e=="bigint"?"n":"";let de;throw e===0||e===BigInt(0)?de=`>= 0${k} and < 2${k} ** ${(m+1)*8}${k}`:de=`>= -(2${k} ** ${(m+1)*8-1}${k}) and < 2 ** ${(m+1)*8-1}${k}`,new ie.ERR_OUT_OF_RANGE("value",de,r)}Ae(n,c,m)}function J(r,e){if(typeof r!="number")throw new ie.ERR_INVALID_ARG_TYPE(e,"number",r)}function fe(r,e,t){throw Math.floor(r)!==r?(J(r,t),new ie.ERR_OUT_OF_RANGE("offset","an integer",r)):e<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,r)}const q=/[^+/0-9A-Za-z-_]/g;function le(r){if(r=r.split("=")[0],r=r.trim().replace(q,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function ye(r,e){e=e||1/0;let t;const n=r.length;let c=null;const m=[];for(let k=0;k<n;++k){if(t=r.charCodeAt(k),t>55295&&t<57344){if(!c){if(t>56319){(e-=3)>-1&&m.push(239,191,189);continue}else if(k+1===n){(e-=3)>-1&&m.push(239,191,189);continue}c=t;continue}if(t<56320){(e-=3)>-1&&m.push(239,191,189),c=t;continue}t=(c-55296<<10|t-56320)+65536}else c&&(e-=3)>-1&&m.push(239,191,189);if(c=null,t<128){if((e-=1)<0)break;m.push(t)}else if(t<2048){if((e-=2)<0)break;m.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;m.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;m.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return m}function Ie(r){const e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function X(r,e){let t,n,c;const m=[];for(let k=0;k<r.length&&!((e-=2)<0);++k)t=r.charCodeAt(k),n=t>>8,c=t%256,m.push(c),m.push(n);return m}function ee(r){return l.toByteArray(le(r))}function ke(r,e,t,n){let c;for(c=0;c<n&&!(c+t>=e.length||c>=r.length);++c)e[c+t]=r[c];return c}function Me(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function je(r){return r!==r}const Fe=(function(){const r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const n=t*16;for(let c=0;c<16;++c)e[n+c]=r[t]+r[c]}return e})();function Re(r){return typeof BigInt>"u"?We:r}function We(){throw new Error("BigInt not supported")}})(Tt)),Tt}var Xt;function _a(){return Xt||(Xt=1,(function(f,l){var d=ba(),h=d.Buffer;function p(x,s){for(var g in x)s[g]=x[g]}h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?f.exports=d:(p(d,l),l.Buffer=v);function v(x,s,g){return h(x,s,g)}v.prototype=Object.create(h.prototype),p(h,v),v.from=function(x,s,g){if(typeof x=="number")throw new TypeError("Argument must not be a number");return h(x,s,g)},v.alloc=function(x,s,g){if(typeof x!="number")throw new TypeError("Argument must be a number");var b=h(x);return s!==void 0?typeof g=="string"?b.fill(s,g):b.fill(s):b.fill(0),b},v.allocUnsafe=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return h(x)},v.allocUnsafeSlow=function(x){if(typeof x!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(x)}})(wt,wt.exports)),wt.exports}var Wt;function ya(){if(Wt)return yt.exports;Wt=1;var f=65536,l=4294967295;function d(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var h=_a().Buffer,p=globalThis.crypto||globalThis.msCrypto;p&&p.getRandomValues?yt.exports=v:yt.exports=d;function v(x,s){if(x>l)throw new RangeError("requested too many random bytes");var g=h.allocUnsafe(x);if(x>0)if(x>f)for(var b=0;b<x;b+=f)p.getRandomValues(g.slice(b,b+f));else p.getRandomValues(g);return typeof s=="function"?process.nextTick(function(){s(null,g)}):g}return yt.exports}var Jt;function wa(){if(Jt)return _t;Jt=1,Object.defineProperty(_t,"__esModule",{value:!0});const f=ya();function l(d){return f(32+d).slice(32)}return _t.random=l,_t}var Zt;function ka(){if(Zt)return mt;Zt=1,Object.defineProperty(mt,"__esModule",{value:!0});const f=ga(),l=wa(),d=lr(),h=nt(),p=new Array(2*h.MAX_SHARES);function v(x,s){if(!x||x&&x.length===0)throw new TypeError("Secret cannot be empty.");if(typeof x=="string"&&(x=Buffer.from(x)),Buffer.isBuffer(x)===!1)throw new TypeError("Expecting secret to be a buffer.");if(!s||typeof s!="object")throw new TypeError("Expecting options to be an object.");if(typeof s.shares!="number")throw new TypeError("Expecting shares to be a number.");if(!s.shares||s.shares<0||s.shares>h.MAX_SHARES)throw new RangeError(`Shares must be 0 < shares <= ${h.MAX_SHARES}.`);if(typeof s.threshold!="number")throw new TypeError("Expecting threshold to be a number.");if(!s.threshold||s.threshold<0||s.threshold>s.shares)throw new RangeError(`Threshold must be 0 < threshold <= ${s.shares}.`);(!s.random||typeof s.random!="function")&&(s.random=l.random);const g=d.hex(x),b=d.bin(g,16),B=d.split("1"+b,h.BIT_PADDING,2);for(let T=0;T<B.length;++T){const w=f.points(B[T],s);for(let E=0;E<s.shares;++E){p[E]||(p[E]=w[E].x.toString(16));const S=w[E].y.toString(2),z=p[E+h.MAX_SHARES]||"";p[E+h.MAX_SHARES]=d.pad(S)+z}}for(let T=0;T<s.shares;++T){const w=p[T],E=d.hex(p[T+h.MAX_SHARES],h.BIN_ENCODING);p[T]=d.encode(w,E),p[T]=Buffer.from("0"+p[T],"hex")}const C=p.slice(0,s.shares);return p.fill(0),C}return mt.split=v,mt}var Qt;function Ea(){if(Qt)return dt;Qt=1,Object.defineProperty(dt,"__esModule",{value:!0});const f=pa();dt.combine=f.combine;const l=ka();return dt.split=l.split,dt}var Sa=Ea();const Ze={MIN_LENGTH:12,PBKDF2_ITERATIONS:6e5,SALT_LENGTH:16,IV_LENGTH:12,AES_KEY_LENGTH:256,HASH_ALGORITHM:"SHA-256"};function Aa(f){const l=[];return f.length<Ze.MIN_LENGTH&&l.push(`Passphrase must be at least ${Ze.MIN_LENGTH} characters long`),/[A-Z]/.test(f)||l.push("Passphrase must contain at least one uppercase letter"),/[a-z]/.test(f)||l.push("Passphrase must contain at least one lowercase letter"),/[0-9]/.test(f)||l.push("Passphrase must contain at least one number"),/[^A-Za-z0-9]/.test(f)||l.push("Passphrase must contain at least one symbol"),{valid:l.length===0,errors:l}}async function Ia(f,l){return tt(async()=>{const d=new TextEncoder,h=await crypto.subtle.importKey("raw",d.encode(f),"PBKDF2",!1,["deriveBits","deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:l,iterations:Ze.PBKDF2_ITERATIONS,hash:Ze.HASH_ALGORITHM},h,{name:"AES-GCM",length:Ze.AES_KEY_LENGTH},!1,["encrypt","decrypt"])},De.KEY_DERIVATION_FAILED,"Failed to derive key from passphrase")}async function Ba(f,l){return tt(async()=>{const d=crypto.getRandomValues(new Uint8Array(Ze.SALT_LENGTH)),h=crypto.getRandomValues(new Uint8Array(Ze.IV_LENGTH)),p=await Ia(l,d),v=new TextEncoder,x=await crypto.subtle.encrypt({name:"AES-GCM",iv:h},p,v.encode(f)),s=Ze.SALT_LENGTH,g=Ze.IV_LENGTH,b=new Uint8Array(s+g+x.byteLength);return b.set(d,0),b.set(h,s),b.set(new Uint8Array(x),s+g),btoa(String.fromCharCode(...b))},De.ENCRYPTION_FAILED,"Failed to encrypt data")}const Ve={MIN_THRESHOLD:2,MAX_THRESHOLD:5,MIN_TOTAL_SHARDS:3,MAX_TOTAL_SHARDS:10};function Ta(f){const l=new Uint8Array(f.length/2);for(let d=0;d<f.length;d+=2)l[d/2]=parseInt(f.substring(d,d+2),16);return l}function Ma(f){return Array.from(f).map(l=>l.toString(16).padStart(2,"0")).join("")}function Ca(f){const{threshold:l,totalShards:d}=f;if(l<Ve.MIN_THRESHOLD||l>Ve.MAX_THRESHOLD)throw new Ue(De.INVALID_THRESHOLD,`Threshold must be between ${Ve.MIN_THRESHOLD} and ${Ve.MAX_THRESHOLD}`);if(d<Ve.MIN_TOTAL_SHARDS||d>Ve.MAX_TOTAL_SHARDS)throw new Ue(De.INVALID_SHARD_COUNT,`Total shards must be between ${Ve.MIN_TOTAL_SHARDS} and ${Ve.MAX_TOTAL_SHARDS}`);if(l>d)throw new Ue(De.INVALID_THRESHOLD,"Threshold cannot be greater than total shards")}function Ra(f,l,d){try{const h=Ta(f);return Sa.split(h,{shares:d,threshold:l}).map(v=>Ma(v))}catch(h){throw Ue.from(h,De.SHAMIR_SPLIT_FAILED,"Failed to split secret into shards")}}async function Na(f,l,d,h){const p=await Ba(f,l);return{index:d,encryptedData:p,totalShards:h.totalShards,threshold:h.threshold}}async function La(f,l,d){Ca(d);const h=Ra(f,d.threshold,d.totalShards),p=[];for(let v=0;v<h.length;v++){const x=await Na(h[v],l,v+1,d);p.push(x)}return p}const dr={EVENT_KIND:3,SECONDS_PER_DAY:1440*60};async function Fa(){return tt(async()=>{const f=Ct.generate(),l=await f.user();return[f,l.pubkey]},De.EVENT_CREATION_FAILED,"Failed to generate disposable key")}function Da(f){const l=Math.floor(Date.now()/1e3),d=f*dr.SECONDS_PER_DAY;return l+d}function Pa(f){return JSON.stringify({encryptedShard:f.encryptedData,index:f.index,threshold:f.threshold,totalShards:f.totalShards})}function Ua(f,l,d){const h=new sr(f);return h.kind=dr.EVENT_KIND,h.created_at=d,h.tags=[["p",l]],h}async function Ha(f,l,d){return tt(async()=>{const h=new ir({pubkey:l});return await f.encrypt(h,d)},De.ENCRYPTION_FAILED,"Failed to encrypt shard payload")}async function Oa(f,l){return tt(async()=>{await f.sign(l)},De.EVENT_SIGNING_FAILED,"Failed to sign shard event")}async function ja(f){return tt(async()=>{await f.publish()},De.EVENT_PUBLISHING_FAILED,"Failed to publish shard event")}async function Va(f,l){const[d,h]=await Fa(),p=Da(l.createdAtOffset),v=Ua(f,l.recipientPubkey,p),x=Pa(l.shard);return v.content=await Ha(d,l.recipientPubkey,x),await Oa(v,d),await ja(v),{eventId:v.id,recipientPubkey:l.recipientPubkey,relays:l.relays,shardIndex:l.shard.index,publishedAt:p,disposableKey:h}}function $a(f,l,d){const h="pending_shards",p=localStorage.getItem(h)||"[]",v=JSON.parse(p);v.push({shard:f,recipientPubkey:l,relays:d,storedAt:Date.now()}),localStorage.setItem(h,JSON.stringify(v))}class za{version=1;createdAt;threshold=0;publishedShards=[];constructor(){this.createdAt=Math.floor(Date.now()/1e3)}withVersion(l){return this.version=l,this}withCreatedAt(l){return this.createdAt=l,this}withThreshold(l){return this.threshold=l,this}withPublishedShards(l){return this.publishedShards=l,this}validate(){if(this.threshold<=0)throw new Error("Threshold must be greater than 0");if(this.publishedShards.length===0)throw new Error("At least one shard must be published");if(this.threshold>this.publishedShards.length)throw new Error("Threshold cannot exceed number of published shards")}build(){return this.validate(),{version:this.version,createdAt:this.createdAt,threshold:this.threshold,totalShards:this.publishedShards.length,trustees:this.publishedShards.map(l=>({pubkey:l.recipientPubkey,shardIndex:l.shardIndex})),shardEvents:this.publishedShards.map(l=>({eventId:l.eventId,recipientPubkey:l.recipientPubkey,relays:l.relays,shardIndex:l.shardIndex,publishedAt:l.publishedAt}))}}toJSON(){return JSON.stringify(this.build())}}const er={EVENT_KIND:1115,D_TAG:"key-backup"};function Ka(f){const l=new sr(f);return l.kind=er.EVENT_KIND,l.created_at=Math.floor(Date.now()/1e3),l.tags=[["d",er.D_TAG]],l}async function Ya(f,l,d){return tt(async()=>{const h=new ir({pubkey:l});return await f.encrypt(h,d)},De.ENCRYPTION_FAILED,"Failed to encrypt metadata")}async function Ga(f,l){return tt(async()=>{await f.sign(l),await f.publish()},De.METADATA_PUBLISHING_FAILED,"Failed to publish metadata event")}async function qa(f,l,d,h){const p=f.activeUser?.pubkey;if(!p)throw new Ue(De.NO_USER,"No active user found");const v=new za().withThreshold(d).withPublishedShards(l).build(),x=Ka(f),s=new Ct(h);return x.content=await Ya(s,p,JSON.stringify(v)),await Ga(x,s),x.id}function Xa(f){const{searchQuery:l,availablePubkeys:d,limit:h=50}=f;let p=ce(Xe(new Set));const v=Ee(()=>{const x=l().trim(),s=d();return x?s.filter(b=>a(p).has(b)).slice(0,h):s.slice(0,h)});return at(()=>{const x=l().trim();if(console.log("[useProfileSearch] Search query:",x),!x){console.log("[useProfileSearch] Empty query, clearing results"),_(p,new Set,!0);return}if(!Ne.cacheAdapter?.getProfiles){console.error("[useProfileSearch] No getProfiles method available on cache adapter"),_(p,new Set,!0);return}console.log("[useProfileSearch] Searching profiles with query:",x),Ne.cacheAdapter.getProfiles({fields:["name","displayName","nip05"],contains:x}).then(s=>{console.log("[useProfileSearch] Search results count:",s?.size||0),_(p,new Set(s?.keys()||[]),!0)}).catch(s=>{console.error("[useProfileSearch] Failed to search profiles:",s),_(p,new Set,!0)})}),{get filteredPubkeys(){return a(v)}}}var Wa=A('<div class="flex items-center gap-3 p-3 bg-neutral-100 dark:bg-card border border rounded-lg"><!> <button class="p-2 hover:bg-neutral-200 dark:hover:bg-muted rounded-lg transition-colors"><svg class="w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Ja=A('<div class="space-y-2"></div>'),Za=A('<div class="text-center py-8 text-muted-foreground text-sm border border rounded-lg"><!></div>'),Qa=A('<button class="w-full p-3 hover:bg-neutral-100 dark:hover:bg-card transition-colors border-b border last:border-b-0"><!></button>'),en=A('<div class="border border rounded-lg max-h-64 overflow-y-auto"></div>'),tn=A('<div><input type="text" placeholder="Search your follows..." class="w-full px-3 py-2 bg-card border border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"/></div> <!>',1),rn=A('<div class="space-y-4"><div><label class="block text-sm font-medium text-foreground mb-2">Select Trustees</label> <p class="text-xs text-muted-foreground mb-3">Choose trusted contacts who will receive encrypted pieces of your key</p></div> <!> <div class="flex items-center justify-between text-sm mb-2"><span class="text-muted-foreground"> </span></div> <!></div>');function an(f,l){He(l,!0);let d=ce(""),h=Ee(()=>Array.from(Ne.$sessions?.follows??[]));const p=Ee(()=>a(h).filter(j=>!l.trustees.some(M=>M.pubkey===j))),{filteredPubkeys:v}=Xa({searchQuery:()=>a(d),availablePubkeys:()=>a(p),limit:10});function x(){}function s(j){l.trustees.length>=l.maxTrustees||l.trustees.some(M=>M.pubkey===j)||l.onTrusteesChange([...l.trustees,{pubkey:j,selected:!0}])}function g(j){l.onTrusteesChange(l.trustees.filter(M=>M.pubkey!==j))}var b=rn(),B=u(i(b),2);{var C=j=>{var M=Ja();Pe(M,21,()=>l.trustees,ze,(L,Y)=>{var N=Wa(),D=i(N);Pt(D,{get pubkey(){return a(Y).pubkey},variant:"avatar-name-handle",showHoverCard:!1,class:"flex-1 min-w-0",onclick:x});var F=u(D,2);F.__click=()=>g(a(Y).pubkey),o(N),y(L,N)}),o(M),y(j,M)};O(B,j=>{l.trustees.length>0&&j(C)})}var T=u(B,2),w=i(T),E=i(w);o(w),o(T);var S=u(T,2);{var z=j=>{var M=tn(),L=Le(M),Y=i(L);$e(Y),o(L);var N=u(L,2);{var D=P=>{var te=Za(),ve=i(te);{var ae=K=>{var se=rt("No follows found. Follow some people first.");y(K,se)},oe=K=>{var se=rt("All follows have been selected");y(K,se)};O(ve,K=>{a(h).length===0?K(ae):K(oe,!1)})}o(te),y(P,te)},F=P=>{var te=en();Pe(te,21,()=>v,ze,(ve,ae)=>{var oe=Qa();oe.__click=()=>s(a(ae));var K=i(oe);Pt(K,{get pubkey(){return a(ae)},variant:"avatar-name-handle",showHoverCard:!1,class:"w-full",onclick:()=>{}}),o(oe),y(ve,oe)}),o(te),y(P,te)};O(N,P=>{v.length===0?P(D):P(F,!1)})}it(Y,()=>a(d),P=>_(d,P)),y(j,M)};O(S,j=>{l.trustees.length<l.maxTrustees&&j(z)})}o(b),Z(()=>H(E,`Selected ${l.trustees.length??""} of ${l.maxTrustees??""}`)),y(f,b),Oe()}Ke(["click"]);var nn=A("<option> </option>"),on=A("<option> </option>"),sn=A('<div class="space-y-6"><div><label class="block text-sm font-medium text-foreground mb-2">Total Key Pieces</label> <p class="text-xs text-muted-foreground mb-3">How many pieces should your key be split into?</p> <select class="w-full px-3 py-2 bg-card border border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></select></div> <div><label class="block text-sm font-medium text-foreground mb-2">Required for Recovery</label> <p class="text-xs text-muted-foreground mb-3">How many pieces are needed to recover your key?</p> <select class="w-full px-3 py-2 bg-card border border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"></select></div> <div class="p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-900 rounded-lg"><div class="flex gap-3"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="flex-1 text-sm text-blue-900 dark:text-blue-200"><p class="font-medium mb-1">What This Means</p> <p class="text-xs text-blue-700 dark:text-blue-300"> </p></div></div></div></div>');function ln(f,l){He(l,!0);let d=Ee(()=>Math.min(l.maxShards,Ve.MAX_TOTAL_SHARDS)),h=Ee(()=>Math.min(Ve.MAX_THRESHOLD,l.totalShards)),p=Ee(()=>Array.from({length:a(h)-Ve.MIN_THRESHOLD+1},(L,Y)=>Y+Ve.MIN_THRESHOLD)),v=Ee(()=>Array.from({length:a(d)-Ve.MIN_TOTAL_SHARDS+1},(L,Y)=>Y+Ve.MIN_TOTAL_SHARDS));function x(L){l.onTotalShardsChange(L),l.threshold>L&&l.onThresholdChange(Math.min(l.threshold,L))}var s=sn(),g=i(s),b=u(i(g),4);b.__change=L=>x(parseInt(L.currentTarget.value)),Pe(b,21,()=>a(v),ze,(L,Y)=>{var N=nn(),D=i(N);o(N);var F={};Z(()=>{H(D,`${a(Y)??""} pieces`),F!==(F=a(Y))&&(N.value=(N.__value=a(Y))??"")}),y(L,N)}),o(b);var B;Lt(b),o(g);var C=u(g,2),T=u(i(C),4);T.__change=L=>l.onThresholdChange(parseInt(L.currentTarget.value)),Pe(T,21,()=>a(p),ze,(L,Y)=>{var N=on(),D=i(N);o(N);var F={};Z(()=>{H(D,`${a(Y)??""} pieces`),F!==(F=a(Y))&&(N.value=(N.__value=a(Y))??"")}),y(L,N)}),o(T);var w;Lt(T),o(C);var E=u(C,2),S=i(E),z=u(i(S),2),j=u(i(z),2),M=i(j);o(j),o(z),o(S),o(E),o(s),Z(()=>{B!==(B=l.totalShards)&&(b.value=(b.__value=l.totalShards)??"",Ft(b,l.totalShards)),w!==(w=l.threshold)&&(T.value=(T.__value=l.threshold)??"",Ft(T,l.threshold)),H(M,`Your key will be split into ${l.totalShards??""} pieces. You'll need any ${l.threshold??""} of them to recover your key.
          Individual pieces are useless without the required number.`)}),y(f,s),Oe()}Ke(["change"]);var dn=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg>'),un=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>'),cn=A('<p class="text-xs text-red-500 flex items-center gap-1"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> </p>'),vn=A('<div class="mt-2 space-y-1"></div>'),hn=A('<p class="mt-2 text-xs text-green-600 dark:text-green-400 flex items-center gap-1"><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> </p>'),pn=A('<div><label class="block text-sm font-medium text-foreground mb-2"> </label> <div class="relative"><input/> <button type="button" class="absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-neutral-700 dark:hover:text-muted-foreground"><!></button></div> <!> <!></div>');function tr(f,l){He(l,!0);let d=vt(l,"isValid",3,!0),h=vt(l,"touched",3,!1),p=vt(l,"errors",19,()=>[]),v=ce(!1),x=Ee(()=>h()&&p().length>0),s=Ee(()=>h()&&d()&&l.value.length>0&&l.successMessage);var g=pn(),b=i(g),B=i(b,!0);o(b);var C=u(b,2),T=i(C);$e(T),T.__input=N=>l.onChange(N.currentTarget.value);var w=u(T,2);w.__click=()=>_(v,!a(v));var E=i(w);{var S=N=>{var D=dn();y(N,D)},z=N=>{var D=un();y(N,D)};O(E,N=>{a(v)?N(S):N(z,!1)})}o(w),o(C);var j=u(C,2);{var M=N=>{var D=vn();Pe(D,21,p,ze,(F,P)=>{var te=cn(),ve=u(i(te));o(te),Z(()=>H(ve,` ${a(P)??""}`)),y(F,te)}),o(D),y(N,D)};O(j,N=>{a(x)&&N(M)})}var L=u(j,2);{var Y=N=>{var D=hn(),F=u(i(D));o(D),Z(()=>H(F,` ${l.successMessage??""}`)),y(N,D)};O(L,N=>{a(s)&&N(Y)})}o(g),Z(()=>{H(B,l.label),st(T,"type",a(v)?"text":"password"),gr(T,l.value),st(T,"placeholder",l.placeholder),Ce(T,1,`w-full px-3 py-2 pr-10 bg-card border rounded-lg text-sm focus:outline-none focus:ring-2 ${a(x)?"border-red-500 focus:ring-red-500":"border focus:ring-orange-500"}`)}),rr("blur",T,function(...N){l.onBlur?.apply(this,N)}),y(f,g),Oe()}Ke(["input","click"]);var fn=A('<div><div class="flex gap-3"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div><p class="font-semibold mb-1"> </p> <p> </p></div></div></div>');function ur(f,l){let d=vt(l,"variant",3,"warning"),h=Ee(()=>d()==="danger"?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900":"bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-900"),p=Ee(()=>d()==="danger"?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),v=Ee(()=>d()==="danger"?"text-red-900 dark:text-red-200":"text-amber-900 dark:text-amber-200"),x=Ee(()=>d()==="danger"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300");var s=fn(),g=i(s),b=i(g),B=u(b,2),C=i(B),T=i(C,!0);o(C);var w=u(C,2),E=i(w,!0);o(w),o(B),o(g),o(s),Z(()=>{Ce(s,1,`p-4 border rounded-lg ${a(h)??""}`),Ce(b,0,`w-5 h-5 flex-shrink-0 mt-0.5 ${a(p)??""}`),Ce(B,1,`flex-1 text-sm ${a(v)??""}`),H(T,l.title),Ce(w,1,`text-xs ${a(x)??""}`),H(E,l.description)}),y(f,s)}var gn=A('<div class="space-y-4"><!> <!> <!></div>');function mn(f,l){He(l,!0);let d=ce(Xe({passphrase:!1,confirm:!1})),h=Ee(()=>Aa(l.value)),p=Ee(()=>l.value===l.confirmValue&&l.value.length>0);at(()=>{l.onValidChange(a(h).valid&&a(p))});var v=gn(),x=i(v);ur(x,{title:"Passphrase Warning",description:"Your passphrase encrypts your key shards. If you forget it, your backup cannot be recovered. Write it down and store it securely.",variant:"warning"});var s=u(x,2);tr(s,{label:"Passphrase",get value(){return l.value},placeholder:"Enter a strong passphrase",onChange:b=>l.onChange(b),onBlur:()=>_(d,{...a(d),passphrase:!0},!0),get isValid(){return a(h).valid},get touched(){return a(d).passphrase},get errors(){return a(h).errors},successMessage:"Strong passphrase"});var g=u(s,2);{let b=Ee(()=>a(p)?[]:["Passphrases do not match"]);tr(g,{label:"Confirm Passphrase",get value(){return l.confirmValue},placeholder:"Confirm your passphrase",onChange:B=>l.onConfirmChange(B),onBlur:()=>_(d,{...a(d),confirm:!0},!0),get isValid(){return a(p)},get touched(){return a(d).confirm},get errors(){return a(b)},successMessage:"Passphrases match"})}o(v),y(f,v),Oe()}var xn=A('<code class="text-xs text-foreground break-all font-mono"> </code>'),bn=A('<div class="text-xs text-muted-foreground font-mono"></div>'),_n=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg> Hide Key',1),yn=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg> Show Key',1),wn=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Copied!',1),kn=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg> Copy Key',1),En=A('<div class="space-y-6"><div class="bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-lg p-4"><div class="flex items-start gap-3"><svg class="w-5 h-5 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg> <div class="flex-1"><h3 class="text-sm font-semibold text-red-900 dark:text-red-100 mb-1">Critical Security Warning</h3> <p class="text-xs text-red-800 dark:text-red-200">Your private key (nsec) is the only way to access your account. Anyone with access to this key has full control of your identity. Never share it with anyone and store it securely offline.</p></div></div></div> <div class="space-y-4"><div><h3 class="text-sm font-medium text-foreground mb-1">Your Private Key (nsec)</h3> <p class="text-xs text-muted-foreground">You are logged in with a private key signer. Save this key somewhere safe.</p></div> <div class="space-y-3"><div class="relative"><div class="bg-neutral-100 dark:bg-card border border rounded-lg p-4"><!></div></div> <div class="flex gap-2"><button class="flex-1 px-4 py-2 bg-neutral-200 dark:bg-muted text-muted-foreground rounded-lg hover:bg-neutral-300 dark:hover:bg-muted transition-colors text-sm font-medium flex items-center justify-center gap-2"><!></button> <button class="flex-1 px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div> <p class="text-xs text-muted-foreground text-center">Make sure nobody is watching your screen before revealing your key</p></div></div> <div class="bg-neutral-50 dark:bg-card border border rounded-lg p-4"><h4 class="text-sm font-medium text-foreground mb-2">Security Best Practices</h4> <ul class="space-y-2 text-xs text-muted-foreground"><li class="flex items-start gap-2"><svg class="w-4 h-4 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Write down your nsec on paper and store it in a safe place</span></li> <li class="flex items-start gap-2"><svg class="w-4 h-4 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Never share your nsec via email, messaging apps, or websites</span></li> <li class="flex items-start gap-2"><svg class="w-4 h-4 text-primary mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Use the "Create Backup" tab to create encrypted shards with trusted contacts</span></li></ul></div></div>'),Sn=A('<div class="w-16 h-16 bg-green-100 dark:bg-green-950/30 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div>'),An=A('<div class="w-16 h-16 bg-red-100 dark:bg-red-950/30 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div>'),In=A('<div class="w-16 h-16 bg-blue-100 dark:bg-blue-950/30 rounded-full flex items-center justify-center mb-4 animate-spin"><svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></div>'),Bn=A('<p class="text-sm text-muted-foreground"> </p>'),Tn=A('<p class="text-sm text-red-600 dark:text-red-400 mt-2 text-center max-w-md"> </p>'),Mn=A('<button class="mt-6 px-4 py-2 bg-neutral-200 dark:bg-muted text-muted-foreground rounded-lg hover:bg-neutral-300 dark:hover:bg-muted transition-colors">Close</button>'),Cn=A('<div class="flex flex-col items-center justify-center py-12"><!> <h3 class="text-lg font-semibold text-foreground mb-2"> </h3> <!> <!> <!></div>'),Rn=A('<button class="w-full px-4 py-3 bg-primary text-foreground rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center justify-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg> Create Backup</button>'),Nn=A("<!> <!> <!> <!> <!>",1),Ln=A('<div class="space-y-6"><!></div>'),Fn=A('<div class="space-y-6"><div class="flex gap-2 p-1 bg-neutral-100 dark:bg-card rounded-lg"><button>View Key</button> <button>Create Backup</button></div> <!></div>'),Dn=A('<div class="text-center py-8"><div class="w-16 h-16 bg-neutral-100 dark:bg-card rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <h3 class="text-sm font-medium text-foreground mb-2">Not Using Private Key Signer</h3> <p class="text-xs text-muted-foreground max-w-sm mx-auto">You are not logged in with a private key signer. This section is only available for users who logged in with an nsec.</p></div>');function Pn(f,l){He(l,!0);const d=2,h=3,p=5;let v=ce("view"),x=ce(!1),s=ce(!1),g=ce("setup"),b=ce(2),B=ce(3),C=ce(Xe([])),T=ce(""),w=ce(""),E=ce(!1),S=ce(Xe({status:"idle",currentStep:0,totalSteps:0,message:""}));const z=Ee(()=>Ne.signer instanceof Ct),j=Ee(()=>!a(z)||!Ne.signer?null:Ne.signer.nsec);let M=Ee(()=>a(C).length>=a(B)&&a(E));async function L(){if(a(j))try{await navigator.clipboard.writeText(a(j)),_(s,!0),setTimeout(()=>{_(s,!1)},2e3)}catch(K){console.error("Failed to copy:",K)}}function Y(){_(x,!a(x))}function N(){return Array.from(Ne.pool?.relays.values()||[]).map(K=>K.url).slice(0,p)}function D(){if(!a(z)||!Ne.signer)throw new Ue(De.NO_PRIVATE_KEY,"No private key signer available");const se=Ne.signer.privateKey;if(!se)throw new Ue(De.NO_PRIVATE_KEY,"Private key not found in signer");return se}async function F(){if(!Ne.$currentUser)throw new Ue(De.NO_USER,"No authenticated user found");try{_(g,"progress");const K=D(),se=a(B)+2;_(S,{status:"creating-shards",currentStep:0,totalSteps:se,message:"Starting backup creation..."},!0);const xe=await La(K,a(T),{threshold:a(b),totalShards:a(B)});_(S,{...a(S),currentStep:2,status:"publishing",message:"Publishing shards..."},!0);const be=[],R=N(),I=a(C).slice(0,a(B));for(let V=0;V<xe.length;V++){const re=xe[V],$=I[V];_(S,{...a(S),currentStep:2+V,message:`Publishing shard ${V+1} of ${a(B)}...`},!0);const G=V===0?0:V*h;if(G>d)$a(re,$.pubkey,R);else{const he=await Va(Ne,{shard:re,recipientPubkey:$.pubkey,createdAtOffset:G,relays:R});be.push(he)}}_(S,{...a(S),currentStep:a(B)+1,message:"Publishing metadata..."},!0),await qa(Ne,be,a(b),K),_(S,{...a(S),status:"complete",currentStep:se,message:"Backup created successfully!"},!0)}catch(K){console.error("Backup creation failed:",K);const se=K instanceof Ue?K:new Ue(De.UNKNOWN_ERROR,K instanceof Error?K.message:"Unknown error",K);_(S,{...a(S),status:"error",message:se.getUserMessage(),error:se.message},!0)}}function P(){_(g,"setup"),_(S,{status:"idle",currentStep:0,totalSteps:0,message:""},!0)}var te=qe(),ve=Le(te);{var ae=K=>{var se=Fn(),xe=i(se),be=i(xe);be.__click=()=>_(v,"view");var R=u(be,2);R.__click=()=>_(v,"backup"),o(xe);var I=u(xe,2);{var V=$=>{var G=En(),he=u(i(G),2),we=u(i(he),2),ge=i(we),U=i(ge),W=i(U);{var ie=X=>{var ee=xn(),ke=i(ee,!0);o(ee),Z(()=>H(ke,a(j))),y(X,ee)},pe=X=>{var ee=bn();ee.textContent="‚Ä¢".repeat(63),y(X,ee)};O(W,X=>{a(x)?X(ie):X(pe,!1)})}o(U),o(ge);var _e=u(ge,2),Ae=i(_e);Ae.__click=Y;var Q=i(Ae);{var J=X=>{var ee=_n();Se(),y(X,ee)},fe=X=>{var ee=yn();Se(),y(X,ee)};O(Q,X=>{a(x)?X(J):X(fe,!1)})}o(Ae);var q=u(Ae,2);q.__click=L;var le=i(q);{var ye=X=>{var ee=wn();Se(),y(X,ee)},Ie=X=>{var ee=kn();Se(),y(X,ee)};O(le,X=>{a(s)?X(ye):X(Ie,!1)})}o(q),o(_e),Se(2),o(we),o(he),Se(2),o(G),Z(()=>q.disabled=!a(x)),y($,G)},re=$=>{var G=Ln(),he=i(G);{var we=U=>{var W=Cn(),ie=i(W);{var pe=X=>{var ee=Sn();y(X,ee)},_e=X=>{var ee=qe(),ke=Le(ee);{var Me=Fe=>{var Re=An();y(Fe,Re)},je=Fe=>{var Re=In();y(Fe,Re)};O(ke,Fe=>{a(S).status==="error"?Fe(Me):Fe(je,!1)},!0)}y(X,ee)};O(ie,X=>{a(S).status==="complete"?X(pe):X(_e,!1)})}var Ae=u(ie,2),Q=i(Ae,!0);o(Ae);var J=u(Ae,2);{var fe=X=>{var ee=Bn(),ke=i(ee);o(ee),Z(()=>H(ke,`Step ${a(S).currentStep??""} of ${a(S).totalSteps??""}`)),y(X,ee)};O(J,X=>{a(S).status!=="complete"&&a(S).status!=="error"&&X(fe)})}var q=u(J,2);{var le=X=>{var ee=Tn(),ke=i(ee,!0);o(ee),Z(()=>H(ke,a(S).error)),y(X,ee)};O(q,X=>{a(S).status==="error"&&a(S).error&&X(le)})}var ye=u(q,2);{var Ie=X=>{var ee=Mn();ee.__click=P,y(X,ee)};O(ye,X=>{(a(S).status==="complete"||a(S).status==="error")&&X(Ie)})}o(W),Z(()=>H(Q,a(S).message)),y(U,W)},ge=U=>{var W=Nn(),ie=Le(W);ur(ie,{title:"Security Warning",description:"Key backup splits your private key into encrypted pieces. Choose trustworthy contacts and a strong passphrase you won't forget.",variant:"danger"});var pe=u(ie,2);ln(pe,{get threshold(){return a(b)},get totalShards(){return a(B)},onThresholdChange:q=>_(b,q,!0),onTotalShardsChange:q=>_(B,q,!0),maxShards:10});var _e=u(pe,2);an(_e,{get trustees(){return a(C)},get maxTrustees(){return a(B)},onTrusteesChange:q=>_(C,q,!0)});var Ae=u(_e,2);{var Q=q=>{mn(q,{get value(){return a(T)},get confirmValue(){return a(w)},onChange:le=>_(T,le,!0),onConfirmChange:le=>_(w,le,!0),onValidChange:le=>_(E,le,!0)})};O(Ae,q=>{a(C).length>=a(B)&&q(Q)})}var J=u(Ae,2);{var fe=q=>{var le=Rn();le.__click=F,y(q,le)};O(J,q=>{a(M)&&q(fe)})}y(U,W)};O(he,U=>{a(g)==="progress"?U(we):U(ge,!1)})}o(G),y($,G)};O(I,$=>{a(v)==="view"?$(V):$(re,!1)})}o(se),Z(()=>{Ce(be,1,`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a(v)==="view"?"bg-white dark:bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-neutral-900 dark:hover:text-foreground"}`),Ce(R,1,`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${a(v)==="backup"?"bg-white dark:bg-muted text-foreground shadow-sm":"text-muted-foreground hover:text-neutral-900 dark:hover:text-foreground"}`)}),y(K,se)},oe=K=>{var se=Dn();y(K,se)};O(ve,K=>{a(z)&&a(j)?K(ae):K(oe,!1)})}y(f,te),Oe()}Ke(["click"]);var Un=A('<div class="flex flex-col items-center justify-center py-12 gap-3"><div class="w-10 h-10 border-4 border border-t-orange-500 rounded-full animate-spin"></div> <p class="text-sm text-muted-foreground">Loading cache statistics...</p></div>'),Hn=A('<div class="flex flex-col items-center justify-center py-12 gap-3"><p class="text-sm text-red-500"> </p> <button class="px-4 py-2 bg-primary/10 border border-primary/30 rounded-lg text-sm text-primary hover:bg-primary/20 transition-all">Retry</button></div>'),On=A('<div class="bg-neutral-100 dark:bg-card border border rounded-lg p-3 flex items-center justify-between"><div class="flex items-center gap-3"><span class="font-mono text-sm text-primary font-semibold min-w-[3rem]"> </span> <span class="text-sm text-muted-foreground"> </span></div> <div class="text-sm font-semibold text-foreground"> </div></div>'),jn=A('<div class="space-y-6"><div><h3 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">Cache Overview</h3> <div class="grid grid-cols-2 gap-3"><div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Total Events</div></div> <div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Profiles</div></div> <div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Event Tags</div></div> <div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Event-Relay Links</div></div></div></div> <div><h3 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">Events by Kind</h3> <div class="space-y-2"></div></div> <div><h3 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3">Other Cache Tables</h3> <div class="grid grid-cols-3 gap-3"><div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Decrypted Events</div></div> <div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Unpublished Events</div></div> <div class="bg-neutral-100 dark:bg-card border border rounded-xl p-4 text-center"><div class="text-2xl font-bold text-primary mb-1"> </div> <div class="text-xs text-muted-foreground font-medium">Cache Data</div></div></div></div></div>'),Vn=A('<div class="space-y-6"><div class="flex items-center justify-between"><div><h2 class="text-lg font-semibold text-foreground">Cache Statistics</h2> <p class="text-sm text-muted-foreground mt-1">Local database cache information</p></div> <button class="p-2 hover:bg-neutral-200/50 dark:hover:bg-muted/30 rounded-lg transition-all" title="Refresh"><svg class="w-5 h-5 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div> <!></div>');function $n(f,l){He(l,!0);let d=ce(null),h=ce(!0),p=ce(null);async function v(){_(h,!0),_(p,null);try{const w=Ne.cacheAdapter;if(!w)throw new Error("Cache adapter not found");if(!w.getCacheStats)throw new Error("getCacheStats method not available");_(d,await w.getCacheStats(),!0)}catch(w){_(p,w instanceof Error?w.message:"Unknown error occurred",!0),console.error("Failed to load cache stats:",w)}finally{_(h,!1)}}at(()=>{v()});function x(w){return{0:"Profile Metadata",1:"Short Text Note",3:"Contacts",4:"Encrypted DM",5:"Event Deletion",6:"Repost",7:"Reaction",9735:"Zap",9321:"NIP-61 Nutzap",1e4:"Mute List",10002:"Relay List",3e4:"People List",30008:"Profile Badges",30009:"Badge Definition",37375:"NIP-60 Wallet",7375:"Cashu Token"}[w]||`Kind ${w}`}var s=Vn(),g=i(s),b=u(i(g),2);b.__click=v,o(g);var B=u(g,2);{var C=w=>{var E=Un();y(w,E)},T=w=>{var E=qe(),S=Le(E);{var z=M=>{var L=Hn(),Y=i(L),N=i(Y);o(Y);var D=u(Y,2);D.__click=v,o(L),Z(()=>H(N,`‚ùå ${a(p)??""}`)),y(M,L)},j=M=>{var L=qe(),Y=Le(L);{var N=D=>{var F=jn(),P=i(F),te=u(i(P),2),ve=i(te),ae=i(ve),oe=i(ae,!0);o(ae),Se(2),o(ve);var K=u(ve,2),se=i(K),xe=i(se,!0);o(se),Se(2),o(K);var be=u(K,2),R=i(be),I=i(R,!0);o(R),Se(2),o(be);var V=u(be,2),re=i(V),$=i(re,!0);o(re),Se(2),o(V),o(te),o(P);var G=u(P,2),he=u(i(G),2);Pe(he,21,()=>Object.entries(a(d).eventsByKind).sort((q,le)=>le[1]-q[1]),ze,(q,le)=>{var ye=Ee(()=>pr(a(le),2));let Ie=()=>a(ye)[0],X=()=>a(ye)[1];var ee=On(),ke=i(ee),Me=i(ke),je=i(Me,!0);o(Me);var Fe=u(Me,2),Re=i(Fe,!0);o(Fe),o(ke);var We=u(ke,2),r=i(We,!0);o(We),o(ee),Z((e,t)=>{H(je,Ie()),H(Re,e),H(r,t)},[()=>x(Number(Ie())),()=>X().toLocaleString()]),y(q,ee)}),o(he),o(G);var we=u(G,2),ge=u(i(we),2),U=i(ge),W=i(U),ie=i(W,!0);o(W),Se(2),o(U);var pe=u(U,2),_e=i(pe),Ae=i(_e,!0);o(_e),Se(2),o(pe);var Q=u(pe,2),J=i(Q),fe=i(J,!0);o(J),Se(2),o(Q),o(ge),o(we),o(F),Z((q,le,ye,Ie,X,ee,ke)=>{H(oe,q),H(xe,le),H(I,ye),H($,Ie),H(ie,X),H(Ae,ee),H(fe,ke)},[()=>a(d).totalEvents.toLocaleString(),()=>a(d).totalProfiles.toLocaleString(),()=>a(d).totalEventTags.toLocaleString(),()=>a(d).eventRelays.toLocaleString(),()=>a(d).totalDecryptedEvents.toLocaleString(),()=>a(d).totalUnpublishedEvents.toLocaleString(),()=>a(d).cacheData.toLocaleString()]),y(D,F)};O(Y,D=>{a(d)&&D(N)},!0)}y(M,L)};O(S,M=>{a(p)?M(z):M(j,!1)},!0)}y(w,E)};O(B,w=>{a(h)?w(C):w(T,!1)})}o(s),y(f,s),Oe()}Ke(["click"]);var zn=A('<button type="button"><div class="flex flex-col items-center gap-2"><span class="text-xl">‚ö°</span> <span class="text-sm font-bold"> </span></div></button>'),Kn=A('<div class="flex gap-2"><input type="number" placeholder="Enter custom amount..." class="flex-1 px-4 py-3 bg-neutral-100 dark:bg-muted border-2 border-primary dark:border-primary rounded-xl text-foreground placeholder-neutral-500 dark:placeholder-neutral-400 focus:outline-none font-semibold"/> <button class="px-6 py-3 bg-gradient-to-br from-primary-600 to-primary-700 hover:opacity-90 text-foreground font-semibold rounded-xl transition-all" type="button">Set</button> <button class="px-6 py-3 bg-neutral-100 dark:bg-muted hover:bg-neutral-200 dark:hover:bg-muted text-foreground font-semibold rounded-xl transition-all" type="button">Cancel</button></div>'),Yn=A('<button class="w-full px-4 py-3 bg-neutral-100 dark:bg-muted hover:bg-neutral-200 dark:hover:bg-muted border-2 border-dashed border dark:border rounded-xl text-muted-foreground font-semibold transition-all flex items-center justify-center gap-2" type="button"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> Custom Amount</button>'),Gn=A('<div class="space-y-6"><div><h3 class="text-lg font-semibold text-foreground mb-4">Default Zap Amount</h3> <p class="text-sm text-muted-foreground mb-4">Choose the default amount for quick zaps. Long-press the zap button to choose a custom amount.</p> <div class="grid grid-cols-4 gap-3"></div> <div class="mt-4"><!></div></div> <div class="p-4 bg-neutral-100 dark:bg-card border border rounded-xl"><div class="flex items-start gap-3"><div class="mt-0.5"><svg class="w-5 h-5 text-primary dark:text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="flex-1"><h4 class="text-sm font-semibold text-foreground mb-1">How to Zap</h4> <ul class="text-sm text-muted-foreground space-y-1"><li><strong>Tap:</strong> </li> <li><strong>Long-press:</strong> Choose custom amount from modal</li></ul></div></div></div> <div class="p-4 bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800/30 rounded-xl"><div class="flex items-center gap-2 mb-2"><span class="text-2xl">‚ö°</span> <h4 class="text-sm font-semibold text-primary-900 dark:text-primary-100">Current Default</h4></div> <p class="text-3xl font-bold bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent"> </p></div></div>');function qn(f,l){He(l,!0);const d=[10,21,50,100,500,1e3,2100,5e3];let h=ce(""),p=ce(!1);function v(P){return P>=1e3?`${(P/1e3).toFixed(P%1e3===0?0:1)}K`:P.toString()}function x(){const P=Number.parseInt(a(h));!Number.isNaN(P)&&P>0&&(Te.updateZap({defaultAmount:P}),_(h,""),_(p,!1))}function s(P){P.key==="Enter"?x():P.key==="Escape"&&(_(h,""),_(p,!1))}var g=Gn(),b=i(g),B=u(i(b),4);Pe(B,21,()=>d,ze,(P,te)=>{var ve=zn();ve.__click=()=>Te.updateZap({defaultAmount:a(te)});var ae=i(ve),oe=u(i(ae),2),K=i(oe,!0);o(oe),o(ae),o(ve),Z(se=>{Ce(ve,1,`relative overflow-hidden rounded-xl p-4 transition-all duration-200 ${Te.zap.defaultAmount===a(te)?"bg-gradient-to-br from-primary-600 to-primary-700 dark:bg-primary text-foreground shadow-lg shadow-primary/30 dark:shadow-primary/50 scale-105":"bg-neutral-100 dark:bg-muted hover:bg-neutral-200 dark:hover:bg-muted text-foreground hover:scale-105"}`),H(K,se)},[()=>v(a(te))]),y(P,ve)}),o(B);var C=u(B,2),T=i(C);{var w=P=>{var te=Kn(),ve=i(te);$e(ve),ve.__keydown=s,Mt(ve,!0);var ae=u(ve,2);ae.__click=x;var oe=u(ae,2);oe.__click=()=>{_(h,""),_(p,!1)},o(te),it(ve,()=>a(h),K=>_(h,K)),y(P,te)},E=P=>{var te=Yn();te.__click=()=>_(p,!0),y(P,te)};O(T,P=>{a(p)?P(w):P(E,!1)})}o(C),o(b);var S=u(b,2),z=i(S),j=u(i(z),2),M=u(i(j),2),L=i(M),Y=u(i(L));o(L),Se(2),o(M),o(j),o(z),o(S);var N=u(S,2),D=u(i(N),2),F=i(D);o(D),o(N),o(g),Z(P=>{H(Y,` Send default zap amount (${Te.zap.defaultAmount??""} sats)`),H(F,`${P??""} sats`)},[()=>Te.zap.defaultAmount.toLocaleString()]),y(f,g),Oe()}Ke(["click","keydown"]);var Xn=A('<div class="p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-400 text-sm"> </div>'),Wn=A('<div class="flex gap-2"><!> <!></div> <!>',1),Jn=A('<span class="text-primary-foreground text-sm font-bold">‚úì</span>'),Zn=A('<img class="w-full h-full object-cover"/>'),Qn=A('<span class="text-2xl">üè¶</span>'),eo=A('<div class="text-sm text-muted-foreground mb-1 line-clamp-2"> </div>'),to=A('<div class="text-xs text-yellow-500 mt-1"> </div>'),ro=A("<div> </div>"),ao=A('<button><div class="flex items-center pt-0.5"><div><!></div></div> <div class="w-12 h-12 flex-shrink-0 rounded-lg overflow-hidden bg-primary/20 flex items-center justify-center"><!></div> <div class="flex-1 min-w-0"><div class="font-semibold text-foreground mb-1"> </div> <!> <div class="text-xs font-mono text-muted-foreground truncate"> </div> <!> <!></div></button>'),no=A('<div class="space-y-3"></div>'),oo=A('<div class="flex flex-col items-center justify-center py-12 px-4 text-center bg-muted/20 border border-dashed border-border rounded-lg"><div class="text-5xl mb-4">üîç</div> <p class="text-muted-foreground">Discovering mints from the network...</p> <p class="text-sm text-muted-foreground/60 mt-1">Add custom mints above or wait for discovery</p></div>'),so=A('<div class="flex items-start gap-4 p-4 bg-primary/15 border border-primary/50 rounded-lg"><div class="w-12 h-12 flex-shrink-0 rounded-lg bg-primary/20 flex items-center justify-center"><span class="text-2xl">üè¶</span></div> <div class="flex-1 min-w-0"><div class="font-semibold text-foreground mb-1"> </div> <div class="text-xs font-mono text-muted-foreground truncate"> </div></div> <button class="w-8 h-8 flex-shrink-0 self-center flex items-center justify-center bg-red-500/20 border border-red-500/30 rounded text-red-400 font-bold hover:bg-red-500/30 transition-colors">‚úï</button></div>'),io=A('<div class="pt-2"><h4 class="text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3">Custom Mints</h4> <div class="space-y-3"></div></div>'),lo=A('<div class="flex items-center justify-center gap-2 p-3 bg-primary/10 border border-primary/20 rounded-lg text-sm font-semibold"><span class="text-primary">‚úì</span> </div>'),uo=A('<!> <div class="flex-1 overflow-y-auto px-6 py-4 space-y-4"><div class="flex gap-3 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-lg"><div class="text-lg flex-shrink-0">‚ÑπÔ∏è</div> <div class="text-sm text-muted-foreground">Mints are custodial services that issue ecash tokens. Select multiple mints to spread risk.</div></div> <div class="flex flex-col gap-3 p-4 bg-muted/30 border border-border rounded-lg"><button class="flex items-center gap-2 text-left font-semibold text-foreground"><span class="flex items-center justify-center w-6 h-6 bg-primary/20 text-primary rounded text-lg font-bold"> </span> Add Custom Mint</button> <!></div> <!> <!></div> <div class="px-6 py-4 border-t border-border space-y-3"><!> <div class="flex gap-3"><!> <!></div></div>',1);function co(f,l){He(l,!0);let d=vt(l,"open",15,!1);const h=xr(Ne,{network:"mainnet",timeout:0});let p=ce(Xe([])),v=ce(Xe(new Set)),x=ce(!1),s=ce(""),g=ce("");at(()=>{const M=h.subscribe(L=>{_(p,L.mints,!0)});return()=>{M(),h.getState().stop()}});function b(M){try{return new URL(M).hostname}catch{return M}}function B(M){const L=new Set(a(v));L.has(M)?L.delete(M):L.add(M),_(v,L,!0)}function C(){const M=a(s).trim();try{const Y=new URL(M);if(Y.protocol!=="https:"&&Y.protocol!=="http:"){_(g,"Please use https:// or http:// URL");return}}catch{_(g,"Please enter a valid mint URL");return}if(a(v).has(M)){_(g,"This mint has already been selected");return}if(a(p).some(Y=>Y.url===M)){_(g,"This mint is already in the list below");return}const L=new Set(a(v));L.add(M),_(v,L,!0),_(s,""),_(x,!1),_(g,"")}function T(){_(x,!a(x)),_(s,""),_(g,"")}function w(){a(v).size!==0&&(l.onSelectMints(Array.from(a(v))),d(!1))}function E(){d(!1),l.onClose()}const S=Ee(()=>Array.from(a(v)).filter(M=>!a(p).some(L=>L.url===M)));var z=qe(),j=Le(z);ct(j,()=>wr,(M,L)=>{L(M,{get open(){return d()},onOpenChange:Y=>{Y||E()},children:(Y,N)=>{var D=qe(),F=Le(D);ct(F,()=>_r,(P,te)=>{te(P,{class:"max-w-2xl max-h-[90vh] flex flex-col p-0",children:(ve,ae)=>{var oe=uo(),K=Le(oe);ct(K,()=>Er,(Q,J)=>{J(Q,{class:"px-6 py-4 border-b border-border",children:(fe,q)=>{var le=qe(),ye=Le(le);ct(ye,()=>yr,(Ie,X)=>{X(Ie,{children:(ee,ke)=>{Se();var Me=rt("Browse Mints");y(ee,Me)},$$slots:{default:!0}})}),y(fe,le)},$$slots:{default:!0}})});var se=u(K,2),xe=u(i(se),2),be=i(xe);be.__click=T;var R=i(be),I=i(R,!0);o(R),Se(),o(be);var V=u(be,2);{var re=Q=>{var J=Wn(),fe=Le(J),q=i(fe);kr(q,{type:"url",placeholder:"https://mint.example.com",class:"flex-1 font-mono text-sm",get value(){return a(s)},set value(X){_(s,X,!0)}});var le=u(q,2);{let X=Ee(()=>!a(s).trim());It(le,{onclick:C,get disabled(){return a(X)},children:(ee,ke)=>{Se();var Me=rt("Add");y(ee,Me)},$$slots:{default:!0}})}o(fe);var ye=u(fe,2);{var Ie=X=>{var ee=Xn(),ke=i(ee,!0);o(ee),Z(()=>H(ke,a(g))),y(X,ee)};O(ye,X=>{a(g)&&X(Ie)})}y(Q,J)};O(V,Q=>{a(x)&&Q(re)})}o(xe);var $=u(xe,2);{var G=Q=>{var J=no();Pe(J,21,()=>a(p),ze,(fe,q)=>{var le=ao();le.__click=()=>B(a(q).url);var ye=i(le),Ie=i(ye),X=i(Ie);{var ee=ne=>{var ue=Jn();y(ne,ue)};O(X,ne=>{a(v).has(a(q).url)&&ne(ee)})}o(Ie),o(ye);var ke=u(ye,2),Me=i(ke);{var je=ne=>{var ue=Zn();Z(()=>{st(ue,"src",a(q).icon),st(ue,"alt",a(q).name||a(q).url)}),y(ne,ue)},Fe=ne=>{var ue=Qn();y(ne,ue)};O(Me,ne=>{a(q).icon?ne(je):ne(Fe,!1)})}o(ke);var Re=u(ke,2),We=i(Re),r=i(We,!0);o(We);var e=u(We,2);{var t=ne=>{var ue=eo(),me=i(ue,!0);o(ue),Z(()=>H(me,a(q).description)),y(ne,ue)};O(e,ne=>{a(q).description&&ne(t)})}var n=u(e,2),c=i(n,!0);o(n);var m=u(n,2);{var k=ne=>{var ue=to(),me=i(ue);o(ue),Z(()=>H(me,`‚≠ê Recommended by ${a(q).recommendations.length??""} user${a(q).recommendations.length===1?"":"s"}`)),y(ne,ue)};O(m,ne=>{a(q).recommendations.length>0&&ne(k)})}var de=u(m,2);{var Be=ne=>{var ue=ro(),me=i(ue,!0);o(ue),Z(()=>{Ce(ue,1,`text-xs mt-1 ${a(q).isOnline?"text-green-400":"text-red-400"}`),H(me,a(q).isOnline?"üü¢ Online":"üî¥ Offline")}),y(ne,ue)};O(de,ne=>{a(q).isOnline!==void 0&&ne(Be)})}o(Re),o(le),Z((ne,ue,me)=>{Ce(le,1,`w-full flex items-start gap-4 p-4 bg-muted/30 border rounded-lg text-left transition-all hover:bg-muted/50 hover:border-primary/30 ${ne??""}`),Ce(Ie,1,`w-6 h-6 border-2 rounded flex items-center justify-center transition-all ${ue??""}`),H(r,me),H(c,a(q).url)},[()=>a(v).has(a(q).url)?"bg-primary/15 border-primary/50":"border-border",()=>a(v).has(a(q).url)?"bg-primary border-primary":"border-muted-foreground/30 bg-muted/50",()=>a(q).name||b(a(q).url)]),y(fe,le)}),o(J),y(Q,J)},he=Q=>{var J=oo();y(Q,J)};O($,Q=>{a(p).length>0?Q(G):Q(he,!1)})}var we=u($,2);{var ge=Q=>{var J=io(),fe=u(i(J),2);Pe(fe,21,()=>a(S),ze,(q,le)=>{var ye=so(),Ie=u(i(ye),2),X=i(Ie),ee=i(X,!0);o(X);var ke=u(X,2),Me=i(ke,!0);o(ke),o(Ie);var je=u(Ie,2);je.__click=()=>B(a(le)),o(ye),Z(Fe=>{H(ee,Fe),H(Me,a(le))},[()=>b(a(le))]),y(q,ye)}),o(fe),o(J),y(Q,J)};O(we,Q=>{a(S).length>0&&Q(ge)})}o(se);var U=u(se,2),W=i(U);{var ie=Q=>{var J=lo(),fe=u(i(J));o(J),Z(()=>H(fe,` ${a(v).size??""} mint${a(v).size===1?"":"s"} selected`)),y(Q,J)};O(W,Q=>{a(v).size>0&&Q(ie)})}var pe=u(W,2),_e=i(pe);It(_e,{variant:"outline",onclick:E,class:"flex-1",children:(Q,J)=>{Se();var fe=rt("Cancel");y(Q,fe)},$$slots:{default:!0}});var Ae=u(_e,2);{let Q=Ee(()=>a(v).size===0);It(Ae,{onclick:w,get disabled(){return a(Q)},class:"flex-1",children:(J,fe)=>{Se();var q=rt("Add Selected Mints");y(J,q)},$$slots:{default:!0}})}o(pe),o(U),Z(()=>H(I,a(x)?"‚àí":"+")),y(ve,oe)},$$slots:{default:!0}})}),y(Y,D)},$$slots:{default:!0}})}),y(f,z),Oe()}Ke(["click"]);var vo=Ye('<svg class="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Saving...',1),ho=Ye('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Save',1),po=A('<button class="px-6 py-2 bg-primary text-foreground rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2 flex-shrink-0"><!></button>'),fo=A('<div class="bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800 rounded-lg p-4"><div class="flex gap-3"><svg class="w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-sm text-green-800 dark:text-green-300"> </p></div></div>'),go=A('<div class="bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-4"><div class="flex gap-3"><svg class="w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <p class="text-sm text-red-800 dark:text-red-300"> </p></div></div>'),mo=A('<div class="mt-2 text-sm"><span class="text-primary dark:text-primary font-semibold"> </span></div>'),xo=A('<div class="border rounded-lg p-4 bg-card border"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><svg class="w-5 h-5 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-foreground truncate"> </div> <div class="text-xs text-muted-foreground truncate"> </div></div></div> <!></div> <button class="ml-3 p-2 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors group" title="Remove mint"><svg class="w-5 h-5 text-muted-foreground group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div>'),bo=A('<div class="text-center py-8 text-muted-foreground"><svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg> <p class="text-sm">No mints configured</p></div>'),_o=A('<div class="border rounded-lg p-4 bg-card border"><div class="flex items-center justify-between"><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><svg class="w-5 h-5 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg> <div class="flex-1 min-w-0"><div class="text-sm font-medium text-foreground truncate"> </div> <div class="text-xs text-muted-foreground truncate"> </div></div></div></div> <button class="ml-3 p-2 hover:bg-red-50 dark:hover:bg-red-950/30 rounded-lg transition-colors group" title="Remove relay"><svg class="w-5 h-5 text-muted-foreground group-hover:text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div>'),yo=A('<div class="text-center py-8 text-muted-foreground"><svg class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg> <p class="text-sm">No relays configured</p></div>'),wo=A('<div class="border-2 border-dashed border-blue-300 dark:border-blue-700 rounded-lg p-4"><div class="space-y-3"><input type="text" placeholder="wss://relay.example.com" class="w-full px-3 py-2 bg-card border border dark:border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-foreground"/> <div class="text-xs text-muted-foreground">URL will automatically be prefixed with wss:// if not provided</div> <div class="flex gap-2"><button class="px-4 py-2 bg-blue-600 text-foreground rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">Add Relay</button> <button class="px-4 py-2 bg-neutral-200 dark:bg-muted text-muted-foreground rounded-lg hover:bg-neutral-300 dark:hover:bg-muted transition-colors">Cancel</button></div></div></div>'),ko=A('<button class="w-full border rounded-lg p-3 hover:bg-muted transition-colors group"><div class="flex items-center justify-center gap-2 text-muted-foreground group-hover:text-primary dark:group-hover:text-primary"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <span class="font-medium">Add Relay</span></div></button>'),Eo=A(`<div class="space-y-6"><div class="flex items-start justify-between gap-4"><div><h2 class="text-xl font-semibold text-foreground mb-2">Wallet Configuration</h2> <p class="text-sm text-muted-foreground">Manage your Cashu mints, wallet relays, and Lightning integration.</p></div> <!></div> <!> <!> <div class="space-y-3"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-foreground">Cashu Mints</h3> <span class="text-sm text-muted-foreground"> </span></div> <div class="space-y-2"><!> <!> <button class="w-full border rounded-lg p-3 hover:bg-muted transition-colors group"><div class="flex items-center justify-center gap-2 text-muted-foreground group-hover:text-primary dark:group-hover:text-primary"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <span class="font-medium">Add Mint</span></div></button></div></div> <div class="space-y-3"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-foreground">Wallet Relays</h3> <span class="text-sm text-muted-foreground"> </span></div> <div class="space-y-2"><!> <!> <!></div></div> <div class="border rounded-lg p-4 bg-card"><div class="flex items-center justify-between gap-4"><div class="flex items-center gap-2"><svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> <div><h3 class="text-lg font-semibold text-foreground">npub.cash Lightning Zaps</h3> <p class="text-sm text-muted-foreground">Automatically redeem Lightning zaps received via npub.cash into your wallet.</p></div></div> <label class="relative inline-flex items-center cursor-pointer flex-shrink-0"><input type="checkbox" class="sr-only peer"/> <div class="w-11 h-6 bg-neutral-300 dark:bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"></div></label></div></div></div> <!>`,1);function So(f,l){He(l,!0);let d=ce(!1),h=ce(!1),p=ce(""),v=ce(null),x=ce(null),s=ce(!1);const g=Ee(()=>Ne.$wallet);let b=ce(Xe([])),B=ce(Xe([])),C=ce(!1);at(()=>{!a(C)&&a(g)&&(_(b,a(g).mints,!0),_(B,a(g).relays,!0))});const T=Ee(()=>a(C)?a(b):a(g)?.mints||[]),w=Ee(()=>a(C)?a(B):a(g)?.relays||[]),E=Ee(()=>{const r=new Map;return a(g)&&a(g).mintBalances.forEach(e=>{r.set(e.url,e.balance)}),r});function S(){_(v,null),_(x,null)}function z(r){_(x,r,!0),setTimeout(()=>{_(x,null)},3e3)}function j(r){_(v,r instanceof Error?r.message:"Operation failed",!0)}function M(){_(C,!0)}async function L(){if(!a(g)){j(new Error("Wallet not available"));return}S(),_(s,!0);try{await a(g).save({mints:a(b),relays:a(B).length>0?a(B):void 0}),_(C,!1),z("Changes saved successfully!")}catch(r){j(r)}finally{_(s,!1)}}function Y(r){const e=r.trim();if(!e)return!1;try{const t=new URL(e);return(t.protocol==="wss:"||t.protocol==="ws:")&&!!t.hostname}catch{return!1}}function N(r){_(b,a(b).filter(e=>e!==r),!0),M(),S()}function D(){let r=a(p).trim();if(!r.startsWith("wss://")&&!r.startsWith("ws://")&&(r=`wss://${r}`),!Y(r)){_(v,"Invalid relay URL. Must be a valid WebSocket URL (wss:// or ws://).");return}if(a(w).includes(r)){_(v,"This relay is already added.");return}_(B,[...a(B),r],!0),M(),_(p,""),_(d,!1),S()}function F(r){_(B,a(B).filter(e=>e!==r),!0),M(),S()}function P(r){try{return new URL(r).hostname}catch{return r}}function te(r){try{return new URL(r).hostname}catch{return r}}function ve(r){return new Intl.NumberFormat("en-US").format(r)}function ae(r){const e=r.filter(t=>!a(T).includes(t));e.length>0&&(_(b,[...a(b),...e],!0),M(),S()),_(h,!1)}function oe(){Bt.setEnabled(!Bt.enabled)}var K=Eo(),se=Le(K),xe=i(se),be=u(i(xe),2);{var R=r=>{var e=po();e.__click=L;var t=i(e);{var n=m=>{var k=vo();Se(),y(m,k)},c=m=>{var k=ho();Se(),y(m,k)};O(t,m=>{a(s)?m(n):m(c,!1)})}o(e),Z(()=>e.disabled=a(s)),y(r,e)};O(be,r=>{a(C)&&r(R)})}o(xe);var I=u(xe,2);{var V=r=>{var e=fo(),t=i(e),n=u(i(t),2),c=i(n,!0);o(n),o(t),o(e),Z(()=>H(c,a(x))),y(r,e)};O(I,r=>{a(x)&&r(V)})}var re=u(I,2);{var $=r=>{var e=go(),t=i(e),n=u(i(t),2),c=i(n,!0);o(n),o(t),o(e),Z(()=>H(c,a(v))),y(r,e)};O(re,r=>{a(v)&&r($)})}var G=u(re,2),he=i(G),we=u(i(he),2),ge=i(we);o(we),o(he);var U=u(he,2),W=i(U);Pe(W,16,()=>a(T),r=>r,(r,e)=>{var t=xo(),n=i(t),c=i(n),m=i(c),k=u(i(m),2),de=i(k),Be=i(de,!0);o(de);var ne=u(de,2),ue=i(ne,!0);o(ne),o(k),o(m);var me=u(m,2);{var Et=lt=>{var St=mo(),Nt=i(St),vr=i(Nt);o(Nt),o(St),Z(hr=>H(vr,`${hr??""} sats`),[()=>ve(a(E).get(e)||0)]),y(lt,St)};O(me,lt=>{a(E).has(e)&&lt(Et)})}o(c);var cr=u(c,2);cr.__click=()=>N(e),o(n),o(t),Z(lt=>{H(Be,lt),H(ue,e)},[()=>P(e)]),y(r,t)});var ie=u(W,2);{var pe=r=>{var e=bo();y(r,e)};O(ie,r=>{a(T).length===0&&r(pe)})}var _e=u(ie,2);_e.__click=()=>_(h,!0),o(U),o(G);var Ae=u(G,2),Q=i(Ae),J=u(i(Q),2),fe=i(J);o(J),o(Q);var q=u(Q,2),le=i(q);Pe(le,16,()=>a(w),r=>r,(r,e)=>{var t=_o(),n=i(t),c=i(n),m=i(c),k=u(i(m),2),de=i(k),Be=i(de,!0);o(de);var ne=u(de,2),ue=i(ne,!0);o(ne),o(k),o(m),o(c);var me=u(c,2);me.__click=()=>F(e),o(n),o(t),Z(Et=>{H(Be,Et),H(ue,e)},[()=>te(e)]),y(r,t)});var ye=u(le,2);{var Ie=r=>{var e=yo();y(r,e)};O(ye,r=>{a(w).length===0&&r(Ie)})}var X=u(ye,2);{var ee=r=>{var e=wo(),t=i(e),n=i(t);$e(n),Mt(n,!0);var c=u(n,4),m=i(c);m.__click=D;var k=u(m,2);k.__click=()=>{_(d,!1),_(p,""),_(v,null)},o(c),o(t),o(e),Z(de=>m.disabled=de,[()=>!a(p).trim()]),it(n,()=>a(p),de=>_(p,de)),y(r,e)},ke=r=>{var e=ko();e.__click=()=>_(d,!0),y(r,e)};O(X,r=>{a(d)?r(ee):r(ke,!1)})}o(q),o(Ae);var Me=u(Ae,2),je=i(Me),Fe=u(i(je),2),Re=i(Fe);$e(Re),Re.__change=oe,Se(2),o(Fe),o(je),o(Me),o(se);var We=u(se,2);co(We,{onSelectMints:ae,onClose:()=>_(h,!1),get open(){return a(h)},set open(r){_(h,r,!0)}}),Z(()=>{H(ge,`${a(T).length??""} ${a(T).length===1?"mint":"mints"}`),H(fe,`${a(w).length??""} ${a(w).length===1?"relay":"relays"}`),ht(Re,Bt.enabled)}),y(f,K),Oe()}Ke(["click","change"]);var Ao=A('<div class="p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-600 dark:text-red-400 text-sm"> </div>'),Io=A('<div class="text-center py-8 text-muted-foreground"><p class="text-sm">Hashtag interests not available</p></div>'),Bo=A('<div class="flex items-center justify-center py-8 text-muted-foreground"><svg class="w-5 h-5 animate-spin mr-2" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Loading...</div>'),To=A('<div class="text-center py-8 text-muted-foreground"><svg class="w-12 h-12 mx-auto mb-2 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"></path></svg> <p class="text-sm">No hashtags followed yet</p> <p class="text-xs mt-1">Add hashtags above to start following topics</p></div>'),Mo=A('<div class="flex items-center justify-between p-3 bg-neutral-100 dark:bg-card border border rounded-lg"><div class="flex items-center gap-2"><span class="text-primary font-medium">#</span> <span class="text-foreground font-medium"> </span></div> <button class="p-1.5 hover:bg-red-500/10 rounded-lg transition-colors group" title="Remove hashtag"><svg class="w-4 h-4 text-muted-foreground group-hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),Co=A('<div class="space-y-2"></div>'),Ro=A('<div class="space-y-6"><div class="text-sm text-muted-foreground"><p>Follow hashtags to see related content in your home feed. Your followed hashtags will appear as filters at the top of your home page.</p></div> <div class="space-y-3"><label class="block"><span class="text-sm font-medium text-muted-foreground mb-2 block">Add Hashtag</span> <div class="flex gap-2"><div class="relative flex-1"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-lg">#</span> <input type="text" placeholder="bitcoin" class="w-full pl-8 pr-3 py-2 bg-neutral-100 dark:bg-card border border rounded-lg text-foreground placeholder-neutral-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-orange-500"/></div> <button class="px-4 py-2 bg-primary text-foreground rounded-lg hover:bg-primary disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"> </button></div></label> <!></div> <div class="space-y-3"><h3 class="text-sm font-medium text-muted-foreground">Followed Hashtags</h3> <!></div> <div class="p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg"><div class="flex gap-3"><svg class="w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div class="text-sm text-blue-700 dark:text-blue-300"><p class="font-medium mb-1">How it works</p> <ul class="space-y-1 text-xs"><li>‚Ä¢ Click hashtag pills on your home feed to filter by specific hashtags</li> <li>‚Ä¢ When viewing a specific relay, hashtag filters will search within that relay</li> <li>‚Ä¢ When in "Following" mode, hashtag filters will search within your follows</li> <li>‚Ä¢ Your hashtag interests are stored on Nostr (kind 10015)</li></ul></div></div></div></div>');function No(f,l){He(l,!0);let d=ce(""),h=ce(!1),p=ce(null);async function v(){if(a(d).trim()){if(!Qe){_(p,"Hashtag interests not available");return}_(h,!0),_(p,null);try{const D=a(d).trim().replace(/^#/,"");await Qe.addHashtag(D),_(d,"")}catch(D){_(p,D instanceof Error?D.message:"Failed to add hashtag",!0)}finally{_(h,!1)}}}async function x(D){if(!Qe){_(p,"Hashtag interests not available");return}try{await Qe.removeHashtag(D)}catch(F){_(p,F instanceof Error?F.message:"Failed to remove hashtag",!0)}}function s(D){D.key==="Enter"&&(D.preventDefault(),v())}var g=Ro(),b=u(i(g),2),B=i(b),C=u(i(B),2),T=i(C),w=u(i(T),2);$e(w),w.__keydown=s,o(T);var E=u(T,2);E.__click=v;var S=i(E,!0);o(E),o(C),o(B);var z=u(B,2);{var j=D=>{var F=Ao(),P=i(F,!0);o(F),Z(()=>H(P,a(p))),y(D,F)};O(z,D=>{a(p)&&D(j)})}o(b);var M=u(b,2),L=u(i(M),2);{var Y=D=>{var F=Io();y(D,F)},N=D=>{var F=qe(),P=Le(F);{var te=ae=>{var oe=Bo();y(ae,oe)},ve=ae=>{var oe=qe(),K=Le(oe);{var se=be=>{var R=To();y(be,R)},xe=be=>{var R=Co();Pe(R,21,()=>Qe.interests,ze,(I,V)=>{var re=Mo(),$=i(re),G=u(i($),2),he=i(G,!0);o(G),o($);var we=u($,2);we.__click=()=>x(a(V)),o(re),Z(()=>H(he,a(V))),y(I,re)}),o(R),y(be,R)};O(K,be=>{Qe.interests.length===0?be(se):be(xe,!1)},!0)}y(ae,oe)};O(P,ae=>{Qe.isLoading?ae(te):ae(ve,!1)},!0)}y(D,F)};O(L,D=>{Qe?D(N,!1):D(Y)})}o(M),Se(2),o(g),Z(D=>{w.disabled=a(h),E.disabled=D,H(S,a(h)?"Adding...":"Add")},[()=>a(h)||!a(d).trim()]),it(w,()=>a(d),D=>_(d,D)),y(f,g),Oe()}Ke(["keydown","click"]);var Lo=A('<div class="pt-6 pb-4 border-b"><div class="flex items-center gap-3"><button class="p-2 hover:bg-neutral-200/50 dark:hover:bg-muted/30 rounded-lg transition-all" aria-label="Back to settings"><svg class="w-5 h-5 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h1 class="text-xl font-semibold text-foreground"> </h1></div></div> <div class="py-6"><!></div>',1),Fo=A('<span class="text-xs bg-neutral-200 dark:bg-muted px-1.5 py-0.5 rounded"> </span>'),Do=Ye('<svg class="w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>'),Po=A('<button><div class="flex items-center gap-3"><div><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div> <div class="text-left"><div class="text-sm font-medium text-foreground flex items-center gap-2"> <!></div> <div class="text-xs text-muted-foreground"> </div></div></div> <!></button>'),Uo=A('<div><h2 class="text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3"> </h2> <div class="space-y-2"></div></div>'),Ho=A('<div class="pt-6 pb-4"><h1 class="text-xl font-semibold text-foreground"> </h1></div> <div class="py-6 space-y-8"></div>',1),Oo=A('<div class="w-full min-h-screen bg-background pb-20 md:pb-0"><div class="max-w-lg mx-auto"><!></div></div>');function ss(f,l){He(l,!0);const d=()=>ar(or,"$t",h),[h,p]=nr();let v=ce(null);const x=[{title:"Content & Personalization",items:[{id:"hashtags",label:"Hashtag Interests",description:"Follow hashtags and filter your feed",iconPath:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14",iconColor:"text-primary",iconBg:"bg-primary/10",component:No,available:!0},{id:"theme",label:"Appearance",description:"Customize theme and language",iconPath:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01",iconColor:"text-primary",iconBg:"bg-primary-400/10",component:Jr,available:!0}]},{title:"Servers",items:[{id:"relays",label:"Relays",description:"Manage your Nostr relay connections",iconPath:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01",iconColor:"text-blue-400",iconBg:"bg-blue-400/10",component:qr,available:!0},{id:"blossom",label:"Media Servers",description:"Configure Blossom media upload servers",iconPath:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",iconColor:"text-primary",iconBg:"bg-primary/10",component:ca,available:!0}]},{title:"Payments",items:[{id:"wallet",label:"Wallet",description:"Manage Cashu mints and wallet relays",iconPath:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z",iconColor:"text-primary",iconBg:"bg-primary/10",component:So,available:!0},{id:"zap",label:"Zaps",description:"Configure default zap amount and preferences",iconPath:"M13 10V3L4 14h7v7l9-11h-7z",iconColor:"text-yellow-400",iconBg:"bg-yellow-400/10",component:qn,available:!0}]},{title:"Security & Advanced",items:[{id:"keys",label:"Private Key",description:"View and backup your private key",iconPath:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z",iconColor:"text-red-500",iconBg:"bg-red-500/10",component:Pn,available:!0},{id:"debug",label:"Debug",description:"View cache statistics and debug information",iconPath:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z",iconColor:"text-green-400",iconBg:"bg-green-400/10",component:$n,available:!0}]}],s=Ee(()=>x.flatMap(E=>E.items));at(()=>{const S=new URLSearchParams(window.location.search).get("tab");S&&a(s).some(z=>z.id===S&&z.available)&&_(v,S,!0)});let g=Ee(()=>a(s).find(E=>E.id===a(v)));var b=Oo(),B=i(b),C=i(B);{var T=E=>{var S=Lo(),z=Le(S),j=i(z),M=i(j);M.__click=()=>_(v,null);var L=u(M,2),Y=i(L,!0);o(L),o(j),o(z);var N=u(z,2),D=i(N);{var F=P=>{var te=qe(),ve=Le(te);ct(ve,()=>a(g).component,(ae,oe)=>{oe(ae,{})}),y(P,te)};O(D,P=>{a(g).component&&P(F)})}o(N),Z(()=>H(Y,a(g).label)),y(E,S)},w=E=>{var S=Ho(),z=Le(S),j=i(z),M=i(j,!0);o(j),o(z);var L=u(z,2);Pe(L,21,()=>x,ze,(Y,N)=>{var D=Uo(),F=i(D),P=i(F,!0);o(F);var te=u(F,2);Pe(te,21,()=>a(N).items,ze,(ve,ae)=>{var oe=Po();oe.__click=()=>a(ae).available&&_(v,a(ae).id,!0);var K=i(oe),se=i(K),xe=i(se),be=i(xe);o(xe),o(se);var R=u(se,2),I=i(R),V=i(I),re=u(V);{var $=U=>{var W=Fo(),ie=i(W,!0);o(W),Z(pe=>H(ie,pe),[()=>d()("common.soon")]),y(U,W)};O(re,U=>{a(ae).available||U($)})}o(I);var G=u(I,2),he=i(G,!0);o(G),o(R),o(K);var we=u(K,2);{var ge=U=>{var W=Do();y(U,W)};O(we,U=>{a(ae).available&&U(ge)})}o(oe),Z(()=>{oe.disabled=!a(ae).available,Ce(oe,1,`w-full bg-neutral-100 dark:bg-card border rounded-xl p-4 flex items-center justify-between transition-all ${a(ae).available?"hover:bg-neutral-200 dark:hover:bg-muted cursor-pointer":"opacity-50 cursor-not-allowed"}`),Ce(se,1,`w-10 h-10 rounded-lg flex items-center justify-center ${a(ae).iconBg??""}`),Ce(xe,0,`w-5 h-5 ${a(ae).iconColor??""}`),st(be,"d",a(ae).iconPath),H(V,`${a(ae).label??""} `),H(he,a(ae).description)}),y(ve,oe)}),o(te),o(D),Z(()=>H(P,a(N).title)),y(Y,D)}),o(L),Z(Y=>H(M,Y),[()=>d()("settings.title")]),y(E,S)};O(C,E=>{a(v)&&a(g)?E(T):E(w,!1)})}o(B),o(b),y(f,b),Oe(),p()}Ke(["click"]);export{ss as component};
