const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/CAJmB2zv.js","../chunks/DG6c9x1x.js","../chunks/-h67YDCL.js"])))=>i.map(i=>d[i]);
import{d as Se,c as ue,f as z,t as he,a as g,b as $e,s as le}from"../chunks/CvdcXPsy.js";import{s as N,aG as Le,D as Pe,aH as _e,M as Ke,g as e,aI as Ve,a as c,aJ as ye,b as pe,u as Te,p as Me,h as U,n as W,d as x,c as w,r as b,f as q,t as de,e as Ce}from"../chunks/-h67YDCL.js";import{i as B,_ as Ge}from"../chunks/DG6c9x1x.js";import{e as Ie,i as Re}from"../chunks/DBJvd_ZN.js";import{s as We,a as qe}from"../chunks/CptlhHpT.js";import{p as Je}from"../chunks/aVfrvTxa.js";import{N as Qe,S as Ne,c as Be,n as He}from"../chunks/CAJmB2zv.js";import{r as Xe}from"../chunks/Dk4THxss.js";import{N as xe}from"../chunks/Cq1keEic.js";import{H as we}from"../chunks/BMQIdyp3.js";import{p as je}from"../chunks/6dG0wjw8.js";import{c as ie}from"../chunks/C52XBfTo.js";import{D as Ye,a as Ze,R as et}from"../chunks/y2uKFtaO.js";import{I as tt,B as ke}from"../chunks/B3t7n0XN.js";import{D as rt}from"../chunks/BFIKOW_n.js";import{a as nt,D as st}from"../chunks/BeHDsRkZ.js";var at=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],ot=["difference","intersection","symmetricDifference","union"],ze=!1;class ge extends Set{#r=new Map;#e=N(0);#t=N(0);#n=Le||-1;constructor(t){if(super(),Pe&&(t=new Set(t),_e(this.#e,"SvelteSet version"),_e(this.#t,"SvelteSet.size")),t){for(var a of t)super.add(a);this.#t.v=super.size}ze||this.#a()}#s(t){return Le===this.#n?N(t):Ke(t)}#a(){ze=!0;var t=ge.prototype,a=Set.prototype;for(const s of at)t[s]=function(...r){return e(this.#e),a[s].apply(this,r)};for(const s of ot)t[s]=function(...r){e(this.#e);var d=a[s].apply(this,r);return new ge(d)}}has(t){var a=super.has(t),s=this.#r,r=s.get(t);if(r===void 0){if(!a)return e(this.#e),!1;r=this.#s(!0),Pe&&_e(r,`SvelteSet has(${Ve(t)})`),s.set(t,r)}return e(r),a}add(t){return super.has(t)||(super.add(t),c(this.#t,super.size),ye(this.#e)),this}delete(t){var a=super.delete(t),s=this.#r,r=s.get(t);return r!==void 0&&(s.delete(t),c(r,!1)),a&&(c(this.#t,super.size),ye(this.#e)),a}clear(){if(super.size!==0){super.clear();var t=this.#r;for(var a of t.values())c(a,!1);t.clear(),c(this.#t,0),ye(this.#e)}}keys(){return this.values()}values(){return e(this.#e),super.values()}entries(){return e(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return e(this.#t)}}function Ee(l){if(!l)return null;const t=l.tags.find(r=>r[0]==="e"&&r[3]==="root");if(t)return t[1];if(l.tags.find(r=>r[0]==="e"&&r[3]==="reply"))return null;const s=l.tags.filter(r=>r[0]==="e");return s.length>0?s[0][1]:null}function De(l){if(!l)return null;const t=l.tags.find(r=>r[0]==="e"&&r[3]==="reply");if(t)return{id:t[1],relayHint:t[2]||void 0};const a=l.tags.find(r=>r[0]==="e"&&r[3]==="root");if(a&&a[1]!==l.id)return{id:a[1],relayHint:a[2]||void 0};const s=l.tags.filter(r=>r[0]==="e");if(s.length>0){const r=s[s.length-1];return{id:r[1],relayHint:r[2]||void 0}}return null}function it(l,t,a=20){const s=[];let r=l,d=0;const n=new Set;for(;r&&d<a;){if(d++,n.has(r.id)){console.warn("Circular reference detected in thread",r.id);break}n.add(r.id);const u=De(r);if(u?.id)if(t.has(u.id)){const p=t.get(u.id);s.unshift({id:u.id,event:p,relayHint:u.relayHint}),r=p}else{s.unshift({id:u.id,event:null,relayHint:u.relayHint});break}else break}return d>=a&&console.warn(`Thread depth limit reached (${a})`),s}function lt(l,t,a,s=[]){const r=[];l&&l!==t&&r.push({ids:[l]},{kinds:a,"#e":[l]}),r.push({kinds:a,"#e":[t]});for(const d of s)d!==t&&d!==l&&r.push({kinds:a,"#e":[d]});return r.push({ids:[t]}),r}function dt(l,t,a=20){const s=[],r=l.pubkey,d=Array.from(t.values());let n=l,u=0;const p=new Set([l.id]);for(;u<a;){u++;const o=d.filter(f=>{if(p.has(f.id)||f.pubkey!==r)return!1;const M=f.tags.find(h=>h[0]==="e"&&h[3]==="reply");if(M)return M[1]===n.id;const F=f.tags.filter(h=>h[0]==="e");return F.length>0&&F[F.length-1][1]===n.id});if(o.sort((f,M)=>(f.created_at||0)-(M.created_at||0)),o.length===0)break;const _=o[0];p.add(_.id);const I=De(_);s.push({id:_.id,event:_,relayHint:I?.relayHint}),n=_}return s}function ut(l){return Array.from(l.keys())}function ct(l,t,a){const s=De(t),r={id:t.id,event:t,relayHint:s?.relayHint},d=[...l,r,...a];return d.map((n,u)=>{const p=u<d.length-1?d[u+1]:null,o=p?.event&&n.event?n.event.pubkey===p.event.pubkey:!1;return{...n,threading:{isSelfThread:o,showLineToNext:p!==null,depth:u,isMainChain:!0}}})}function vt(l,t,a){const s=[],r=[];for(const n of t){if(a.has(n.id))continue;const u=n.tags.find(o=>o[0]==="e"&&o[3]==="reply");let p=null;if(u)p=u[1];else{const o=n.tags.filter(_=>_[0]==="e");o.length>0&&(p=o[o.length-1][1])}p&&a.has(p)&&(p===l?s.push(n):r.push(n))}const d=(n,u)=>(n.created_at||0)-(u.created_at||0);return s.sort(d),r.sort(d),{replies:s,otherReplies:r}}function ft(l,t){const a=Xe(t),{focusedEvent:s,maxDepth:r=20,kinds:d=[Qe.Text,9802]}=l();let n=N(pe([])),u=N(pe([])),p=N(pe([])),o=N(null),_,I=new Ne,f=new Ne,M=new ge;Te(()=>{F()});async function F(){if(typeof s=="string"){const y=await a.fetchEvent(s);y&&(c(o,y,!0),h())}else c(o,s,!0),h()}function h(){if(!e(o)||_)return;const y=Ee(e(o)),v=lt(y,e(o).id,d);_=a.subscribe(v,{closeOnEose:!1,groupable:!1}),_.on("event",R=>{f.set(R.id,R),S()}),S()}function S(){if(!e(o))return;const y=it(e(o),f,r),v=dt(e(o),f,r),R=ct(y,e(o),v);c(n,R,!0);const L=new Set(R.map(j=>j.id)),E=Array.from(f.values()),{replies:k,otherReplies:H}=vt(e(o).id,E,L);c(u,k,!0),c(p,H,!0),i(),m()}function i(){const y=e(n).filter(v=>!v.event);for(const v of y){if(I.has(v.id))continue;const R=[{ids:[v.id]}];v.relayHint&&v.relayHint;const L=a.subscribe(R,{closeOnEose:!0,groupable:!1});L.on("event",E=>{E.id===v.id&&(f.set(E.id,E),S(),L.stop(),I.delete(v.id))}),I.set(v.id,L)}}function m(){const v=ut(f).filter(E=>!M.has(E));if(v.length===0)return;v.forEach(E=>M.add(E));const R=v.map(E=>({kinds:d,"#e":[E]}));if(R.length===0)return;const L=a.subscribe(R,{closeOnEose:!0,groupable:!1});L.on("event",E=>{f.has(E.id)||f.set(E.id,E)}),L.on("eose",()=>{S(),L.stop()})}async function $(y){let v=null;if(typeof y=="string"){if(v=f.get(y)||null,!v){const k=await a.fetchEvent(y);k&&(v=k,f.set(k.id,k))}}else v=y,f.has(y.id)||f.set(y.id,y);if(!v)return;const R=e(o)?Ee(e(o)):null,L=Ee(v);R===L?(c(o,v,!0),S()):(V(),f.clear(),M.clear(),c(n,[],!0),c(u,[],!0),c(p,[],!0),c(o,v,!0),f.set(v.id,v),h())}function V(){_?.stop(),_=void 0;for(const y of I.values())y.stop();I.clear()}return Te(()=>()=>{V()}),{get events(){return e(n)},get replies(){return e(u)},get otherReplies(){return e(p)},get allReplies(){return[...e(u),...e(p)]},get focusedEventId(){return e(o)?.id??null},focusOn:$}}var ht=z("<!> <!>",1),pt=z('<div class="flex items-center justify-between p-2 bg-muted/30 rounded border border-border text-sm"><span class="font-mono text-xs truncate flex-1 mr-2"> </span> <button type="button" class="text-muted-foreground hover:text-destructive transition-colors p-1" aria-label="Remove relay"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div>'),gt=z('<div class="space-y-2"><div class="text-sm font-medium text-foreground"> </div> <div class="max-h-40 overflow-y-auto space-y-1"></div></div>'),mt=z('<div class="p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive text-sm flex gap-2"><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span> </span></div>'),bt=z('<div class="p-3 bg-green-500/10 border border-green-500/20 rounded-lg text-green-600 dark:text-green-400 text-sm flex gap-2"><svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span>Event found! Loading...</span></div>'),_t=$e('<svg class="w-4 h-4 animate-spin mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Searching...',1),yt=$e('<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> Search for Event',1),xt=z("<!> <!>",1),wt=z('<!> <div class="space-y-4"><div class="p-3 bg-muted/50 rounded-lg border border-border"><div class="text-xs text-muted-foreground mb-1 font-medium">Event ID (nevent)</div> <div class="font-mono text-xs break-all text-foreground"> </div></div> <div class="space-y-2"><label class="text-sm font-medium text-foreground">Add Relay URL</label> <div class="flex gap-2"><!> <!></div> <p class="text-xs text-muted-foreground">Enter relay URLs where this event might be stored (e.g., wss://relay.damus.io)</p></div> <!> <!> <!></div> <!>',1);function kt(l,t){Me(t,!0);let a=je(t,"show",15),s=N(""),r=N(pe(t.relayHint?[t.relayHint]:[])),d=N(!1),n=N(""),u=N(!1);const p=q(()=>{try{return Be.neventEncode({id:t.eventId,relays:t.relayHint?[t.relayHint]:[]})}catch{return t.eventId}});function o(){const h=e(s).trim();if(h){if(!h.startsWith("wss://")&&!h.startsWith("ws://")){c(n,"Relay URL must start with wss:// or ws://");return}if(e(r).includes(h)){c(n,"This relay is already in the list");return}c(r,[...e(r),h],!0),c(s,""),c(n,"")}}function _(h){c(r,e(r).filter(S=>S!==h),!0)}async function I(){if(e(r).length===0){c(n,"Please add at least one relay URL");return}c(d,!0),c(n,""),c(u,!1);try{const h=await Ge(async()=>{const{NDKRelaySet:i}=await import("../chunks/CAJmB2zv.js").then(m=>m.U);return{NDKRelaySet:i}},__vite__mapDeps([0,1,2]),import.meta.url).then(({NDKRelaySet:i})=>i.fromRelayUrls(e(r),He)),S=await He.fetchEvent({ids:[t.eventId]},{closeOnEose:!0},h);S?(c(u,!0),t.onEventFound?.(S),setTimeout(()=>{a(!1)},1e3)):c(n,"Event not found on the specified relays")}catch(h){console.error("Error fetching event:",h),c(n,h instanceof Error?h.message:"Failed to fetch event",!0)}finally{c(d,!1)}}function f(h){h.key==="Enter"&&o()}var M=ue(),F=U(M);ie(F,()=>et,(h,S)=>{S(h,{get open(){return a()},set open(i){a(i)},children:(i,m)=>{var $=ue(),V=U($);ie(V,()=>Ye,(y,v)=>{v(y,{class:"max-w-2xl",children:(R,L)=>{var E=wt(),k=U(E);ie(k,()=>rt,(T,D)=>{D(T,{children:(A,Z)=>{var Q=ht(),ee=U(Q);ie(ee,()=>Ze,(O,K)=>{K(O,{children:(X,te)=>{W();var fe=he("Missing Event Explorer");g(X,fe)},$$slots:{default:!0}})});var ae=x(ee,2);ie(ae,()=>nt,(O,K)=>{K(O,{children:(X,te)=>{W();var fe=he("This event couldn't be found on the default relays. Try adding relay URLs where it might be stored.");g(X,fe)},$$slots:{default:!0}})}),g(A,Q)},$$slots:{default:!0}})});var H=x(k,2),j=w(H),J=x(w(j),2),ce=w(J,!0);b(J),b(j);var Y=x(j,2),re=x(w(Y),2),P=w(re);tt(P,{type:"text",placeholder:"wss://relay.example.com",get disabled(){return e(d)},onkeydown:f,class:"flex-1",get value(){return e(s)},set value(T){c(s,T,!0)}});var G=x(P,2);{let T=q(()=>e(d)||!e(s).trim());ke(G,{type:"button",onclick:o,get disabled(){return e(T)},variant:"outline",children:(D,A)=>{W();var Z=he("Add");g(D,Z)},$$slots:{default:!0}})}b(re),W(2),b(Y);var ne=x(Y,2);{var ve=T=>{var D=gt(),A=w(D),Z=w(A);b(A);var Q=x(A,2);Ie(Q,21,()=>e(r),Re,(ee,ae)=>{var O=pt(),K=w(O),X=w(K,!0);b(K);var te=x(K,2);te.__click=()=>_(e(ae)),b(O),de(()=>{le(X,e(ae)),te.disabled=e(d)}),g(ee,O)}),b(Q),b(D),de(()=>le(Z,`Relays to search (${e(r).length??""})`)),g(T,D)};B(ne,T=>{e(r).length>0&&T(ve)})}var se=x(ne,2);{var C=T=>{var D=mt(),A=x(w(D),2),Z=w(A,!0);b(A),b(D),de(()=>le(Z,e(n))),g(T,D)};B(se,T=>{e(n)&&T(C)})}var me=x(se,2);{var Fe=T=>{var D=bt();g(T,D)};B(me,T=>{e(u)&&T(Fe)})}b(H);var Ae=x(H,2);ie(Ae,()=>st,(T,D)=>{D(T,{children:(A,Z)=>{var Q=xt(),ee=U(Q);ke(ee,{type:"button",variant:"outline",onclick:()=>a(!1),get disabled(){return e(d)},children:(O,K)=>{W();var X=he("Cancel");g(O,X)},$$slots:{default:!0}});var ae=x(ee,2);{let O=q(()=>e(d)||e(r).length===0||e(u));ke(ae,{type:"button",onclick:I,get disabled(){return e(O)},children:(K,X)=>{var te=ue(),fe=U(te);{var Oe=oe=>{var be=_t();W(),g(oe,be)},Ue=oe=>{var be=yt();W(),g(oe,be)};B(fe,oe=>{e(d)?oe(Oe):oe(Ue,!1)})}g(K,te)},$$slots:{default:!0}})}g(A,Q)},$$slots:{default:!0}})}),de(()=>le(ce,e(p))),g(R,E)},$$slots:{default:!0}})}),g(i,$)},$$slots:{default:!0}})}),g(l,M),Ce()}Se(["click"]);var Et=z('<div class="absolute left-[29px] -top-px h-[73px] w-0.5 bg-muted"></div> <div class="absolute left-[29px] top-[73px] bottom-0 w-0.5 bg-muted"></div>',1),Tt=z('<p class="text-xs text-muted-foreground/70 font-mono truncate mb-3 bg-background/50 p-2 rounded"> </p>'),It=z(`<article class="p-3 sm:p-4 bg-muted/10 border-b border-border relative min-w-0"><!> <div class="p-4 border border-dashed border-muted-foreground/30 rounded-lg bg-muted/20"><div class="flex items-start gap-3"><div class="flex-shrink-0 mt-0.5"><svg class="w-6 h-6 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-foreground mb-1">Missing Parent Event</p> <p class="text-xs text-muted-foreground mb-2">This note is replying to an event that couldn't be found on the default relays.</p> <!> <button type="button" class="text-sm text-primary hover:text-primary/80 underline transition-colors flex items-center gap-1"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> Try fetching from other relays</button></div></div></div></article> <!>`,1);function Rt(l,t){Me(t,!0);let a=je(t,"showThreadLine",3,!1),s=N(!1);const r=q(()=>{try{return Be.neventEncode({id:t.eventId,relays:t.relayHint?[t.relayHint]:[]})}catch{return t.eventId}});var d=It(),n=U(d),u=w(n);{var p=i=>{var m=Et();W(2),g(i,m)};B(u,i=>{a()&&i(p)})}var o=x(u,2),_=w(o),I=x(w(_),2),f=x(w(I),4);{var M=i=>{var m=Tt(),$=w(m);b(m),de(V=>le($,`${V??""}...`),[()=>e(r).slice(0,40)]),g(i,m)};B(f,i=>{e(r)&&i(M)})}var F=x(f,2);F.__click=()=>c(s,!0),b(I),b(_),b(o),b(n);var h=x(n,2);{var S=i=>{kt(i,{get eventId(){return t.eventId},get relayHint(){return t.relayHint},get onEventFound(){return t.onEventFound},get show(){return e(s)},set show(m){c(s,m,!0)}})};B(h,i=>{e(s)&&i(S)})}g(l,d),Ce()}Se(["click"]);var Ht=z('<div class="flex flex-col items-center justify-center mt-20"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div> <p class="mt-4 text-neutral-400">Loading thread...</p></div>'),St=z('<div class="px-4 py-3 border-b border-border"><h2 class="font-semibold text-foreground"> </h2></div> <!>',1),Mt=z('<main class="w-full mx-auto"><!> <!> <div><!></div></main>'),Ct=z('<div class="min-h-screen bg-background"><header class="sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b border-border"><div class="flex items-center gap-4 px-4 py-3"><button class="p-2 hover:bg-neutral-900 rounded-lg transition-colors" aria-label="Go back"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg></button> <h1 class="text-xl font-semibold">Thread</h1></div></header> <!></div>');function qt(l,t){Me(t,!0);const a=()=>qe(Je,"$page",s),[s,r]=We(),d=q(()=>a().params.nevent);let n=N(null);Te(()=>{e(d)&&(c(n,null),c(n,ft(()=>({focusedEvent:e(d)}),He),!0))});function u(i){if(e(n)){e(n).focusOn(i);const m=i.encode();window.history.pushState({},"",`/e/${m}`)}}const p=q(()=>{if(!e(n))return null;const i=e(n).focusedEventId;return i&&e(n).events.find($=>$.id===i)?.event||null}),o=q(()=>{if(!e(n))return[];const i=e(n).focusedEventId;if(!i)return[];const m=e(n).events.findIndex($=>$.id===i);return m===-1?[]:e(n).events.slice(0,m)});var _=Ct(),I=w(_),f=w(I),M=w(f);M.__click=()=>history.back(),W(2),b(f),b(I);var F=x(I,2);{var h=i=>{var m=Ht();g(i,m)},S=i=>{var m=Mt(),$=w(m);Ie($,17,()=>e(o),Re,(k,H,j)=>{var J=ue(),ce=U(J);{var Y=P=>{{let G=q(()=>j<e(o).length-1);Rt(P,{get eventId(){return e(H).id},get relayHint(){return e(H).relayHint},get showThreadLine(){return e(G)},onEventFound:()=>{}})}},re=P=>{var G=ue(),ne=U(G);{var ve=C=>{we(C,{get event(){return e(H).event},variant:"default"})},se=C=>{{let me=q(()=>j<e(o).length-1);xe(C,{get event(){return e(H).event},variant:"thread-parent",get showThreadLine(){return e(me)},onNavigate:()=>e(H).event&&u(e(H).event)})}};B(ne,C=>{e(H).event.kind===9802?C(ve):C(se,!1)},!0)}g(P,G)};B(ce,P=>{e(H).event?P(re,!1):P(Y)})}g(k,J)});var V=x($,2);{var y=k=>{we(k,{get event(){return e(p)},variant:"default"})},v=k=>{xe(k,{get event(){return e(p)},variant:"thread-main",showThreadLine:!1})};B(V,k=>{e(p).kind===9802?k(y):k(v,!1)})}var R=x(V,2),L=w(R);{var E=k=>{var H=St(),j=U(H),J=w(j),ce=w(J);b(J),b(j);var Y=x(j,2);Ie(Y,17,()=>e(n).replies,Re,(re,P)=>{var G=ue(),ne=U(G);{var ve=C=>{we(C,{get event(){return e(P)},variant:"default"})},se=C=>{xe(C,{get event(){return e(P)},variant:"thread-reply",onNavigate:()=>u(e(P))})};B(ne,C=>{e(P).kind===9802?C(ve):C(se,!1)})}g(re,G)}),de(()=>le(ce,`${e(n).replies.length??""} ${e(n).replies.length===1?"Reply":"Replies"}`)),g(k,H)};B(L,k=>{e(n)&&e(n).replies.length>0&&k(E)})}b(R),b(m),g(i,m)};B(F,i=>{e(p)?i(S,!1):i(h)})}b(_),g(l,_),Ce(),r()}Se(["click"]);export{qt as component};
