{"version":3,"file":"index5-D9xIoHLj.js","sources":["../../../.svelte-kit/adapter-node/chunks/index5.js"],"sourcesContent":["import { k as attributes, c as clsx, b as attr, a as attr_class } from \"./index2.js\";\nimport { V as getContext, U as setContext } from \"./context.js\";\nimport { E as ENTITY_CLICK_CONTEXT_KEY, C as CONTENT_RENDERER_CONTEXT_KEY, a as Event_content } from \"./event-content.js\";\nimport \"clsx\";\nimport { c as cn, U as User } from \"./index4.js\";\nimport \"@nostr-dev-kit/wallet\";\nimport \"@nostr-dev-kit/wot\";\nimport \"@nostr-dev-kit/ndk\";\nimport \"@nostr-dev-kit/sessions\";\nimport \"@nostr-dev-kit/sync\";\nimport { e as escape_html } from \"./escaping.js\";\nconst EVENT_CARD_CONTEXT_KEY = Symbol.for(\"event-card\");\nconst NDK_CONTEXT_KEY = \"ndk\";\nfunction getNDKFromContext(providedNdk) {\n  if (providedNdk) {\n    return providedNdk;\n  }\n  const contextNdk = getContext(NDK_CONTEXT_KEY);\n  if (!contextNdk) {\n    throw new Error(\"NDK not found. Either provide an `ndk` prop or ensure NDK is set in context via setContext('ndk', ndk) in a parent component.\");\n  }\n  return contextNdk;\n}\nfunction Event_card_root($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let {\n      ndk: providedNdk,\n      event,\n      onclick,\n      onUserClick,\n      onEventClick,\n      onHashtagClick,\n      onLinkClick,\n      onMediaClick,\n      class: className = \"\",\n      children,\n      $$slots,\n      $$events,\n      ...restProps\n    } = $$props;\n    const ndk = getNDKFromContext(providedNdk);\n    const context = {\n      get ndk() {\n        return ndk;\n      },\n      get event() {\n        return event;\n      },\n      get interactive() {\n        return !!onclick;\n      }\n    };\n    setContext(EVENT_CARD_CONTEXT_KEY, context);\n    const entityClickContext = {\n      get onUserClick() {\n        return onUserClick;\n      },\n      get onEventClick() {\n        return onEventClick;\n      },\n      get onHashtagClick() {\n        return onHashtagClick;\n      },\n      get onLinkClick() {\n        return onLinkClick;\n      },\n      get onMediaClick() {\n        return onMediaClick;\n      }\n    };\n    setContext(ENTITY_CLICK_CONTEXT_KEY, entityClickContext);\n    const isClickable = !!onclick;\n    if (isClickable) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<button${attributes({\n        \"data-event-card-root\": \"\",\n        \"data-interactive\": \"\",\n        class: clsx(cn(\"relative flex flex-col gap-2 cursor-pointer w-full text-left bg-transparent border-0 p-0\", className)),\n        type: \"button\",\n        ...restProps\n      })}>`);\n      if (children) {\n        $$renderer2.push(\"<!--[-->\");\n        children($$renderer2);\n        $$renderer2.push(`<!---->`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n      }\n      $$renderer2.push(`<!--]--></button>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<article${attributes({\n        \"data-event-card-root\": \"\",\n        class: clsx(cn(\"relative flex flex-col gap-2\", className)),\n        ...restProps\n      })}>`);\n      if (children) {\n        $$renderer2.push(\"<!--[-->\");\n        children($$renderer2);\n        $$renderer2.push(`<!---->`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n      }\n      $$renderer2.push(`<!--]--></article>`);\n    }\n    $$renderer2.push(`<!--]-->`);\n  });\n}\nfunction Event_reply_indicator($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let {\n      ndk: providedNdk,\n      event,\n      class: className = \"\",\n      onclick,\n      children\n    } = $$props;\n    getNDKFromContext(providedNdk);\n    const entityClickContext = getContext(ENTITY_CLICK_CONTEXT_KEY);\n    onclick ?? entityClickContext?.onEventClick;\n    let replyToEvent = null;\n    let loading = true;\n    const replyToTag = (() => {\n      const replyTag = event.tags.find((tag) => tag[0] === \"e\" && tag[3] === \"reply\");\n      if (replyTag) {\n        return replyTag;\n      }\n      const rootTag = event.tags.find((tag) => tag[0] === \"e\" && tag[3] === \"root\");\n      if (rootTag) {\n        return rootTag;\n      }\n      const eTags = event.tags.filter((tag) => tag[0] === \"e\");\n      if (eTags.length === 1) {\n        return eTags[0];\n      }\n      return void 0;\n    })();\n    if (\n      // Fetch the event being replied to\n      replyToTag\n    ) {\n      $$renderer2.push(\"<!--[-->\");\n      if (children) {\n        $$renderer2.push(\"<!--[-->\");\n        children($$renderer2, { event: replyToEvent, loading });\n        $$renderer2.push(`<!---->`);\n      } else {\n        $$renderer2.push(\"<!--[!-->\");\n        {\n          $$renderer2.push(\"<!--[!-->\");\n          {\n            $$renderer2.push(\"<!--[!-->\");\n          }\n          $$renderer2.push(`<!--]-->`);\n        }\n        $$renderer2.push(`<!--]-->`);\n      }\n      $$renderer2.push(`<!--]-->`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]-->`);\n  });\n}\nfunction createTimeAgo(timestamp) {\n  const formatted = (() => {\n    if (!timestamp) return \"\";\n    const date = new Date(timestamp * 1e3);\n    const now = /* @__PURE__ */ new Date();\n    const diff = now.getTime() - date.getTime();\n    const hours = Math.floor(diff / (1e3 * 60 * 60));\n    if (hours < 1) {\n      const mins = Math.floor(diff / (1e3 * 60));\n      if (mins < 1) return \"now\";\n      return `${mins}m`;\n    } else if (hours < 24) {\n      return `${hours}h`;\n    } else if (hours < 168) {\n      const days = Math.floor(hours / 24);\n      return `${days}d`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  })();\n  return formatted;\n}\nfunction Event_time($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { event, class: className = \"\" } = $$props;\n    const timeAgo = createTimeAgo(event.created_at);\n    const datetime = event.created_at ? new Date(event.created_at * 1e3).toISOString() : void 0;\n    $$renderer2.push(`<time${attr(\"datetime\", datetime)}${attr_class(clsx(cn(className)))}>${escape_html(timeAgo)}</time>`);\n  });\n}\nconst Event = {\n  ReplyIndicator: Event_reply_indicator,\n  Time: Event_time\n};\nfunction Event_card_header($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let {\n      variant = \"full\",\n      showAvatar = true,\n      showTimestamp = true,\n      avatarSize = \"md\",\n      class: className = \"\",\n      children\n    } = $$props;\n    const context = getContext(EVENT_CARD_CONTEXT_KEY);\n    if (!context) {\n      throw new Error(\"EventCard.Header must be used within EventCard.Root\");\n    }\n    const entityClickContext = getContext(ENTITY_CLICK_CONTEXT_KEY);\n    $$renderer2.push(`<header data-event-card-header=\"\"${attr(\"data-variant\", variant)}${attr_class(clsx(cn(\"flex items-center gap-3\", className)))}><!---->`);\n    User.Root($$renderer2, {\n      ndk: context.ndk,\n      user: context.event.author,\n      children: ($$renderer3) => {\n        $$renderer3.push(`<div${attr_class(clsx(cn(\"flex items-center gap-3 flex-1 min-w-0\", entityClickContext?.onUserClick && \"cursor-pointer\")))}${attr(\"role\", entityClickContext?.onUserClick ? \"button\" : \"presentation\")}${attr(\"tabindex\", entityClickContext?.onUserClick ? 0 : void 0)}>`);\n        if (showAvatar) {\n          $$renderer3.push(\"<!--[-->\");\n          $$renderer3.push(`<!---->`);\n          User.Avatar($$renderer3, {\n            class: cn(\"flex-shrink-0\", avatarSize === \"xs\" ? \"w-4 h-4\" : avatarSize == \"sm\" ? \"w-6 h-6\" : avatarSize === \"md\" ? \"w-10 h-10\" : \"w-12 h-12\")\n          });\n          $$renderer3.push(`<!---->`);\n        } else {\n          $$renderer3.push(\"<!--[!-->\");\n        }\n        $$renderer3.push(`<!--]--> <div class=\"flex-1 min-w-0\">`);\n        if (variant === \"full\") {\n          $$renderer3.push(\"<!--[-->\");\n          $$renderer3.push(`<div class=\"flex flex-col\"><!---->`);\n          User.Name($$renderer3, {\n            field: \"displayName\",\n            class: \"font-semibold text-[15px] text-foreground truncate\"\n          });\n          $$renderer3.push(`<!----> <!---->`);\n          User.Nip05($$renderer3, { class: \"text-sm text-muted-foreground truncate\" });\n          $$renderer3.push(`<!----></div>`);\n        } else {\n          $$renderer3.push(\"<!--[!-->\");\n          if (variant === \"compact\") {\n            $$renderer3.push(\"<!--[-->\");\n            $$renderer3.push(`<div class=\"flex items-center gap-2 min-w-0\"><!---->`);\n            User.Name($$renderer3, {\n              field: \"displayName\",\n              class: \"font-semibold text-[15px] text-foreground truncate\"\n            });\n            $$renderer3.push(`<!----></div>`);\n          } else {\n            $$renderer3.push(\"<!--[!-->\");\n            $$renderer3.push(`<!---->`);\n            User.Name($$renderer3, {\n              field: \"displayName\",\n              class: \"font-semibold text-[15px] text-foreground truncate\"\n            });\n            $$renderer3.push(`<!---->`);\n          }\n          $$renderer3.push(`<!--]-->`);\n        }\n        $$renderer3.push(`<!--]--></div></div>`);\n      },\n      $$slots: { default: true }\n    });\n    $$renderer2.push(`<!----> <div class=\"flex items-center gap-3\">`);\n    if (showTimestamp && context.event.created_at) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<!---->`);\n      Event.Time($$renderer2, {\n        event: context.event,\n        class: \"text-sm text-muted-foreground/70\"\n      });\n      $$renderer2.push(`<!---->`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--> `);\n    if (children) {\n      $$renderer2.push(\"<!--[-->\");\n      children($$renderer2);\n      $$renderer2.push(`<!---->`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div></header>`);\n  });\n}\nfunction Event_card_reply_indicator($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { class: className = \"\", onclick, children } = $$props;\n    const context = getContext(EVENT_CARD_CONTEXT_KEY);\n    if (!context) {\n      throw new Error(\"EventCard.ReplyIndicator must be used within EventCard.Root\");\n    }\n    const entityClickContext = getContext(ENTITY_CLICK_CONTEXT_KEY);\n    const handleClick = onclick ?? entityClickContext?.onEventClick;\n    $$renderer2.push(`<!---->`);\n    Event.ReplyIndicator($$renderer2, {\n      ndk: context.ndk,\n      event: context.event,\n      class: className,\n      onclick: handleClick,\n      children\n    });\n    $$renderer2.push(`<!---->`);\n  });\n}\nfunction Event_card_content($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let {\n      truncate,\n      showMedia = true,\n      showLinkPreview = true,\n      highlightMentions = true,\n      class: className = \"\"\n    } = $$props;\n    const context = getContext(EVENT_CARD_CONTEXT_KEY);\n    if (!context) {\n      throw new Error(\"EventCard.Content must be used within EventCard.Root\");\n    }\n    getContext(CONTENT_RENDERER_CONTEXT_KEY);\n    $$renderer2.push(`<div data-event-card-content=\"\" class=\"relative\"><div${attr_class(clsx(cn(\"whitespace-pre-wrap break-words\", truncate && true ? `line-clamp-${truncate}` : void 0, className)))}><!---->`);\n    {\n      Event_content($$renderer2, { ndk: context.ndk, event: context.event });\n    }\n    $$renderer2.push(`<!----></div> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div>`);\n  });\n}\nfunction Event_card_actions($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { variant = \"default\", class: className = \"\", children } = $$props;\n    $$renderer2.push(`<div data-event-card-actions=\"\"${attr(\"data-variant\", variant)}${attr_class(clsx(cn(\"flex items-center gap-12 select-none\", variant === \"vertical\" && \"flex-col gap-4\", className)))} role=\"presentation\">`);\n    if (children) {\n      $$renderer2.push(\"<!--[-->\");\n      children($$renderer2);\n      $$renderer2.push(`<!---->`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div>`);\n  });\n}\nfunction Event_card_dropdown($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { class: className = \"\", showRelayInfo = true } = $$props;\n    const context = getContext(EVENT_CARD_CONTEXT_KEY);\n    if (!context) {\n      throw new Error(\"EventCard.Dropdown must be used within EventCard.Root\");\n    }\n    (() => {\n      if (!context.event.author) return false;\n      return context.ndk.$mutes?.has(context.event.author.pubkey) ?? false;\n    })();\n    $$renderer2.push(`<div data-event-card-dropdown=\"\"${attr(\n      \"data-menu-open\",\n      // Close menu on outside click\n      void 0\n    )}${attr_class(clsx(cn(\"relative flex-shrink-0\", className)))}><button class=\"p-1 hover:bg-accent rounded-full transition-colors text-muted-foreground hover:text-foreground\" type=\"button\" aria-label=\"Open event menu\"><svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg></button> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]--></div> `);\n    {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]-->`);\n  });\n}\nconst EventCard = {\n  Root: Event_card_root,\n  Header: Event_card_header,\n  ReplyIndicator: Event_card_reply_indicator,\n  Content: Event_card_content,\n  Actions: Event_card_actions,\n  Dropdown: Event_card_dropdown\n};\nexport {\n  EventCard as E,\n  getNDKFromContext as g\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAWA,MAAM,sBAAsB,GAAG,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC;AACvD,MAAM,eAAe,GAAG,KAAK;AAC7B,SAAS,iBAAiB,CAAC,WAAW,EAAE;AACxC,EAAE,IAAI,WAAW,EAAE;AACnB,IAAI,OAAO,WAAW;AACtB,EAAE;AACF,EAAE,MAAM,UAAU,GAAG,UAAU,CAAC,eAAe,CAAC;AAChD,EAAE,IAAI,CAAC,UAAU,EAAE;AACnB,IAAI,MAAM,IAAI,KAAK,CAAC,+HAA+H,CAAC;AACpJ,EAAE;AACF,EAAE,OAAO,UAAU;AACnB;AACA,SAAS,eAAe,CAAC,UAAU,EAAE,OAAO,EAAE;AAC9C,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI;AACR,MAAM,GAAG,EAAE,WAAW;AACtB,MAAM,KAAK;AACX,MAAM,OAAO;AACb,MAAM,WAAW;AACjB,MAAM,YAAY;AAClB,MAAM,cAAc;AACpB,MAAM,WAAW;AACjB,MAAM,YAAY;AAClB,MAAM,KAAK,EAAE,SAAS,GAAG,EAAE;AAC3B,MAAM,QAAQ;AACd,MAAM,OAAO;AACb,MAAM,QAAQ;AACd,MAAM,GAAG;AACT,KAAK,GAAG,OAAO;AACf,IAAI,MAAM,GAAG,GAAG,iBAAiB,CAAC,WAAW,CAAC;AAC9C,IAAI,MAAM,OAAO,GAAG;AACpB,MAAM,IAAI,GAAG,GAAG;AAChB,QAAQ,OAAO,GAAG;AAClB,MAAM,CAAC;AACP,MAAM,IAAI,KAAK,GAAG;AAClB,QAAQ,OAAO,KAAK;AACpB,MAAM,CAAC;AACP,MAAM,IAAI,WAAW,GAAG;AACxB,QAAQ,OAAO,CAAC,CAAC,OAAO;AACxB,MAAM;AACN,KAAK;AACL,IAAI,UAAU,CAAC,sBAAsB,EAAE,OAAO,CAAC;AAC/C,IAAI,MAAM,kBAAkB,GAAG;AAC/B,MAAM,IAAI,WAAW,GAAG;AACxB,QAAQ,OAAO,WAAW;AAC1B,MAAM,CAAC;AACP,MAAM,IAAI,YAAY,GAAG;AACzB,QAAQ,OAAO,YAAY;AAC3B,MAAM,CAAC;AACP,MAAM,IAAI,cAAc,GAAG;AAC3B,QAAQ,OAAO,cAAc;AAC7B,MAAM,CAAC;AACP,MAAM,IAAI,WAAW,GAAG;AACxB,QAAQ,OAAO,WAAW;AAC1B,MAAM,CAAC;AACP,MAAM,IAAI,YAAY,GAAG;AACzB,QAAQ,OAAO,YAAY;AAC3B,MAAM;AACN,KAAK;AACL,IAAI,UAAU,CAAC,wBAAwB,EAAE,kBAAkB,CAAC;AAC5D,IAAI,MAAM,WAAW,GAAG,CAAC,CAAC,OAAO;AACjC,IAAI,IAAI,WAAW,EAAE;AACrB,MAAM,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,UAAU,CAAC;AAC5C,QAAQ,sBAAsB,EAAE,EAAE;AAClC,QAAQ,kBAAkB,EAAE,EAAE;AAC9B,QAAQ,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,0FAA0F,EAAE,SAAS,CAAC,CAAC;AAC9H,QAAQ,IAAI,EAAE,QAAQ;AACtB,QAAQ,GAAG;AACX,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACZ,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACpC,QAAQ,QAAQ,CAAC,WAAW,CAAC;AAC7B,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACnC,MAAM,CAAC,MAAM;AACb,QAAQ,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACrC,MAAM;AACN,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC,CAAC;AAC3C,IAAI,CAAC,MAAM;AACX,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,UAAU,CAAC;AAC7C,QAAQ,sBAAsB,EAAE,EAAE;AAClC,QAAQ,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,8BAA8B,EAAE,SAAS,CAAC,CAAC;AAClE,QAAQ,GAAG;AACX,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACZ,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACpC,QAAQ,QAAQ,CAAC,WAAW,CAAC;AAC7B,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACnC,MAAM,CAAC,MAAM;AACb,QAAQ,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACrC,MAAM;AACN,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC,CAAC;AAC5C,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChC,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,qBAAqB,CAAC,UAAU,EAAE,OAAO,EAAE;AACpD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI;AACR,MAAM,GAAG,EAAE,WAAW;AACtB,MAAM,KAAK;AACX,MAAM,KAAK,EAAE,SAAS,GAAG,EAAE;AAC3B,MAAM,OAAO;AACb,MAAM;AACN,KAAK,GAAG,OAAO;AACf,IAAI,iBAAiB,CAAC,WAAW,CAAC;AAClC,IAAI,MAAM,kBAAkB,GAAG,UAAU,CAAC,wBAAwB,CAAC;AACnE,IAAI,OAAO,IAAI,kBAAkB,EAAE,YAAY;AAC/C,IAAI,IAAI,YAAY,GAAG,IAAI;AAC3B,IAAI,IAAI,OAAO,GAAG,IAAI;AACtB,IAAI,MAAM,UAAU,GAAG,CAAC,MAAM;AAC9B,MAAM,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC;AACrF,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,OAAO,QAAQ;AACvB,MAAM;AACN,MAAM,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC;AACnF,MAAM,IAAI,OAAO,EAAE;AACnB,QAAQ,OAAO,OAAO;AACtB,MAAM;AACN,MAAM,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AAC9D,MAAM,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;AAC9B,QAAQ,OAAO,KAAK,CAAC,CAAC,CAAC;AACvB,MAAM;AACN,MAAM,OAAO,MAAM;AACnB,IAAI,CAAC,GAAG;AACR,IAAI;AACJ;AACA,MAAM;AACN,MAAM;AACN,MAAM,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,MAAM,IAAI,QAAQ,EAAE;AACpB,QAAQ,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACpC,QAAQ,QAAQ,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC;AAC/D,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACnC,MAAM,CAAC,MAAM;AACb,QAAQ,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACrC,QAAQ;AACR,UAAU,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACvC,UAAU;AACV,YAAY,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACzC,UAAU;AACV,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AACtC,QAAQ;AACR,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AACpC,MAAM;AACN,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAClC,IAAI,CAAC,MAAM;AACX,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChC,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,aAAa,CAAC,SAAS,EAAE;AAClC,EAAE,MAAM,SAAS,GAAG,CAAC,MAAM;AAC3B,IAAI,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE;AAC7B,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;AAC1C,IAAI,MAAM,GAAG,mBAAmB,IAAI,IAAI,EAAE;AAC1C,IAAI,MAAM,IAAI,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;AAC/C,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;AACpD,IAAI,IAAI,KAAK,GAAG,CAAC,EAAE;AACnB,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC;AAChD,MAAM,IAAI,IAAI,GAAG,CAAC,EAAE,OAAO,KAAK;AAChC,MAAM,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;AACvB,IAAI,CAAC,MAAM,IAAI,KAAK,GAAG,EAAE,EAAE;AAC3B,MAAM,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACxB,IAAI,CAAC,MAAM,IAAI,KAAK,GAAG,GAAG,EAAE;AAC5B,MAAM,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;AACzC,MAAM,OAAO,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;AACvB,IAAI,CAAC,MAAM;AACX,MAAM,OAAO,IAAI,CAAC,kBAAkB,EAAE;AACtC,IAAI;AACJ,EAAE,CAAC,GAAG;AACN,EAAE,OAAO,SAAS;AAClB;AACA,SAAS,UAAU,CAAC,UAAU,EAAE,OAAO,EAAE;AACzC,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,OAAO;AAClD,IAAI,MAAM,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,UAAU,CAAC;AACnD,IAAI,MAAM,QAAQ,GAAG,KAAK,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,WAAW,EAAE,GAAG,MAAM;AAC/F,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;AAC3H,EAAE,CAAC,CAAC;AACJ;AACA,MAAM,KAAK,GAAG;AACd,EAAE,cAAc,EAAE,qBAAqB;AACvC,EAAE,IAAI,EAAE;AACR,CAAC;AACD,SAAS,iBAAiB,CAAC,UAAU,EAAE,OAAO,EAAE;AAChD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI;AACR,MAAM,OAAO,GAAG,MAAM;AACtB,MAAM,UAAU,GAAG,IAAI;AACvB,MAAM,aAAa,GAAG,IAAI;AAC1B,MAAM,UAAU,GAAG,IAAI;AACvB,MAAM,KAAK,EAAE,SAAS,GAAG,EAAE;AAC3B,MAAM;AACN,KAAK,GAAG,OAAO;AACf,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,sBAAsB,CAAC;AACtD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,IAAI,KAAK,CAAC,qDAAqD,CAAC;AAC5E,IAAI;AACJ,IAAI,MAAM,kBAAkB,GAAG,UAAU,CAAC,wBAAwB,CAAC;AACnE,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,iCAAiC,EAAE,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,yBAAyB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AAC9J,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AAC3B,MAAM,GAAG,EAAE,OAAO,CAAC,GAAG;AACtB,MAAM,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,MAAM;AAChC,MAAM,QAAQ,EAAE,CAAC,WAAW,KAAK;AACjC,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,wCAAwC,EAAE,kBAAkB,EAAE,WAAW,IAAI,gBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,kBAAkB,EAAE,WAAW,GAAG,QAAQ,GAAG,cAAc,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,kBAAkB,EAAE,WAAW,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACpS,QAAQ,IAAI,UAAU,EAAE;AACxB,UAAU,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACtC,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACrC,UAAU,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;AACnC,YAAY,KAAK,EAAE,EAAE,CAAC,eAAe,EAAE,UAAU,KAAK,IAAI,GAAG,SAAS,GAAG,UAAU,IAAI,IAAI,GAAG,SAAS,GAAG,UAAU,KAAK,IAAI,GAAG,WAAW,GAAG,WAAW;AACzJ,WAAW,CAAC;AACZ,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACrC,QAAQ,CAAC,MAAM;AACf,UAAU,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACvC,QAAQ;AACR,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,qCAAqC,CAAC,CAAC;AACjE,QAAQ,IAAI,OAAO,KAAK,MAAM,EAAE;AAChC,UAAU,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACtC,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,kCAAkC,CAAC,CAAC;AAChE,UAAU,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACjC,YAAY,KAAK,EAAE,aAAa;AAChC,YAAY,KAAK,EAAE;AACnB,WAAW,CAAC;AACZ,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC;AAC7C,UAAU,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,KAAK,EAAE,wCAAwC,EAAE,CAAC;AACtF,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC;AAC3C,QAAQ,CAAC,MAAM;AACf,UAAU,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACvC,UAAU,IAAI,OAAO,KAAK,SAAS,EAAE;AACrC,YAAY,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AACxC,YAAY,WAAW,CAAC,IAAI,CAAC,CAAC,oDAAoD,CAAC,CAAC;AACpF,YAAY,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACnC,cAAc,KAAK,EAAE,aAAa;AAClC,cAAc,KAAK,EAAE;AACrB,aAAa,CAAC;AACd,YAAY,WAAW,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,CAAC;AAC7C,UAAU,CAAC,MAAM;AACjB,YAAY,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACzC,YAAY,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACvC,YAAY,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACnC,cAAc,KAAK,EAAE,aAAa;AAClC,cAAc,KAAK,EAAE;AACrB,aAAa,CAAC;AACd,YAAY,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACvC,UAAU;AACV,UAAU,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AACtC,QAAQ;AACR,QAAQ,WAAW,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC,CAAC;AAChD,MAAM,CAAC;AACP,MAAM,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI;AAC9B,KAAK,CAAC;AACN,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,6CAA6C,CAAC,CAAC;AACrE,IAAI,IAAI,aAAa,IAAI,OAAO,CAAC,KAAK,CAAC,UAAU,EAAE;AACnD,MAAM,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACjC,MAAM,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE;AAC9B,QAAQ,KAAK,EAAE,OAAO,CAAC,KAAK;AAC5B,QAAQ,KAAK,EAAE;AACf,OAAO,CAAC;AACR,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACjC,IAAI,CAAC,MAAM;AACX,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,IAAI,QAAQ,EAAE;AAClB,MAAM,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,MAAM,QAAQ,CAAC,WAAW,CAAC;AAC3B,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACjC,IAAI,CAAC,MAAM;AACX,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,uBAAuB,CAAC,CAAC;AAC/C,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,0BAA0B,CAAC,UAAU,EAAE,OAAO,EAAE;AACzD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI,EAAE,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO;AAC9D,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,sBAAsB,CAAC;AACtD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,IAAI,KAAK,CAAC,6DAA6D,CAAC;AACpF,IAAI;AACJ,IAAI,MAAM,kBAAkB,GAAG,UAAU,CAAC,wBAAwB,CAAC;AACnE,IAAI,MAAM,WAAW,GAAG,OAAO,IAAI,kBAAkB,EAAE,YAAY;AACnE,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAI,KAAK,CAAC,cAAc,CAAC,WAAW,EAAE;AACtC,MAAM,GAAG,EAAE,OAAO,CAAC,GAAG;AACtB,MAAM,KAAK,EAAE,OAAO,CAAC,KAAK;AAC1B,MAAM,KAAK,EAAE,SAAS;AACtB,MAAM,OAAO,EAAE,WAAW;AAC1B,MAAM;AACN,KAAK,CAAC;AACN,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AAC/B,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,kBAAkB,CAAC,UAAU,EAAE,OAAO,EAAE;AACjD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI;AACR,MAAM,QAAQ;AACd,MAAM,SAAS,GAAG,IAAI;AACtB,MAAM,eAAe,GAAG,IAAI;AAC5B,MAAM,iBAAiB,GAAG,IAAI;AAC9B,MAAM,KAAK,EAAE,SAAS,GAAG;AACzB,KAAK,GAAG,OAAO;AACf,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,sBAAsB,CAAC;AACtD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,IAAI,KAAK,CAAC,sDAAsD,CAAC;AAC7E,IAAI;AACJ,IAAI,UAAU,CAAC,4BAA4B,CAAC;AAC5C,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,qDAAqD,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,iCAAiC,EAAE,QAAQ,IAAI,IAAI,GAAG,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC,GAAG,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChN,IAAI;AACJ,MAAM,aAAa,CAAC,WAAW,EAAE,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC;AAC5E,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC;AACtC,IAAI;AACJ,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC;AACtC,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,kBAAkB,CAAC,UAAU,EAAE,OAAO,EAAE;AACjD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI,EAAE,OAAO,GAAG,SAAS,EAAE,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO;AAC1E,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,+BAA+B,EAAE,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,sCAAsC,EAAE,OAAO,KAAK,UAAU,IAAI,gBAAgB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;AAClO,IAAI,IAAI,QAAQ,EAAE;AAClB,MAAM,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;AAClC,MAAM,QAAQ,CAAC,WAAW,CAAC;AAC3B,MAAM,WAAW,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACjC,IAAI,CAAC,MAAM;AACX,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC;AACtC,EAAE,CAAC,CAAC;AACJ;AACA,SAAS,mBAAmB,CAAC,UAAU,EAAE,OAAO,EAAE;AAClD,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,KAAK;AACxC,IAAI,IAAI,EAAE,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,aAAa,GAAG,IAAI,EAAE,GAAG,OAAO;AACjE,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,sBAAsB,CAAC;AACtD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,MAAM,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC;AAC9E,IAAI;AACJ,IAAI,CAAC,MAAM;AACX,MAAM,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,KAAK;AAC7C,MAAM,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK;AAC1E,IAAI,CAAC,GAAG;AACR,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,gCAAgC,EAAE,IAAI;AAC5D,MAAM,gBAAgB;AACtB;AACA,MAAM;AACN,KAAK,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,wBAAwB,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,2YAA2Y,CAAC,CAAC;AAC/c,IAAI;AACJ,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC;AACvC,IAAI;AACJ,MAAM,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;AACnC,IAAI;AACJ,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;AAChC,EAAE,CAAC,CAAC;AACJ;AACK,MAAC,SAAS,GAAG;AAClB,EAAE,IAAI,EAAE,eAAe;AACvB,EAAE,MAAM,EAAE,iBAAiB;AAC3B,EAAE,cAAc,EAAE,0BAA0B;AAC5C,EAAE,OAAO,EAAE,kBAAkB;AAC7B,EAAE,OAAO,EAAE,kBAAkB;AAC7B,EAAE,QAAQ,EAAE;AACZ;;;;"}