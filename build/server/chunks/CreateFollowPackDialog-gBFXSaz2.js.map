{"version":3,"file":"CreateFollowPackDialog-gBFXSaz2.js","sources":["../../../.svelte-kit/adapter-node/chunks/CreateFollowPackDialog.js"],"sourcesContent":["import { b as attr, a as attr_class, f as bind_props } from \"./index2.js\";\nimport { n as ndk } from \"./ndk.svelte.js\";\nimport \"@nostr-dev-kit/ndk\";\nimport \"clsx\";\nimport \"@nostr-dev-kit/wallet\";\nimport \"@nostr-dev-kit/wot\";\nimport \"@nostr-dev-kit/sessions\";\nimport \"@nostr-dev-kit/sync\";\nimport { e as escape_html } from \"./escaping.js\";\nfunction CreateFollowPackDialog($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let { open = false, onClose, initialPubkey, editingPack } = $$props;\n    let isPublishing = false;\n    let title = \"\";\n    let description = \"\";\n    let imageUrl = \"\";\n    let selectedPubkeys = new Set(initialPubkey ? [initialPubkey] : []);\n    const contactListSubscription = ndk.$subscribe(() => ndk.$currentUser?.pubkey ? {\n      filters: [{ kinds: [3], authors: [ndk.$currentUser.pubkey], limit: 1 }],\n      bufferMs: 100\n    } : void 0);\n    const userFollows = (() => {\n      const contactList = contactListSubscription.events[0];\n      if (!contactList) return /* @__PURE__ */ new Set();\n      return new Set(contactList.tags.filter((tag) => tag[0] === \"p\").map((tag) => tag[1]));\n    })();\n    (() => {\n      return Array.from(userFollows);\n    })();\n    if (\n      // Load editing pack data when modal opens in edit mode\n      open\n    ) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"fixed inset-0 z-50 flex items-start justify-center bg-background/80 backdrop-blur-sm overflow-y-auto py-8\" role=\"presentation\"><div class=\"w-full max-w-3xl mx-4 bg-card rounded-2xl border border-border shadow-2xl my-auto\" role=\"dialog\" aria-modal=\"true\"><div class=\"flex items-center justify-between px-6 py-4 border-b border-border\"><div class=\"flex items-center gap-3\"><button${attr(\"disabled\", isPublishing, true)} class=\"text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50\" aria-label=\"Close\"><svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button> <h2 class=\"text-xl font-bold text-foreground flex items-center gap-2\"><svg class=\"w-6 h-6 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"></path></svg> ${escape_html(editingPack ? \"Edit Follow Pack\" : \"Create Follow Pack\")}</h2></div> <button${attr(\"disabled\", !title.trim() || selectedPubkeys.size === 0 || isPublishing, true)} class=\"px-5 py-2.5 bg-primary hover:bg-accent-dark disabled:bg-muted disabled:cursor-not-allowed text-foreground rounded-lg transition-colors font-semibold text-sm\">${escape_html(editingPack ? \"Update Pack\" : \"Create Pack\")}</button></div> <div class=\"flex border-b border-border\"><button${attr_class(`flex-1 px-6 py-3 font-medium transition-colors ${\"text-primary border-b-2 border-primary\"}`)}>Details</button> <button${attr_class(`flex-1 px-6 py-3 font-medium transition-colors ${\"text-muted-foreground hover:text-muted-foreground\"}`)}>Members (${escape_html(selectedPubkeys.size)})</button></div> <div class=\"p-6\">`);\n      {\n        $$renderer2.push(\"<!--[-->\");\n        $$renderer2.push(`<div class=\"space-y-5\"><div><label class=\"block text-sm font-medium text-muted-foreground mb-2\">Cover Image URL (optional)</label> <input type=\"url\"${attr(\"value\", imageUrl)} placeholder=\"https://example.com/image.jpg\" class=\"w-full px-4 py-3 bg-muted border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary transition-colors\"/> `);\n        if (imageUrl.trim()) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<div class=\"mt-3 rounded-lg overflow-hidden border border-border\"><img${attr(\"src\", imageUrl)} alt=\"Preview\" class=\"w-full h-48 object-cover\" onerror=\"this.__e=event\"/></div>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n        }\n        $$renderer2.push(`<!--]--></div> <div><label class=\"block text-sm font-medium text-muted-foreground mb-2\">Title <span class=\"text-red-500\">*</span></label> <input type=\"text\"${attr(\"value\", title)} placeholder=\"e.g., Bitcoin Developers\" class=\"w-full px-4 py-3 bg-muted border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary transition-colors\" maxlength=\"100\"/></div> <div><label class=\"block text-sm font-medium text-muted-foreground mb-2\">Description (optional)</label> <textarea placeholder=\"Describe what this follow pack is about...\" class=\"w-full px-4 py-3 bg-muted border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary transition-colors resize-none\" rows=\"4\" maxlength=\"500\">`);\n        const $$body = escape_html(description);\n        if ($$body) {\n          $$renderer2.push(`${$$body}`);\n        }\n        $$renderer2.push(`</textarea> <p class=\"text-xs text-muted-foreground mt-1\">${escape_html(description.length)}/500 characters</p></div></div>`);\n      }\n      $$renderer2.push(`<!--]--></div> <div class=\"px-6 py-4 border-t border-border bg-card/50\"><p class=\"text-xs text-muted-foreground\">Press <kbd class=\"px-1.5 py-0.5 bg-muted rounded text-muted-foreground\">Esc</kbd> to cancel</p></div></div></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n    }\n    $$renderer2.push(`<!--]-->`);\n    bind_props($$props, { open });\n  });\n}\nexport {\n  CreateFollowPackDialog as C\n};\n"],"names":[],"mappings":"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"}