{"version":3,"file":"_page.svelte-DC37D7AZ.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/invites/_page.svelte.js"],"sourcesContent":["import { e as ensure_array_like, b as attr } from \"../../../../chunks/index2.js\";\nimport { n as ndk } from \"../../../../chunks/ndk.svelte.js\";\nimport \"@nostr-dev-kit/ndk\";\nimport { f as formatTimeAgo } from \"../../../../chunks/formatTime.js\";\nimport { e as escape_html } from \"../../../../chunks/escaping.js\";\nfunction _page($$renderer, $$props) {\n  $$renderer.component(($$renderer2) => {\n    let invites = [];\n    let copiedId = null;\n    ndk.$currentUser?.pubkey;\n    function getInviteLink(event) {\n      const dTag = event.tags.find((tag) => tag[0] === \"d\")?.[1];\n      if (!dTag) return \"\";\n      return `${window.location.origin}/i/${dTag}`;\n    }\n    function getInviteData(event) {\n      try {\n        const content = JSON.parse(event.content);\n        return {\n          welcomeMessage: content.welcomeMessage,\n          recipientName: content.recipientName,\n          isPersonalized: !!content.recipientName\n        };\n      } catch {\n        return { isPersonalized: false };\n      }\n    }\n    $$renderer2.push(`<div class=\"w-full lg:max-w-4xl mx-auto p-4 sm:p-6 lg:p-8\">`);\n    if (\n      // Set up header\n      invites.length === 0\n    ) {\n      $$renderer2.push(\"<!--[-->\");\n      $$renderer2.push(`<div class=\"text-center py-12\"><div class=\"w-16 h-16 bg-neutral-200 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4\"><svg class=\"w-8 h-8 text-neutral-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76\"></path></svg></div> <h3 class=\"text-lg font-semibold text-foreground mb-2\">No invites yet</h3> <p class=\"text-sm text-muted-foreground\">Create your first invite to start sharing Agora with others</p></div>`);\n    } else {\n      $$renderer2.push(\"<!--[!-->\");\n      $$renderer2.push(`<div class=\"space-y-4\"><!--[-->`);\n      const each_array = ensure_array_like(invites);\n      for (let $$index = 0, $$length = each_array.length; $$index < $$length; $$index++) {\n        let invite = each_array[$$index];\n        const inviteData = getInviteData(invite);\n        const inviteLink = getInviteLink(invite);\n        $$renderer2.push(`<div class=\"bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 p-6\"><div class=\"flex items-start justify-between mb-4\"><div class=\"flex-1\"><div class=\"flex items-center gap-2 mb-2\">`);\n        if (inviteData.isPersonalized) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-400\"><svg class=\"w-3 h-3 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z\"></path></svg> Personalized</span>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n          $$renderer2.push(`<span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-muted text-neutral-800 dark:text-neutral-400\">General Invite</span>`);\n        }\n        $$renderer2.push(`<!--]--></div> `);\n        if (inviteData.recipientName) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<h3 class=\"text-lg font-semibold text-foreground mb-1\">For ${escape_html(inviteData.recipientName)}</h3>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n        }\n        $$renderer2.push(`<!--]--> <p class=\"text-sm text-neutral-500 dark:text-neutral-400\">Created ${escape_html(formatTimeAgo(invite.created_at || 0))}</p></div> <button class=\"p-2 text-neutral-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg transition-colors\" title=\"Delete invite\"><svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path></svg></button></div> `);\n        if (inviteData.welcomeMessage) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<div class=\"mb-4 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg\"><p class=\"text-sm text-foreground whitespace-pre-wrap line-clamp-3\">${escape_html(inviteData.welcomeMessage)}</p></div>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n        }\n        $$renderer2.push(`<!--]--> <div class=\"bg-muted rounded-lg p-3 flex items-center space-x-2\"><input type=\"text\"${attr(\"value\", inviteLink)} readonly class=\"flex-1 bg-transparent text-sm text-foreground outline-none truncate\"/> <button class=\"px-3 py-1.5 bg-primary hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center space-x-1 text-sm flex-shrink-0\">`);\n        if (copiedId === invite.id) {\n          $$renderer2.push(\"<!--[-->\");\n          $$renderer2.push(`<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path></svg> <span>Copied!</span>`);\n        } else {\n          $$renderer2.push(\"<!--[!-->\");\n          $$renderer2.push(`<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"></path></svg> <span>Copy</span>`);\n        }\n        $$renderer2.push(`<!--]--></button></div></div>`);\n      }\n      $$renderer2.push(`<!--]--></div>`);\n    }\n    $$renderer2.push(`<!--]--></div>`);\n  });\n}\nexport {\n  _page as default\n};\n"],"names":[],"mappings":"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"}