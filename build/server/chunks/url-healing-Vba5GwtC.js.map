{"version":3,"file":"url-healing-Vba5GwtC.js","sources":["../../../.svelte-kit/adapter-node/chunks/url-healing.js"],"sourcesContent":["import { NDKEvent, mapImetaTag, NDKKind, wrapEvent } from \"@nostr-dev-kit/ndk\";\nimport createDebug from \"debug\";\nconst ErrorCodes = {\n  // Server Errors\n  SERVER_UNAVAILABLE: \"SERVER_UNAVAILABLE\",\n  SERVER_ERROR: \"SERVER_ERROR\",\n  SERVER_REJECTED: \"SERVER_REJECTED\",\n  SERVER_TIMEOUT: \"SERVER_TIMEOUT\",\n  SERVER_LIST_EMPTY: \"SERVER_LIST_EMPTY\",\n  SERVER_INVALID_RESPONSE: \"SERVER_INVALID_RESPONSE\",\n  // Auth Errors\n  NO_SIGNER: \"NO_SIGNER\",\n  AUTH_REQUIRED: \"AUTH_REQUIRED\",\n  AUTH_INVALID: \"AUTH_INVALID\",\n  AUTH_EXPIRED: \"AUTH_EXPIRED\",\n  AUTH_REJECTED: \"AUTH_REJECTED\",\n  // Upload Errors\n  UPLOAD_TOO_LARGE: \"UPLOAD_TOO_LARGE\",\n  UPLOAD_INVALID_TYPE: \"UPLOAD_INVALID_TYPE\",\n  UPLOAD_FAILED: \"UPLOAD_FAILED\",\n  ALL_SERVERS_FAILED: \"ALL_SERVERS_FAILED\",\n  // Not Found Errors\n  BLOB_NOT_FOUND: \"BLOB_NOT_FOUND\",\n  USER_SERVER_LIST_NOT_FOUND: \"USER_SERVER_LIST_NOT_FOUND\",\n  // Optimization Errors\n  SERVER_UNSUPPORTED: \"SERVER_UNSUPPORTED\",\n  FORMAT_UNSUPPORTED: \"FORMAT_UNSUPPORTED\",\n  // SHA256 Calculator Errors\n  NO_SHA256_CALCULATOR: \"NO_SHA256_CALCULATOR\"\n};\nconst BLOSSOM_AUTH_EVENT_KIND = 24242;\nconst DEFAULT_RETRY_OPTIONS = {\n  maxRetries: 3,\n  retryDelay: 1e3,\n  backoffFactor: 1.5,\n  retryableStatusCodes: [408, 429, 500, 502, 503, 504]\n};\nconst DEFAULT_HEADERS = {\n  Accept: \"application/json\"\n};\nconst DEBUG_NAMESPACE = \"ndk:blossom\";\nconst SERVER_ERROR_STATUS_CODES = [500, 501, 502, 503, 504, 505];\nclass NDKBlossomError extends Error {\n  constructor(message, code, serverUrl, cause) {\n    super(message);\n    this.name = \"NDKBlossomError\";\n    this.code = code;\n    this.serverUrl = serverUrl;\n    this.cause = cause;\n  }\n}\nclass NDKBlossomUploadError extends NDKBlossomError {\n  constructor(message, code, serverUrl, cause) {\n    super(message, code, serverUrl, cause);\n    this.name = \"NDKBlossomUploadError\";\n  }\n}\nclass NDKBlossomServerError extends NDKBlossomError {\n  constructor(message, code, serverUrl, status, cause) {\n    super(message, code, serverUrl, cause);\n    this.name = \"NDKBlossomServerError\";\n    this.status = status;\n  }\n}\nclass NDKBlossomAuthError extends NDKBlossomError {\n  constructor(message, code, serverUrl, cause) {\n    super(message, code, serverUrl, cause);\n    this.name = \"NDKBlossomAuthError\";\n  }\n}\nclass NDKBlossomNotFoundError extends NDKBlossomError {\n  constructor(message, code, serverUrl, cause) {\n    super(message, code, serverUrl, cause);\n    this.name = \"NDKBlossomNotFoundError\";\n  }\n}\nclass NDKBlossomOptimizationError extends NDKBlossomError {\n  constructor(message, code, serverUrl, cause) {\n    super(message, code, serverUrl, cause);\n    this.name = \"NDKBlossomOptimizationError\";\n  }\n}\nclass DebugLogger {\n  constructor(namespace = DEBUG_NAMESPACE) {\n    this.debugger = createDebug(namespace);\n  }\n  error(message, data) {\n    this.log(\"error\", message, data);\n  }\n  warn(message, data) {\n    this.log(\"warn\", message, data);\n  }\n  info(message, data) {\n    this.log(\"info\", message, data);\n  }\n  debug(message, data) {\n    this.log(\"debug\", message, data);\n  }\n  log(level, message, data) {\n    const formattedMessage = `[${level.toUpperCase()}] ${message}`;\n    if (data !== void 0) {\n      this.debugger(formattedMessage, data);\n    } else {\n      this.debugger(formattedMessage);\n    }\n  }\n}\nclass CustomLogger {\n  constructor(logFunction) {\n    this.logFunction = logFunction;\n  }\n  error(message, data) {\n    this.logFunction(\"error\", message, data);\n  }\n  warn(message, data) {\n    this.logFunction(\"warn\", message, data);\n  }\n  info(message, data) {\n    this.logFunction(\"info\", message, data);\n  }\n  debug(message, data) {\n    this.logFunction(\"debug\", message, data);\n  }\n}\nconst logger$2 = new DebugLogger(\"ndk:blossom:auth\");\nasync function createAuthEvent(ndk, action, options = {}) {\n  try {\n    const authEvent = new NDKEvent(ndk);\n    authEvent.kind = BLOSSOM_AUTH_EVENT_KIND;\n    authEvent.created_at = Math.floor(Date.now() / 1e3);\n    authEvent.content = options.content || `${action.charAt(0).toUpperCase() + action.slice(1)} blob`;\n    const tags = [\n      [\"t\", action]\n      // Action tag (required)\n    ];\n    if (options.sha256) {\n      const hashes = Array.isArray(options.sha256) ? options.sha256 : [options.sha256];\n      hashes.forEach((hash) => {\n        tags.push([\"x\", hash]);\n      });\n    }\n    const expirationSeconds = options.expirationSeconds || 3600;\n    const expiration = Math.floor(Date.now() / 1e3) + expirationSeconds;\n    tags.push([\"expiration\", expiration.toString()]);\n    authEvent.tags = tags;\n    const signer = options.signer ?? ndk.signer;\n    await authEvent.sign(signer);\n    logger$2.debug(`Created Blossom auth event for action: ${action}`);\n    return authEvent;\n  } catch (error) {\n    if (error instanceof NDKBlossomAuthError) {\n      throw error;\n    }\n    throw new NDKBlossomAuthError(`Failed to create auth event: ${error.message}`, ErrorCodes.AUTH_REQUIRED, void 0, error);\n  }\n}\nfunction addAuthHeaders(headers, authEvent) {\n  const serializedEvent = JSON.stringify(authEvent.rawEvent());\n  const encodedEvent = btoa(serializedEvent);\n  return {\n    ...headers,\n    Authorization: `Nostr ${encodedEvent}`\n  };\n}\nasync function createAuthenticatedFetchOptions(ndk, action, options = {}) {\n  const authEvent = await createAuthEvent(ndk, action, {\n    sha256: options.sha256,\n    content: options.content,\n    expirationSeconds: options.expirationSeconds,\n    signer: options.signer\n  });\n  const headers = addAuthHeaders(options.fetchOptions?.headers || {}, authEvent);\n  return {\n    ...options.fetchOptions || {},\n    headers\n  };\n}\nconst auth = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  addAuthHeaders,\n  createAuthEvent,\n  createAuthenticatedFetchOptions\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst defaultLogger = new DebugLogger();\nasync function fetchWithRetry(url, options = {}, retryOptions = {}, logger2 = defaultLogger) {\n  const retry = {\n    ...DEFAULT_RETRY_OPTIONS,\n    ...retryOptions\n  };\n  const headers = {\n    ...DEFAULT_HEADERS,\n    ...options.headers || {}\n  };\n  let attempts = 0;\n  const getNextDelay = () => retry.retryDelay * retry.backoffFactor ** attempts;\n  while (attempts <= retry.maxRetries) {\n    try {\n      const response = await fetch(url, {\n        ...options,\n        headers\n      });\n      if (!response.ok && retry.retryableStatusCodes.includes(response.status) && attempts < retry.maxRetries) {\n        attempts++;\n        const delay = getNextDelay();\n        logger2.warn(`Request failed with status ${response.status}, retrying in ${delay}ms (attempt ${attempts}/${retry.maxRetries})`, { url });\n        await new Promise((resolve) => setTimeout(resolve, delay));\n        continue;\n      }\n      return response;\n    } catch (error) {\n      if (attempts < retry.maxRetries) {\n        attempts++;\n        const delay = getNextDelay();\n        logger2.warn(`Network error, retrying in ${delay}ms (attempt ${attempts}/${retry.maxRetries})`, {\n          url,\n          error\n        });\n        await new Promise((resolve) => setTimeout(resolve, delay));\n      } else {\n        throw new NDKBlossomServerError(`Network request failed after ${retry.maxRetries} retries: ${error.message}`, ErrorCodes.SERVER_UNAVAILABLE, url, void 0, error);\n      }\n    }\n  }\n  throw new NDKBlossomServerError(`Request failed after ${retry.maxRetries} retries`, ErrorCodes.SERVER_UNAVAILABLE, url);\n}\nasync function checkResourceExists(url, options = {}, retryOptions = {}) {\n  try {\n    const response = await fetchWithRetry(url, {\n      ...options,\n      method: \"HEAD\"\n    }, retryOptions);\n    return response.ok;\n  } catch (error) {\n    return false;\n  }\n}\nasync function checkBlobExists(serverUrl, hash, retryOptions = {}) {\n  const baseUrl = serverUrl.endsWith(\"/\") ? serverUrl.slice(0, -1) : serverUrl;\n  const url = `${baseUrl}/${hash}`;\n  return checkResourceExists(url, { method: \"HEAD\" }, retryOptions);\n}\nasync function extractResponseJson(response, serverUrl) {\n  if (!response.ok) {\n    if (SERVER_ERROR_STATUS_CODES.includes(response.status)) {\n      throw new NDKBlossomServerError(`Server error: ${response.status} ${response.statusText}`, ErrorCodes.SERVER_ERROR, serverUrl, response.status);\n    } else {\n      throw new NDKBlossomServerError(`Request rejected: ${response.status} ${response.statusText}`, ErrorCodes.SERVER_REJECTED, serverUrl, response.status);\n    }\n  }\n  try {\n    return await response.json();\n  } catch (error) {\n    throw new NDKBlossomServerError(`Invalid JSON response: ${error.message}`, ErrorCodes.SERVER_INVALID_RESPONSE, serverUrl, response.status, error);\n  }\n}\nconst logger$1 = new DebugLogger(\"ndk:blossom:uploader\");\nasync function uploadToServer(ndk, file, serverUrl, options = {}) {\n  logger$1.debug(`Uploading file to ${serverUrl}`, { fileName: file.name, fileType: file.type, fileSize: file.size });\n  if (!options.sha256Calculator) {\n    throw new NDKBlossomUploadError(\"SHA256Calculator is required for upload. Please provide one in options.\", \"NO_SHA256_CALCULATOR\", serverUrl);\n  }\n  const sha256Calculator = options.sha256Calculator;\n  const hash = await sha256Calculator.calculateSha256(file);\n  logger$1.debug(`File hash: ${hash}`);\n  try {\n    const baseUrl = serverUrl.endsWith(\"/\") ? serverUrl.slice(0, -1) : serverUrl;\n    const uploadUrl = `${baseUrl}/upload`;\n    const authOptions = await createAuthenticatedFetchOptions(ndk, \"upload\", {\n      sha256: hash,\n      content: `Upload ${file.name}`,\n      signer: options.signer,\n      fetchOptions: {\n        method: \"PUT\",\n        body: file,\n        headers: {\n          \"Content-Type\": file.type || \"application/octet-stream\",\n          ...options.headers\n        }\n      }\n    });\n    if (options.onProgress) {\n      const originalBody = authOptions.body;\n      if (originalBody instanceof File || originalBody instanceof Blob) {\n        const xhr = new XMLHttpRequest();\n        const uploadPromise = new Promise((resolve, reject) => {\n          xhr.upload.addEventListener(\"progress\", (event) => {\n            if (event.lengthComputable) {\n              options.onProgress?.({\n                loaded: event.loaded,\n                total: event.total\n              });\n            }\n          });\n          xhr.addEventListener(\"load\", () => {\n            if (xhr.status >= 200 && xhr.status < 300) {\n              try {\n                const parsedResponse = JSON.parse(xhr.responseText);\n                resolve(parsedResponse);\n              } catch (error) {\n                reject(new NDKBlossomServerError(`Invalid response from server: ${error.message}`, ErrorCodes.SERVER_INVALID_RESPONSE, serverUrl, xhr.status, error));\n              }\n            } else {\n              reject(new NDKBlossomServerError(`Upload failed with status ${xhr.status}`, ErrorCodes.SERVER_REJECTED, serverUrl, xhr.status));\n            }\n          });\n          xhr.addEventListener(\"error\", () => {\n            reject(new NDKBlossomServerError(\"Network error during upload\", ErrorCodes.SERVER_UNAVAILABLE, serverUrl));\n          });\n          xhr.addEventListener(\"abort\", () => {\n            reject(new NDKBlossomServerError(\"Upload aborted\", ErrorCodes.UPLOAD_FAILED, serverUrl));\n          });\n          xhr.open(\"PUT\", uploadUrl);\n          for (const [key, value] of Object.entries(authOptions.headers || {})) {\n            xhr.setRequestHeader(key, value);\n          }\n          xhr.send(originalBody);\n        });\n        return await uploadPromise;\n      }\n    }\n    const response = await fetchWithRetry(uploadUrl, authOptions, {\n      maxRetries: options.maxRetries,\n      retryDelay: options.retryDelay\n    });\n    await extractResponseJson(response, serverUrl);\n    const url = `${baseUrl}/${hash}`;\n    return {\n      url,\n      size: file.size.toString(),\n      m: file.type,\n      x: hash\n    };\n  } catch (error) {\n    if (error instanceof NDKBlossomServerError || error instanceof NDKBlossomAuthError) {\n      throw error;\n    }\n    throw new NDKBlossomUploadError(`Upload failed: ${error.message}`, ErrorCodes.UPLOAD_FAILED, serverUrl, error);\n  }\n}\nasync function uploadFile(ndkBlossom, file, options = {}) {\n  logger$1.debug(`Starting file upload`, { fileName: file.name, fileType: file.type, fileSize: file.size });\n  logger$1.debug(`Upload options:`, {\n    hasServer: !!options.server,\n    hasFallbackServer: !!options.fallbackServer,\n    fallbackServer: options.fallbackServer,\n    allOptions: options\n  });\n  if (options.server) {\n    try {\n      const result = await uploadToServer(ndkBlossom.ndk, file, options.server, options);\n      logger$1.debug(`Upload successful to specified server ${options.server}`);\n      return result;\n    } catch (error) {\n      logger$1.error(`Upload to specified server ${options.server} failed:`, error);\n      throw new NDKBlossomUploadError(`Upload failed on specified server: ${options.server}: ${error.message}`, ErrorCodes.UPLOAD_FAILED);\n    }\n  }\n  const serverList = await ndkBlossom.getServerList();\n  let serverUrls = [];\n  if (serverList && Array.isArray(serverList.servers)) {\n    serverUrls = serverList.servers;\n  }\n  const errors = [];\n  for (const serverUrl of serverUrls) {\n    try {\n      const result = await uploadToServer(ndkBlossom.ndk, file, serverUrl, options);\n      logger$1.debug(`Upload successful to ${serverUrl}`);\n      return result;\n    } catch (error) {\n      logger$1.error(`Upload to ${serverUrl} failed:`, error);\n      errors.push({ serverUrl, error });\n      if (options.onServerError && error instanceof NDKBlossomServerError) {\n        const action = options.onServerError(error, serverUrl);\n        if (action === \"retry\") {\n          try {\n            const result = await uploadToServer(ndkBlossom.ndk, file, serverUrl, options);\n            logger$1.debug(`Retry upload successful to ${serverUrl}`);\n            return result;\n          } catch (retryError) {\n            logger$1.error(`Retry upload to ${serverUrl} failed:`, retryError);\n            errors.push({ serverUrl, error: retryError });\n          }\n        }\n      }\n    }\n  }\n  if (options.fallbackServer) {\n    try {\n      const result = await uploadToServer(ndkBlossom.ndk, file, options.fallbackServer, options);\n      logger$1.debug(`Upload successful to fallback server ${options.fallbackServer}`);\n      return result;\n    } catch (error) {\n      logger$1.error(`Upload to fallback server ${options.fallbackServer} failed:`, error);\n      errors.push({ serverUrl: options.fallbackServer, error });\n    }\n  }\n  const errorDetails = errors.map((e) => {\n    const err = e.error;\n    let details = `${e.serverUrl}: ${err.message}`;\n    if (err instanceof NDKBlossomServerError) {\n      details += ` (status: ${err.status}, code: ${err.code})`;\n      if (err.cause) {\n        details += ` - ${err.cause.message}`;\n      }\n    } else if (err instanceof NDKBlossomAuthError) {\n      details += ` (auth error, code: ${err.code})`;\n    } else if (err instanceof NDKBlossomUploadError) {\n      details += ` (code: ${err.code})`;\n      if (err.cause) {\n        details += ` - cause: ${err.cause.message}`;\n      }\n    }\n    return details;\n  });\n  const errorMessage = serverUrls.length === 0 ? `No blossom servers configured. Please add servers to your profile or provide a fallbackServer. ${options.fallbackServer ? `Fallback server also failed: ${errorDetails[0] || \"unknown error\"}` : \"\"}` : `Upload failed on all ${serverUrls.length} configured server(s)${options.fallbackServer ? \" and fallback server\" : \"\"}:\n${errorDetails.join(\"\\n\")}`;\n  logger$1.error(errorMessage);\n  throw new NDKBlossomUploadError(errorMessage, ErrorCodes.ALL_SERVERS_FAILED);\n}\nasync function findHashInNostr(ndk, hash) {\n  logger$1.debug(`Searching for hash ${hash} in nostr events`);\n  const filter = {\n    \"#x\": [hash],\n    limit: 10\n  };\n  try {\n    const events = await ndk.fetchEvents(filter);\n    if (events.size === 0) {\n      return [];\n    }\n    const foundUrls = /* @__PURE__ */ new Set();\n    for (const event of events) {\n      for (const tag of event.tags) {\n        if (tag[0] === \"imeta\") {\n          const imetaTag = mapImetaTag(tag);\n          if (imetaTag.url && imetaTag.x === hash) {\n            foundUrls.add(imetaTag.url);\n          }\n        }\n        if (tag[0] === \"url\" && tag[1]) {\n          const urlHash = extractHashFromUrl(tag[1]);\n          if (urlHash === hash) {\n            foundUrls.add(tag[1]);\n          }\n        }\n      }\n    }\n    return Array.from(foundUrls);\n  } catch (error) {\n    logger$1.error(`Error searching for hash in nostr:`, error);\n    return [];\n  }\n}\nconst logger = new DebugLogger(\"ndk:blossom:url-healing\");\nfunction extractHashFromUrl(url) {\n  try {\n    const urlObj = new URL(url);\n    const pathname = urlObj.pathname;\n    const parts = pathname.split(\"/\");\n    const lastPart = parts[parts.length - 1];\n    const hash = lastPart.includes(\".\") ? lastPart.split(\".\")[0] : lastPart;\n    if (/^[a-f0-9]{64}$/i.test(hash)) {\n      return hash;\n    }\n    return void 0;\n  } catch (error) {\n    logger.error(`Error extracting hash from URL ${url}:`, error);\n    return void 0;\n  }\n}\nasync function tryUrls(urls, skipUrl) {\n  if (urls.length === 0)\n    return void 0;\n  const filteredUrls = skipUrl ? urls.filter((url) => url !== skipUrl) : urls;\n  if (filteredUrls.length === 0)\n    return void 0;\n  for (const url of filteredUrls) {\n    try {\n      const exists = await checkBlobExists(url, \"\");\n      if (exists) {\n        logger.debug(`Found working URL: ${url}`);\n        return url;\n      }\n    } catch (error) {\n      logger.debug(`URL check failed for ${url}:`, error);\n    }\n  }\n  logger.debug(`No working URLs found, returning first URL: ${filteredUrls[0]}`);\n  return filteredUrls[0];\n}\nasync function fixUrl(ndk, user, url) {\n  logger.debug(`Fixing URL: ${url}`);\n  const hash = extractHashFromUrl(url);\n  if (!hash) {\n    logger.debug(`Invalid URL, no hash found: ${url}`);\n    return url;\n  }\n  try {\n    const exists = await checkBlobExists(url, \"\");\n    if (exists) {\n      logger.debug(`Original URL works, no need to fix: ${url}`);\n      return url;\n    }\n  } catch (error) {\n    logger.debug(`Original URL check failed: ${error}`);\n  }\n  try {\n    const filter = { kinds: [NDKKind.BlossomList], authors: [user.pubkey] };\n    const event = await ndk.fetchEvent(filter);\n    let serverUrls = [];\n    if (event) {\n      const wrappedEvent = wrapEvent(event);\n      serverUrls = wrappedEvent.servers;\n    }\n    if (serverUrls.length === 0) {\n      logger.debug(`No servers found for user ${user.pubkey}`);\n      const nostrUrls2 = await findHashInNostr(ndk, hash);\n      const workingUrl2 = await tryUrls(nostrUrls2, url);\n      if (workingUrl2) {\n        return workingUrl2;\n      }\n      return url;\n    }\n    for (const serverUrl of serverUrls) {\n      try {\n        const baseUrl = serverUrl.endsWith(\"/\") ? serverUrl.slice(0, -1) : serverUrl;\n        const newUrl = `${baseUrl}/${hash}`;\n        const exists = await checkBlobExists(serverUrl, hash);\n        if (exists) {\n          logger.debug(`Found alternative server: ${newUrl}`);\n          return newUrl;\n        }\n      } catch (error) {\n        logger.debug(`Server check failed for ${serverUrl}:`, error);\n      }\n    }\n    const nostrUrls = await findHashInNostr(ndk, hash);\n    const workingUrl = await tryUrls(nostrUrls, url);\n    if (workingUrl) {\n      return workingUrl;\n    }\n    logger.debug(`Could not fix URL: ${url}`);\n    return url;\n  } catch (error) {\n    logger.debug(`Error fixing URL: ${error}`);\n    return url;\n  }\n}\nasync function getBlobUrlByHash(ndk, user, hash) {\n  logger.debug(`Getting blob URL for hash: ${hash}`);\n  try {\n    const filter = { kinds: [NDKKind.BlossomList], authors: [user.pubkey] };\n    const event = await ndk.fetchEvent(filter);\n    let serverUrls = [];\n    if (event) {\n      serverUrls = event.tags.filter((tag) => tag[0] === \"server\" && tag[1]).map((tag) => tag[1]);\n    }\n    if (serverUrls.length === 0) {\n      logger.debug(`No servers found for user ${user.pubkey}`);\n      const nostrUrls = await findHashInNostr(ndk, hash);\n      const workingUrl = await tryUrls(nostrUrls);\n      if (workingUrl) {\n        return workingUrl;\n      }\n      throw new NDKBlossomNotFoundError(`No servers found for user ${user.pubkey}`, ErrorCodes.USER_SERVER_LIST_NOT_FOUND);\n    }\n    for (const serverUrl of serverUrls) {\n      try {\n        const baseUrl = serverUrl.endsWith(\"/\") ? serverUrl.slice(0, -1) : serverUrl;\n        const url = `${baseUrl}/${hash}`;\n        const exists = await checkBlobExists(serverUrl, hash);\n        if (exists) {\n          logger.debug(`Found blob on server: ${url}`);\n          return url;\n        }\n      } catch (error) {\n        logger.debug(`Server check failed for ${serverUrl}:`, error);\n      }\n    }\n    throw new NDKBlossomNotFoundError(`Blob with hash ${hash} not found on any of user's servers`, ErrorCodes.BLOB_NOT_FOUND);\n  } catch (error) {\n    if (error instanceof NDKBlossomNotFoundError) {\n      throw error;\n    }\n    const nostrUrls = await findHashInNostr(ndk, hash);\n    const workingUrl = await tryUrls(nostrUrls);\n    if (workingUrl) {\n      return workingUrl;\n    }\n    throw new NDKBlossomNotFoundError(`Failed to get blob URL: ${error.message}`, ErrorCodes.BLOB_NOT_FOUND, void 0, error);\n  }\n}\nexport {\n  CustomLogger as C,\n  DEFAULT_RETRY_OPTIONS as D,\n  NDKBlossomError as N,\n  DebugLogger as a,\n  NDKBlossomUploadError as b,\n  fetchWithRetry as c,\n  NDKBlossomNotFoundError as d,\n  NDKBlossomAuthError as e,\n  fixUrl as f,\n  getBlobUrlByHash as g,\n  checkBlobExists as h,\n  NDKBlossomOptimizationError as i,\n  auth as j,\n  uploadFile as u\n};\n"],"names":[],"mappings":"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"}