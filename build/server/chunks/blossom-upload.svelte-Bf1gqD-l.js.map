{"version":3,"file":"blossom-upload.svelte-Bf1gqD-l.js","sources":["../../../.svelte-kit/adapter-node/chunks/blossom-upload.svelte.js"],"sourcesContent":["import \"clsx\";\nclass BlossomUpload {\n  blossom;\n  #status = \"idle\";\n  #progress = null;\n  #result = null;\n  #error = null;\n  constructor(blossom) {\n    this.blossom = blossom;\n  }\n  get status() {\n    return this.#status;\n  }\n  get progress() {\n    return this.#progress;\n  }\n  get result() {\n    return this.#result;\n  }\n  get error() {\n    return this.#error;\n  }\n  get state() {\n    return {\n      status: this.#status,\n      progress: this.#progress,\n      result: this.#result,\n      error: this.#error\n    };\n  }\n  async upload(file, options) {\n    this.#status = \"uploading\";\n    this.#progress = { loaded: 0, total: file.size, percentage: 0 };\n    this.#result = null;\n    this.#error = null;\n    try {\n      const mergedOptions = {\n        ...options,\n        onProgress: (progress) => {\n          const percentage = Math.round(progress.loaded / progress.total * 100);\n          this.#progress = { loaded: progress.loaded, total: progress.total, percentage };\n          return \"continue\";\n        }\n      };\n      const result = await this.blossom.upload(file, mergedOptions);\n      this.#status = \"success\";\n      this.#result = result;\n      return result;\n    } catch (error) {\n      this.#status = \"error\";\n      this.#error = error instanceof Error ? error : new Error(String(error));\n      throw error;\n    }\n  }\n  reset() {\n    this.#status = \"idle\";\n    this.#progress = null;\n    this.#result = null;\n    this.#error = null;\n  }\n}\nfunction createBlossomUpload(blossom) {\n  return new BlossomUpload(blossom);\n}\nexport {\n  createBlossomUpload as c\n};\n"],"names":[],"mappings":";;AACA,MAAM,aAAa,CAAC;AACpB,EAAE,OAAO;AACT,EAAE,OAAO,GAAG,MAAM;AAClB,EAAE,SAAS,GAAG,IAAI;AAClB,EAAE,OAAO,GAAG,IAAI;AAChB,EAAE,MAAM,GAAG,IAAI;AACf,EAAE,WAAW,CAAC,OAAO,EAAE;AACvB,IAAI,IAAI,CAAC,OAAO,GAAG,OAAO;AAC1B,EAAE;AACF,EAAE,IAAI,MAAM,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO;AACvB,EAAE;AACF,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,OAAO,IAAI,CAAC,SAAS;AACzB,EAAE;AACF,EAAE,IAAI,MAAM,GAAG;AACf,IAAI,OAAO,IAAI,CAAC,OAAO;AACvB,EAAE;AACF,EAAE,IAAI,KAAK,GAAG;AACd,IAAI,OAAO,IAAI,CAAC,MAAM;AACtB,EAAE;AACF,EAAE,IAAI,KAAK,GAAG;AACd,IAAI,OAAO;AACX,MAAM,MAAM,EAAE,IAAI,CAAC,OAAO;AAC1B,MAAM,QAAQ,EAAE,IAAI,CAAC,SAAS;AAC9B,MAAM,MAAM,EAAE,IAAI,CAAC,OAAO;AAC1B,MAAM,KAAK,EAAE,IAAI,CAAC;AAClB,KAAK;AACL,EAAE;AACF,EAAE,MAAM,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE;AAC9B,IAAI,IAAI,CAAC,OAAO,GAAG,WAAW;AAC9B,IAAI,IAAI,CAAC,SAAS,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,CAAC,EAAE;AACnE,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI;AACtB,IAAI,IAAI;AACR,MAAM,MAAM,aAAa,GAAG;AAC5B,QAAQ,GAAG,OAAO;AAClB,QAAQ,UAAU,EAAE,CAAC,QAAQ,KAAK;AAClC,UAAU,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;AAC/E,UAAU,IAAI,CAAC,SAAS,GAAG,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,UAAU,EAAE;AACzF,UAAU,OAAO,UAAU;AAC3B,QAAQ;AACR,OAAO;AACP,MAAM,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,aAAa,CAAC;AACnE,MAAM,IAAI,CAAC,OAAO,GAAG,SAAS;AAC9B,MAAM,IAAI,CAAC,OAAO,GAAG,MAAM;AAC3B,MAAM,OAAO,MAAM;AACnB,IAAI,CAAC,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,IAAI,CAAC,OAAO,GAAG,OAAO;AAC5B,MAAM,IAAI,CAAC,MAAM,GAAG,KAAK,YAAY,KAAK,GAAG,KAAK,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC7E,MAAM,MAAM,KAAK;AACjB,IAAI;AACJ,EAAE;AACF,EAAE,KAAK,GAAG;AACV,IAAI,IAAI,CAAC,OAAO,GAAG,MAAM;AACzB,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI;AACvB,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI;AACtB,EAAE;AACF;AACA,SAAS,mBAAmB,CAAC,OAAO,EAAE;AACtC,EAAE,OAAO,IAAI,aAAa,CAAC,OAAO,CAAC;AACnC;;;;"}