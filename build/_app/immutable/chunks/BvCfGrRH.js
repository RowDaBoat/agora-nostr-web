import{c as rt,a as o,f as m,s as C,j as ot,d as vt,t as F}from"./CiPFrJr-.js";import{p as at,f as V,c as st,e as d,g as r,u as S,d as v,r as s,t as M,a as dt,b as Z,s as z,y as T}from"./CSbKtK4P.js";import{p as ct,i as P,b as O}from"./87vUJtvC.js";import{h as $,e as ut}from"./D0X4VYcq.js";import{t as tt}from"./B0fEDaa-.js";import{D as ft,a as _t,B as et,b as pt}from"./DFMKmhYe.js";import{D as mt}from"./C8b5RDJU.js";import{D as xt}from"./Do6nhxsB.js";var gt=m('<img class="w-3 h-3 rounded"/>'),ht=ot('<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg>'),bt=m('<div class="invisible group-hover:visible absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-card border border-border rounded-lg shadow-xl z-50 w-64 text-xs"><div class="font-semibold text-foreground mb-1"> </div> <div class="text-muted-foreground"> </div> <div class="text-muted-foreground mt-1 break-all"> </div></div>'),yt=m('<div class="flex items-center gap-1.5 px-2 py-1 bg-muted/50 rounded text-xs text-muted-foreground group relative"><!> <span class="truncate max-w-[120px]"> </span> <!></div>'),wt=m('<img class="w-5 h-5 rounded flex-shrink-0"/>'),kt=ot('<svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path></svg>'),Ct=m('<div class="text-xs text-muted-foreground truncate"> </div>'),Mt=m('<div class="flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg text-sm text-muted-foreground hover:bg-muted transition-colors"><!> <div class="flex-1 min-w-0"><div class="font-medium text-foreground truncate"> </div> <!></div></div>');function Dt(_,t){at(t,!0);const c=ct(t,"variant",3,"default"),u=S(()=>t.relay.connectivity.nip11),x=S(()=>r(u)?.name||new URL(t.relay.url).hostname),D=S(()=>r(u)?.icon),k=S(()=>r(u)?.description);var B=rt(),J=V(B);{var U=n=>{var i=yt(),f=d(i);{var R=l=>{var e=gt();M(()=>{$(e,"src",r(D)),$(e,"alt",r(x))}),o(l,e)},b=l=>{var e=ht();o(l,e)};P(f,l=>{r(D)?l(R):l(b,!1)})}var p=v(f,2),y=d(p,!0);s(p);var E=v(p,2);{var w=l=>{var e=bt(),a=d(e),g=d(a,!0);s(a);var h=v(a,2),I=d(h,!0);s(h);var j=v(h,2),A=d(j,!0);s(j),s(e),M(()=>{C(g,r(x)),C(I,r(k)),C(A,t.relay.url)}),o(l,e)};P(E,l=>{r(k)&&l(w)})}s(i),M(()=>C(y,r(x))),o(n,i)},q=n=>{var i=Mt(),f=d(i);{var R=e=>{var a=wt();M(()=>{$(a,"src",r(D)),$(a,"alt",r(x))}),o(e,a)},b=e=>{var a=kt();o(e,a)};P(f,e=>{r(D)?e(R):e(b,!1)})}var p=v(f,2),y=d(p),E=d(y,!0);s(y);var w=v(y,2);{var l=e=>{var a=Ct(),g=d(a,!0);s(a),M(()=>C(g,r(k))),o(e,a)};P(w,e=>{r(k)&&e(l)})}s(p),s(i),M(()=>C(E,r(x))),o(n,i)};P(J,n=>{c()==="compact"?n(U):n(q,!1)})}o(_,B),st()}function Rt(_,t,c){const u=t.event.author.nprofile;c(u,"author nprofile")}function Et(_,t,c){const u=t.event.encode();c(u,"event ID")}function Pt(_,t,c){const u=t.event.inspect;c(u,"raw event")}function zt(_,t,c){z(t,!1),z(c,!0)}var Bt=(_,t)=>{_.stopPropagation(),z(t,!r(t))},It=_=>_.stopPropagation(),jt=m('<div class="border-t border-border mt-1 pt-1"><div class="px-4 py-2 text-xs text-muted-foreground font-medium"> </div> <div class="px-2 pb-2 space-y-1"></div></div>'),Nt=m('<div class="absolute right-0 mt-1 w-72 bg-popover border border-border rounded-lg shadow-lg z-10 max-h-96 overflow-y-auto"><button class="w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted transition-colors first:rounded-t-lg" type="button">Copy author (nprofile)</button> <button class="w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted transition-colors" type="button">Copy ID (nevent)</button> <button class="w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted transition-colors" type="button">Copy raw event</button> <button class="w-full px-4 py-2 text-left text-sm text-foreground hover:bg-muted transition-colors" type="button">View raw event</button> <!></div>'),Lt=m("<!> <!>",1),Ot=m('<!> <div class="flex-1 overflow-auto bg-muted/50 rounded-lg p-4 font-mono text-sm"><pre class="whitespace-pre-wrap break-words"> </pre></div> <div class="flex justify-end gap-2 pt-4"><!> <!></div>',1),Vt=m('<div class="relative flex-shrink-0"><button class="p-1 hover:bg-muted rounded-full transition-colors" type="button" aria-label="More options"><svg class="w-5 h-5 text-muted-foreground" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg></button> <!></div> <!>',1);function Ht(_,t){at(t,!0);let c=Z(!1),u=Z(!1);async function x(n,i){try{await navigator.clipboard.writeText(n),tt.success(`Copied ${i}`)}catch(f){console.error("Failed to copy:",f),tt.error(`Failed to copy ${i}`)}z(c,!1)}dt(()=>{if(!r(c))return;const n=()=>{z(c,!1)};return document.addEventListener("click",n),()=>document.removeEventListener("click",n)});var D=Vt(),k=V(D),B=d(k);B.__click=[Bt,c];var J=v(B,2);{var U=n=>{var i=Nt();i.__click=[It];var f=d(i);f.__click=[Rt,t,x];var R=v(f,2);R.__click=[Et,t,x];var b=v(R,2);b.__click=[Pt,t,x];var p=v(b,2);p.__click=[zt,c,u];var y=v(p,2);{var E=w=>{var l=jt(),e=d(l),a=d(e);s(e);var g=v(e,2);ut(g,21,()=>Array.from(t.event.onRelays),h=>h.url,(h,I)=>{Dt(h,{get relay(){return r(I)},variant:"compact"})}),s(g),s(l),M(()=>C(a,`Seen on ${t.event.onRelays.size??""} relay${t.event.onRelays.size===1?"":"s"}`)),o(w,l)};P(y,w=>{t.event.onRelays&&t.event.onRelays.size>0&&w(E)})}s(i),o(n,i)};P(J,n=>{r(c)&&n(U)})}s(k);var q=v(k,2);O(q,()=>pt,(n,i)=>{i(n,{get open(){return r(u)},set open(f){z(u,f,!0)},children:(f,R)=>{var b=rt(),p=V(b);O(p,()=>ft,(y,E)=>{E(y,{class:"max-w-4xl w-full max-h-[80vh] overflow-hidden flex flex-col",children:(w,l)=>{var e=Ot(),a=V(e);O(a,()=>mt,(N,G)=>{G(N,{children:(L,At)=>{var X=Lt(),Y=V(X);O(Y,()=>_t,(H,K)=>{K(H,{children:(Q,lt)=>{T();var W=F("Raw Event");o(Q,W)},$$slots:{default:!0}})});var it=v(Y,2);O(it,()=>xt,(H,K)=>{K(H,{children:(Q,lt)=>{T();var W=F("JSON representation of this Nostr event");o(Q,W)},$$slots:{default:!0}})}),o(L,X)},$$slots:{default:!0}})});var g=v(a,2),h=d(g),I=d(h,!0);s(h),s(g);var j=v(g,2),A=d(j);et(A,{variant:"outline",onclick:()=>x(t.event.inspect,"raw event"),children:(N,G)=>{T();var L=F("Copy to Clipboard");o(N,L)},$$slots:{default:!0}});var nt=v(A,2);et(nt,{onclick:()=>z(u,!1),children:(N,G)=>{T();var L=F("Close");o(N,L)},$$slots:{default:!0}}),s(j),M(()=>C(I,t.event.inspect)),o(w,e)},$$slots:{default:!0}})}),o(f,b)},$$slots:{default:!0}})}),o(_,D),st()}vt(["click"]);export{Ht as E};
