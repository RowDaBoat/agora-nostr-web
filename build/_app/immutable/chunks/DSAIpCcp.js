import{c as K,a as l,f as P,d as le,s as ie,i as Me}from"./DNmf0A2m.js";import{aJ as W,p as ae,aN as Ce,f as L,c as oe,g as n,b as q,e as _,r as g,u as ue,s as E,a as ne,d as p,t as D,ax as Ae,y as Ee}from"./DpkVnRja.js";import{i as T}from"./Btb_Ey2R.js";import{s as ve}from"./CszMzaRi.js";import{d as Re,a as $,e as se,c as Q}from"./Ci0hv7jC.js";import{p as M,r as De}from"./f_qAQkK6.js";import{c as ge,C as He,E as Fe}from"./DHn-jlDO.js";import{c as re,U as te,r as Be}from"./BYRURnlO.js";import{c as G}from"./CSx53_lc.js";import{k as Ye}from"./MZ4igXhu.js";import{b as Ve}from"./-Mgh5RB7.js";import{e as Xe}from"./DD8s4tVe.js";import{N as Oe}from"./QTLWRGLp.js";import{S as Ne}from"./FBAAKbhk.js";import{T as Te}from"./C75qor0g.js";const fe=Symbol.for("event-card"),qe="ndk";function Pe(y){if(y)return y;const e=W(qe);if(!e)throw new Error("NDK not found. Either provide an `ndk` prop or ensure NDK is set in context via setContext('ndk', ndk) in a parent component.");return e}var Je=P("<button><!></button>"),Ze=P("<article><!></article>");function Ge(y,e){ae(e,!0);let b=M(e,"class",3,""),f=De(e,["$$slots","$$events","$$legacy","ndk","event","onclick","onUserClick","onEventClick","onHashtagClick","onLinkClick","onMediaClick","class","children"]);const o=Pe(e.ndk);Ce(fe,{get ndk(){return o},get event(){return e.event},get interactive(){return!!e.onclick}}),Ce(ge,{get onUserClick(){return e.onUserClick},get onEventClick(){return e.onEventClick},get onHashtagClick(){return e.onHashtagClick},get onLinkClick(){return e.onLinkClick},get onMediaClick(){return e.onMediaClick}});const m=q(()=>!!e.onclick);var u=K(),c=L(u);{var h=i=>{var r=Je();Re(r,x=>({"data-event-card-root":"","data-interactive":"",class:x,onclick:e.onclick,type:"button",...f}),[()=>re("relative flex flex-col gap-2 cursor-pointer w-full text-left bg-transparent border-0 p-0",b())]);var s=_(r);{var a=x=>{var k=K(),I=L(k);ve(I,()=>e.children),l(x,k)};T(s,x=>{e.children&&x(a)})}g(r),l(i,r)},w=i=>{var r=Ze();Re(r,x=>({"data-event-card-root":"",class:x,...f}),[()=>re("relative flex flex-col gap-2",b())]);var s=_(r);{var a=x=>{var k=K(),I=L(k);ve(I,()=>e.children),l(x,k)};T(s,x=>{e.children&&x(a)})}g(r),l(i,r)};T(c,i=>{n(m)?i(h):i(w,!1)})}l(y,u),oe()}var Qe=P('<button type="button" class="font-medium no-underline bg-transparent border-none p-0 cursor-pointer hover:underline">@<!></button>'),We=P('<span class="font-medium">@<!></span>'),$e=P("<div><span>Replying to</span> <!></div>"),et=P("<div><span>Replying to event</span></div>");function tt(y,e){ae(e,!0);let b=M(e,"class",3,"");const f=Pe(e.ndk),o=W(ge),t=q(()=>e.onclick??o?.onEventClick);let d=ne(null),m=ne(!0);const u=q(()=>{const i=e.event.tags.find(a=>a[0]==="e"&&a[3]==="reply");if(i)return i;const r=e.event.tags.find(a=>a[0]==="e"&&a[3]==="root");if(r)return r;const s=e.event.tags.filter(a=>a[0]==="e");if(s.length===1)return s[0]});ue(()=>{E(m,!0),E(d,null),n(u)?f.fetchEventFromTag(n(u),e.event).then(i=>{i?(E(d,i,!0),E(m,!1)):E(m,!1)}).catch(()=>{E(m,!1)}):E(m,!1)});var c=K(),h=L(c);{var w=i=>{var r=K(),s=L(r);{var a=k=>{var I=K(),j=L(I);ve(j,()=>e.children,()=>({event:n(d),loading:n(m)})),l(k,I)},x=k=>{var I=K(),j=L(I);{var X=S=>{var U=$e(),Y=p(_(U),2);G(Y,()=>te.Root,(J,Z)=>{Z(J,{get ndk(){return f},get user(){return n(d).author},children:(O,R)=>{var A=K(),H=L(A);{var V=C=>{var z=Qe();z.__click=()=>{n(d)&&n(t)(n(d))};var ee=p(_(z));G(ee,()=>te.Name,(N,B)=>{B(N,{class:"inline",field:"name"})}),g(z),l(C,z)},F=C=>{var z=We(),ee=p(_(z));G(ee,()=>te.Name,(N,B)=>{B(N,{class:"inline",field:"name"})}),g(z),l(C,z)};T(H,C=>{n(t)?C(V):C(F,!1)})}l(O,A)},$$slots:{default:!0}})}),g(U),D(()=>$(U,1,`flex items-center gap-1 text-sm text-muted-foreground ${b()??""}`)),l(S,U)},v=S=>{var U=K(),Y=L(U);{var J=Z=>{var O=et();D(()=>$(O,1,`flex items-center gap-1 text-sm text-muted-foreground ${b()??""}`)),l(Z,O)};T(Y,Z=>{n(m)||Z(J)},!0)}l(S,U)};T(j,S=>{n(d)?S(X):S(v,!1)},!0)}l(k,I)};T(s,k=>{e.children?k(a):k(x,!1)})}l(i,r)};T(h,i=>{n(u)&&i(w)})}l(y,c),oe()}le(["click"]);function nt(y){let e=ne(0);const b=q(()=>{if(n(e),!y)return"";const f=new Date(y*1e3),t=new Date().getTime()-f.getTime(),d=Math.floor(t/(1e3*60*60));if(d<1){const m=Math.floor(t/6e4);return m<1?"now":`${m}m`}else return d<24?`${d}h`:d<168?`${Math.floor(d/24)}d`:f.toLocaleDateString()});return ue(()=>{const f=setInterval(()=>{Ae(e)},6e4);return()=>clearInterval(f)}),n(b)}var rt=P("<time> </time>");function at(y,e){ae(e,!0);let b=M(e,"class",3,"");const f=nt(e.event.created_at),o=q(()=>e.event.created_at?new Date(e.event.created_at*1e3).toISOString():void 0);var t=rt(),d=_(t,!0);g(t),D(m=>{Q(t,"datetime",n(o)),$(t,1,m),ie(d,f)},[()=>se(re(b()))]),l(y,t),oe()}const Ie={ReplyIndicator:tt,Time:at};var ot=P('<div class="flex flex-col"><!> <!></div>'),it=P('<div class="flex items-center gap-2 min-w-0"><!></div>'),st=P('<div><!> <div class="flex-1 min-w-0"><!></div></div>'),lt=P('<header data-event-card-header=""><!> <div class="flex items-center gap-3"><!> <!></div></header>');function ct(y,e){ae(e,!0);let b=M(e,"variant",3,"full"),f=M(e,"showAvatar",3,!0),o=M(e,"showTimestamp",3,!0),t=M(e,"avatarSize",3,"md"),d=M(e,"class",3,"");const m=W(fe);if(!m)throw new Error("EventCard.Header must be used within EventCard.Root");const u=W(ge);function c(k){u?.onUserClick&&(k.stopPropagation(),u.onUserClick(m.event.pubkey))}var h=lt(),w=_(h);G(w,()=>te.Root,(k,I)=>{I(k,{get ndk(){return m.ndk},get user(){return m.event.author},children:(j,X)=>{var v=st();v.__click=c,v.__keydown=R=>{(R.key==="Enter"||R.key===" ")&&c(R)};var S=_(v);{var U=R=>{var A=K(),H=L(A);{let V=q(()=>re("flex-shrink-0",t()==="xs"?"w-4 h-4":t()=="sm"?"w-6 h-6":t()==="md"?"w-10 h-10":"w-12 h-12"));G(H,()=>te.Avatar,(F,C)=>{C(F,{get class(){return n(V)}})})}l(R,A)};T(S,R=>{f()&&R(U)})}var Y=p(S,2),J=_(Y);{var Z=R=>{var A=ot(),H=_(A);G(H,()=>te.Name,(F,C)=>{C(F,{field:"displayName",class:"font-semibold text-[15px] text-foreground truncate"})});var V=p(H,2);G(V,()=>te.Nip05,(F,C)=>{C(F,{class:"text-sm text-muted-foreground truncate"})}),g(A),l(R,A)},O=R=>{var A=K(),H=L(A);{var V=C=>{var z=it(),ee=_(z);G(ee,()=>te.Name,(N,B)=>{B(N,{field:"displayName",class:"font-semibold text-[15px] text-foreground truncate"})}),g(z),l(C,z)},F=C=>{var z=K(),ee=L(z);G(ee,()=>te.Name,(N,B)=>{B(N,{field:"displayName",class:"font-semibold text-[15px] text-foreground truncate"})}),l(C,z)};T(H,C=>{b()==="compact"?C(V):C(F,!1)},!0)}l(R,A)};T(J,R=>{b()==="full"?R(Z):R(O,!1)})}g(Y),g(v),D(R=>{$(v,1,R),Q(v,"role",u?.onUserClick?"button":"presentation"),Q(v,"tabindex",u?.onUserClick?0:void 0)},[()=>se(re("flex items-center gap-3 flex-1 min-w-0",u?.onUserClick&&"cursor-pointer"))]),l(j,v)},$$slots:{default:!0}})});var i=p(w,2),r=_(i);{var s=k=>{var I=K(),j=L(I);G(j,()=>Ie.Time,(X,v)=>{v(X,{get event(){return m.event},class:"text-sm text-muted-foreground/70"})}),l(k,I)};T(r,k=>{o()&&m.event.created_at&&k(s)})}var a=p(r,2);{var x=k=>{var I=K(),j=L(I);ve(j,()=>e.children),l(k,I)};T(a,k=>{e.children&&k(x)})}g(i),g(h),D(k=>{Q(h,"data-variant",b()),$(h,1,k)},[()=>se(re("flex items-center gap-3",d()))]),l(y,h),oe()}le(["click","keydown"]);function dt(y,e){ae(e,!0);let b=M(e,"class",3,"");const f=W(fe);if(!f)throw new Error("EventCard.ReplyIndicator must be used within EventCard.Root");const o=W(ge),t=q(()=>e.onclick??o?.onEventClick);var d=K(),m=L(d);G(m,()=>Ie.ReplyIndicator,(u,c)=>{c(u,{get ndk(){return f.ndk},get event(){return f.event},get class(){return b()},get onclick(){return n(t)},get children(){return e.children}})}),l(y,d),oe()}var vt=P('<button class="mt-2 text-sm cursor-pointer bg-transparent border-none p-0" type="button"> </button>'),ut=P('<div data-event-card-content="" class="relative"><div><!></div> <!></div>');function ft(y,e){ae(e,!0),M(e,"showMedia",3,!0),M(e,"showLinkPreview",3,!0),M(e,"highlightMentions",3,!0);let b=M(e,"class",3,"");const f=W(fe);if(!f)throw new Error("EventCard.Content must be used within EventCard.Root");W(He);let o=ne(void 0),t=ne(!1),d=ne(!1);ue(()=>{if(!e.truncate||!n(o)){E(d,!1);return}const r=()=>{n(o)&&!n(t)&&E(d,n(o).scrollHeight>n(o).clientHeight+1)};return requestAnimationFrame(()=>{requestAnimationFrame(()=>{r()})}),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)});const m=()=>{E(t,!n(t))};var u=ut(),c=_(u),h=_(c);Ye(h,()=>f.event.id,r=>{Fe(r,{get ndk(){return f.ndk},get event(){return f.event}})}),g(c),Ve(c,r=>E(o,r),()=>n(o));var w=p(c,2);{var i=r=>{var s=vt();s.__click=m;var a=_(s,!0);g(s),D(()=>ie(a,n(t)?"Show less":"Read more")),l(r,s)};T(w,r=>{e.truncate&&(n(d)||n(t))&&r(i)})}g(u),D(r=>$(c,1,r),[()=>se(re("whitespace-pre-wrap break-words",e.truncate&&!n(t)?`line-clamp-${e.truncate}`:void 0,b()))]),l(y,u),oe()}le(["click"]);var mt=P('<div data-event-card-actions="" role="presentation"><!></div>');function gt(y,e){ae(e,!0);let b=M(e,"variant",3,"default"),f=M(e,"class",3,"");function o(u){u.stopPropagation()}var t=mt();t.__click=o,t.__keydown=u=>u.stopPropagation();var d=_(t);{var m=u=>{var c=K(),h=L(c);ve(h,()=>e.children),l(u,c)};T(d,u=>{e.children&&u(m)})}g(t),D(u=>{Q(t,"data-variant",b()),$(t,1,u)},[()=>se(re("flex items-center gap-12 select-none",b()==="vertical"&&"flex-col gap-4",f()))]),l(y,t),oe()}le(["click","keydown"]);var _t=Me('<path d="M11 5L6 9H2v6h4l5 4V5z"></path><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path><path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>',1),bt=Me('<path d="M11 5L6 9H2v6h4l5 4V5z"></path><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',1),ht=P('<div class="my-1 border-t border-border"></div> <div class="px-3 py-2 text-xs text-muted-foreground break-all"> </div>',1),xt=P('<div class="text-xs bg-muted px-2 py-1 rounded break-all"> </div>'),kt=P('<div class="my-1 border-t border-border"></div> <div class="px-3 py-2"><div class="text-xs text-muted-foreground mb-2"> </div> <div class="flex flex-col gap-1"></div></div>',1),yt=P('<div class="absolute right-0 mt-2 w-64 bg-popover border border-border rounded-lg shadow-lg z-50 py-1" role="menu" tabindex="-1"><button class="w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-accent transition-colors text-destructive" type="button"><svg class="w-4 h-4 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><!></svg> <span class="text-sm"> </span></button> <button class="w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-accent transition-colors text-yellow-600" type="button"><svg class="w-4 h-4 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> <span class="text-sm">Report</span></button> <div class="my-1 border-t border-border"></div> <button class="w-full px-3 py-2 text-left text-sm hover:bg-accent transition-colors text-foreground" type="button">Copy author (nprofile)</button> <button class="w-full px-3 py-2 text-left text-sm hover:bg-accent transition-colors text-foreground" type="button">Copy ID (nevent)</button> <button class="w-full px-3 py-2 text-left text-sm hover:bg-accent transition-colors text-foreground" type="button">View raw event</button> <!></div>'),pt=P('<div class="fixed inset-0 z-[9999] flex items-center justify-center p-4" role="dialog" aria-modal="true"><div class="absolute inset-0 bg-black/50 backdrop-blur-sm" role="button" tabindex="-1"></div> <div class="relative bg-card border border-border rounded-lg shadow-2xl max-w-3xl w-full max-h-[80vh] flex flex-col"><div class="flex items-center justify-between px-6 py-4 border-b border-border"><h3 class="text-lg font-semibold text-foreground m-0">Raw Event</h3> <button class="p-1 hover:bg-accent rounded transition-colors text-muted-foreground hover:text-foreground" aria-label="Close modal"><svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="flex-1 overflow-auto px-6 py-4"><pre class="text-sm bg-muted p-4 rounded overflow-x-auto text-foreground font-mono"> </pre></div> <div class="flex items-center justify-end gap-2 px-6 py-4 border-t border-border"><button class="px-4 py-2 bg-secondary text-secondary-foreground rounded-lg hover:bg-secondary/80 transition-colors text-sm font-medium">Copy to Clipboard</button> <button class="px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium">Close</button></div></div></div>'),wt=P('<div data-event-card-dropdown=""><button class="p-1 hover:bg-accent rounded-full transition-colors text-muted-foreground hover:text-foreground" type="button" aria-label="Open event menu"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg></button> <!></div> <!>',1);function Ct(y,e){ae(e,!0);let b=M(e,"class",3,""),f=M(e,"showRelayInfo",3,!0);const o=W(fe);if(!o)throw new Error("EventCard.Dropdown must be used within EventCard.Root");let t=ne(!1),d=ne(!1);const m=q(()=>o.event.author?o.ndk.$mutes?.has(o.event.author.pubkey)??!1:!1);async function u(v,S){try{await navigator.clipboard.writeText(v)}catch(U){console.error("Failed to copy:",U)}E(t,!1)}function c(){const v=o.event.author.nprofile;u(v)}function h(){const v=o.event.encode();u(v)}function w(){E(t,!1),E(d,!0)}async function i(){if(!(!o.ndk.$currentUser?.pubkey||!o.event.author))try{await o.ndk.$mutes?.toggle(o.event.author.pubkey),E(t,!1)}catch(v){console.error("Failed to toggle mute:",v)}}function r(){E(t,!1)}ue(()=>{if(!n(t))return;const v=()=>{E(t,!1)};return document.addEventListener("click",v),()=>document.removeEventListener("click",v)});var s=wt(),a=L(s),x=_(a);x.__click=v=>{v.stopPropagation(),E(t,!n(t))};var k=p(x,2);{var I=v=>{var S=yt();S.__click=N=>N.stopPropagation(),S.__keydown=N=>N.stopPropagation();var U=_(S);U.__click=i;var Y=_(U),J=_(Y);{var Z=N=>{var B=_t();Ee(2),l(N,B)},O=N=>{var B=bt();Ee(2),l(N,B)};T(J,N=>{n(m)?N(Z):N(O,!1)})}g(Y);var R=p(Y,2),A=_(R,!0);g(R),g(U);var H=p(U,2);H.__click=r;var V=p(H,4);V.__click=c;var F=p(V,2);F.__click=h;var C=p(F,2);C.__click=w;var z=p(C,2);{var ee=N=>{var B=K(),Le=L(B);{var Se=ce=>{var de=ht(),me=p(L(de),2),_e=_(me,!0);g(me),D(()=>ie(_e,o.event.relay.url)),l(ce,de)},Ue=ce=>{var de=K(),me=L(de);{var _e=be=>{var ye=kt(),pe=p(L(ye),2),he=_(pe),Ke=_(he);g(he);var we=p(he,2);Xe(we,21,()=>o.event.onRelays,xe=>xe.url,(xe,je)=>{var ke=xt(),ze=_(ke,!0);g(ke),D(()=>ie(ze,n(je).url)),l(xe,ke)}),g(we),g(pe),D(()=>ie(Ke,`Seen on ${o.event.onRelays.length??""} relay${o.event.onRelays.length===1?"":"s"}`)),l(be,ye)};T(me,be=>{o.event.onRelays&&o.event.onRelays.length>0&&be(_e)},!0)}l(ce,de)};T(Le,ce=>{o.event.relay?.url?ce(Se):ce(Ue,!1)})}l(N,B)};T(z,N=>{f()&&N(ee)})}g(S),D(()=>ie(A,n(m)?"Unmute":"Mute")),l(v,S)};T(k,v=>{n(t)&&v(I)})}g(a);var j=p(a,2);{var X=v=>{var S=pt(),U=_(S);U.__click=()=>E(d,!1),U.__keydown=C=>C.key==="Escape"&&E(d,!1);var Y=p(U,2),J=_(Y),Z=p(_(J),2);Z.__click=()=>E(d,!1),g(J);var O=p(J,2),R=_(O),A=_(R,!0);g(R),g(O);var H=p(O,2),V=_(H);V.__click=()=>u(o.event.inspect);var F=p(V,2);F.__click=()=>E(d,!1),g(H),g(Y),g(S),D(()=>ie(A,o.event.inspect)),l(v,S)};T(j,v=>{n(d)&&v(X)})}D(v=>{Q(a,"data-menu-open",n(t)?"":void 0),$(a,1,v)},[()=>se(re("relative flex-shrink-0",b()))]),l(y,s),oe()}le(["click","keydown"]);le(["click","keydown"]);const Yt={Root:Ge,Header:ct,ReplyIndicator:dt,Content:ft,Actions:gt,Dropdown:Ct};function Et(y,e){const b=Be(e);let f=ne(null);const o=new Ne;ue(()=>{const{event:c}=y();if(!c?.id){E(f,null);return}E(f,b.$subscribe(()=>({filters:[{kinds:[Oe.Reaction],...c.filter()}],subId:"reactions"})),!0)});const t=q(()=>{const h=n(f)?.events||[],w=new Ne;for(const i of h){const r=i.content,s=w.get(r)||{count:0,hasReacted:!1,pubkeys:[]};s.count++;const a=i.tags.find(x=>x[0]==="emoji");a&&a[1]&&a[2]&&(s.shortcode=a[1],s.url=a[2]),s.pubkeys.includes(i.pubkey)||s.pubkeys.push(i.pubkey),i.pubkey===b.$currentPubkey&&(s.hasReacted=!0,s.userReaction=i),w.set(r,s)}for(const[i,{event:r}]of o.entries()){const s=w.get(i)||{count:0,hasReacted:!1,pubkeys:[]},a=r.tags.find(x=>x[0]==="emoji");a&&a[1]&&a[2]&&(s.shortcode=a[1],s.url=a[2]),s.hasReacted||(s.count++,s.hasReacted=!0,s.pubkeys.includes(b.$currentPubkey)||s.pubkeys.push(b.$currentPubkey),s.userReaction=r),w.set(i,s)}return Array.from(w.entries()).map(([i,r])=>({emoji:i,...r})).sort((i,r)=>r.count-i.count)});async function d(c){const{event:h,delayed:w}=y();if(!h?.id)throw new Error("No event to react to");if(!b.$currentPubkey)throw new Error("User must be logged in to react");const i=typeof c=="string"?c:c.emoji,r=o.get(i);if(r){clearTimeout(r.timer),o.delete(i);return}const s=n(t).find(x=>x.emoji===i);if(s?.hasReacted&&s.userReaction){await s.userReaction.delete();return}const a=await h.react(i,!1);if(typeof c!="string"&&c.shortcode&&c.url&&a.tags.push(["emoji",c.shortcode,c.url]),w&&w>0){const x=setTimeout(async()=>{await a.publish(),o.delete(i)},w*1e3);o.set(i,{timer:x,event:a})}else await a.publish()}function m(c){return n(t).find(h=>h.emoji===c)}const u=q(()=>n(t).reduce((c,h)=>c+h.count,0));return{get all(){return n(t)},get totalCount(){return n(u)},get:m,react:d}}var Rt=P('<span class="text-sm font-medium"> </span>'),Nt=P('<button data-reaction-button=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16" color="currentColor"><path d="M10.4107 19.9677C7.58942 17.858 2 13.0348 2 8.69444C2 5.82563 4.10526 3.5 7 3.5C8.5 3.5 10 4 12 6C14 4 15.5 3.5 17 3.5C19.8947 3.5 22 5.82563 22 8.69444C22 13.0348 16.4106 17.858 13.5893 19.9677C12.6399 20.6776 11.3601 20.6776 10.4107 19.9677Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg> <!></button>');function Vt(y,e){ae(e,!0);let b=M(e,"variant",3,"ghost"),f=M(e,"emoji",3,"❤️"),o=M(e,"showCount",3,!0),t=M(e,"countMode",3,"total"),d=M(e,"class",3,"");const m=W("ndk"),u=e.ndk||m,c=Et(()=>({event:e.event}),u),h=q(()=>c?.get(f())??{count:0,hasReacted:!1,pubkeys:[],emoji:f()}),w=q(()=>t()==="total"?c.totalCount:n(h).count),i=Te({base:"inline-flex items-center gap-2 cursor-pointer font-medium text-sm transition-all rounded-md outline-none disabled:pointer-events-none disabled:opacity-50",variants:{variant:{ghost:"px-3 py-2 hover:bg-accent hover:text-accent-foreground",outline:"px-3 py-2 bg-background shadow-xs hover:bg-accent hover:text-accent-foreground border border-border",pill:"px-4 py-2 bg-background shadow-xs hover:bg-accent hover:text-accent-foreground border border-border rounded-full",solid:"px-4 py-2 bg-primary text-primary-foreground shadow-xs hover:bg-primary/90"},active:{true:"text-red-500",false:""}}}),r=Te({base:"flex-shrink-0",variants:{active:{true:"animate-[heartbeat_0.3s_ease-in-out]",false:""}}});function s(){c.react(f()),e.onclick?.()}var a=Nt();a.__click=s;var x=_(a),k=p(x,2);{var I=j=>{var X=Rt(),v=_(X,!0);g(X),D(()=>ie(v,n(w))),l(j,X)};T(k,j=>{o()&&n(w)>0&&j(I)})}g(a),D((j,X)=>{Q(a,"data-reacted",n(h).hasReacted?"":void 0),Q(a,"data-variant",b()),$(a,1,j),Q(a,"aria-label",`React (${n(w)})`),$(x,0,X),Q(x,"fill",n(h).hasReacted?"currentColor":"none")},[()=>se(i({variant:b(),active:n(h).hasReacted,class:d()})),()=>se(r({active:n(h).hasReacted}))]),l(y,a),oe()}le(["click"]);export{Yt as E,Vt as R,Et as a,nt as c,Pe as g};
